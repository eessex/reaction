{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--5-1!/Users/eve/development/reaction/src/Components/Artwork/Fillwidth.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Artwork/Fillwidth.tsx","mtime":1524249962000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1527877289000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Fillwidth = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactRelay = require(\"react-relay\");\n\nvar _reactSizeme = _interopRequireDefault(require(\"react-sizeme\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _fillwidth = _interopRequireDefault(require(\"../../Utils/fillwidth\"));\n\nvar _FillwidthItem = _interopRequireWildcard(require(\"./FillwidthItem\"));\n\nvar _lodash = require(\"lodash\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FillwidthContainer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FillwidthContainer, _React$Component);\n\n  function FillwidthContainer() {\n    _classCallCheck(this, FillwidthContainer);\n\n    return _possibleConstructorReturn(this, (FillwidthContainer.__proto__ || Object.getPrototypeOf(FillwidthContainer)).apply(this, arguments));\n  }\n\n  _createClass(FillwidthContainer, [{\n    key: \"renderArtwork\",\n    value: function renderArtwork(artwork, dimensions, i) {\n      var _props = this.props,\n          gutter = _props.gutter,\n          useRelay = _props.useRelay;\n      var artworkSize = (0, _lodash.find)(dimensions, [\"__id\", artwork.__id]);\n      var FillWidthItemBlock = useRelay ? _FillwidthItem.default : _FillwidthItem.FillwidthItem;\n      return _react.default.createElement(FillWidthItemBlock, {\n        artwork: artwork,\n        key: \"artwork--\" + artwork.__id,\n        targetHeight: artworkSize.height,\n        imageHeight: artworkSize.height,\n        width: artworkSize.width,\n        margin: i === dimensions.length - 1 ? 0 : gutter,\n        useRelay: useRelay\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var artworks = this.props.artworks.edges;\n      var dimensions = (0, _fillwidth.default)(this.props.artworks.edges, this.props.size.width, this.props.gutter, this.props.targetHeight);\n      return _react.default.createElement(\"div\", {\n        className: this.props.className\n      }, artworks.map(function (artwork, i) {\n        return _this.renderArtwork(artwork.node, dimensions, i);\n      }));\n    }\n  }]);\n\n  return FillwidthContainer;\n}(_react.default.Component);\n\nObject.defineProperty(FillwidthContainer, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    useRelay: true\n  }\n});\nvar StyledFillwidth =\n/*#__PURE__*/\n(0, _styledComponents.default)(FillwidthContainer).withConfig({\n  displayName: \"Fillwidth__StyledFillwidth\",\n  componentId: \"bm6iqn-0\"\n})([\"margin-bottom:50px;\"]);\nStyledFillwidth.defaultProps = {\n  targetHeight: 180,\n  gutter: 10\n};\nvar sizeMeOptions = {\n  monitorHeight: false,\n  refreshRate: 64,\n  refreshMode: \"debounce\"\n};\nvar Fillwidth = (0, _reactSizeme.default)(sizeMeOptions)(StyledFillwidth);\nexports.Fillwidth = Fillwidth;\n\nvar _default = (0, _reactRelay.createFragmentContainer)(Fillwidth, {\n  artworks: function artworks() {\n    var node = require(\"../../__generated__/Fillwidth_artworks.graphql\");\n\n    if (node.hash && node.hash !== \"2c137b96505cd1aae9b4750ecf6bacc7\") {\n      console.error(\"The definition of 'Fillwidth_artworks' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\");\n    }\n\n    return require(\"../../__generated__/Fillwidth_artworks.graphql\");\n  }\n});\n\nexports.default = _default;",{"version":3,"sources":["src/Components/Artwork/Fillwidth.tsx"],"names":["FillwidthContainer","artwork","dimensions","i","props","gutter","useRelay","artworkSize","__id","FillWidthItemBlock","height","width","length","artworks","edges","size","targetHeight","className","map","renderArtwork","node","Component","StyledFillwidth","defaultProps","sizeMeOptions","monitorHeight","refreshRate","refreshMode","Fillwidth"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;AACA;;AAEA;;AACA;;AAEA;;;;;;;;;;;;;;;;;;IAiBMA,kB;;;;;;;;;;;;;kCAKUC,O,EAASC,U,EAAYC,C,EAAG;AAAA,mBACP,KAAKC,KADE;AAAA,UAC5BC,MAD4B,UAC5BA,MAD4B;AAAA,UACpBC,QADoB,UACpBA,QADoB;AAEpC,UAAMC,cAAc,kBAAKL,UAAL,EAAiB,CAAC,MAAD,EAASD,QAAQO,IAAjB,CAAjB,CAApB;AACA,UAAMC,qBAAqBH,gEAA3B;AAEA,aACE,6BAAC,kBAAD;AACE,iBAASL,OADX;AAEE,aAAK,cAAcA,QAAQO,IAF7B;AAGE,sBAAcD,YAAYG,MAH5B;AAIE,qBAAaH,YAAYG,MAJ3B;AAKE,eAAOH,YAAYI,KALrB;AAME,gBAAQR,MAAMD,WAAWU,MAAX,GAAoB,CAA1B,GAA8B,CAA9B,GAAkCP,MAN5C;AAOE,kBAAUC;AAPZ,QADF;AAWD;;;6BAEQ;AAAA;;AACP,UAAMO,WAAW,KAAKT,KAAL,CAAWS,QAAX,CAAoBC,KAArC;AACA,UAAMZ,aAAa,wBACjB,KAAKE,KAAL,CAAWS,QAAX,CAAoBC,KADH,EAEjB,KAAKV,KAAL,CAAWW,IAAX,CAAgBJ,KAFC,EAGjB,KAAKP,KAAL,CAAWC,MAHM,EAIjB,KAAKD,KAAL,CAAWY,YAJM,CAAnB;AAMA,aACE;AAAK,mBAAW,KAAKZ,KAAL,CAAWa;AAA3B,SACGJ,SAASK,GAAT,CAAa,UAACjB,OAAD,EAAUE,CAAV;AAAA,eACZ,MAAKgB,aAAL,CAAmBlB,QAAQmB,IAA3B,EAAiClB,UAAjC,EAA6CC,CAA7C,CADY;AAAA,OAAb,CADH,CADF;AAOD;;;;EAtC8B,eAAMkB,S;;sBAAjCrB,kB;;;;SACyC;AAC3CM,cAAU;AADiC;;AAwC/C,IAAMgB;AAAA;AAAkB,+BAAOtB,kBAAP,CAAlB;AAAA;AAAA;AAAA,2BAAN;AAIAsB,gBAAgBC,YAAhB,GAA+B;AAC7BP,gBAAc,GADe;AAE7BX,UAAQ;AAFqB,CAA/B;AAKA,IAAMmB,gBAAgB;AACpBC,iBAAe,KADK;AAEpBC,eAAa,EAFO;AAGpBC,eAAa;AAHO,CAAtB;AAMO,IAAMC,YAAY,0BAAOJ,aAAP,EACvBF,eADuB,CAAlB;;;eAIQ,yCACbM,SADa;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,E","file":"/Users/eve/development/reaction/src/Components/Artwork/Fillwidth.tsx","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import React from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\n\nimport sizeMe from \"react-sizeme\"\nimport styled from \"styled-components\"\n\nimport fillwidthDimensions from \"../../Utils/fillwidth\"\nimport RelayFillwidthItem, { FillwidthItem } from \"./FillwidthItem\"\n\nimport { find } from \"lodash\"\n\ninterface RelayProps {\n  artworks: {\n    edges: Array<{\n      node: any\n    } | null> | null\n  }\n}\n\ninterface Props extends RelayProps, React.HTMLAttributes<FillwidthContainer> {\n  targetHeight?: number\n  gutter?: number\n  size?: any\n  useRelay?: boolean\n}\n\nclass FillwidthContainer extends React.Component<Props, null> {\n  public static defaultProps: Partial<Props> = {\n    useRelay: true,\n  }\n\n  renderArtwork(artwork, dimensions, i) {\n    const { gutter, useRelay } = this.props\n    const artworkSize = find(dimensions, [\"__id\", artwork.__id])\n    const FillWidthItemBlock = useRelay ? RelayFillwidthItem : FillwidthItem\n\n    return (\n      <FillWidthItemBlock\n        artwork={artwork as any}\n        key={\"artwork--\" + artwork.__id}\n        targetHeight={artworkSize.height}\n        imageHeight={artworkSize.height}\n        width={artworkSize.width}\n        margin={i === dimensions.length - 1 ? 0 : gutter}\n        useRelay={useRelay}\n      />\n    )\n  }\n\n  render() {\n    const artworks = this.props.artworks.edges\n    const dimensions = fillwidthDimensions(\n      this.props.artworks.edges,\n      this.props.size.width,\n      this.props.gutter,\n      this.props.targetHeight\n    )\n    return (\n      <div className={this.props.className}>\n        {artworks.map((artwork, i) =>\n          this.renderArtwork(artwork.node, dimensions, i)\n        )}\n      </div>\n    )\n  }\n}\n\nconst StyledFillwidth = styled(FillwidthContainer)`\n  margin-bottom: 50px;\n`\n\nStyledFillwidth.defaultProps = {\n  targetHeight: 180,\n  gutter: 10,\n}\n\nconst sizeMeOptions = {\n  monitorHeight: false,\n  refreshRate: 64,\n  refreshMode: \"debounce\",\n}\n\nexport const Fillwidth = sizeMe(sizeMeOptions)(\n  StyledFillwidth\n) as React.StatelessComponent<Props>\n\nexport default createFragmentContainer(\n  Fillwidth,\n  graphql`\n    fragment Fillwidth_artworks on ArtworkConnection {\n      edges {\n        node {\n          __id\n          image {\n            aspect_ratio\n          }\n          ...FillwidthItem_artwork\n        }\n      }\n    }\n  `\n)\n"]}]}