{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--5-1!/Users/eve/development/reaction/src/Components/Publishing/Sections/ImageSetPreview.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/Sections/ImageSetPreview.tsx","mtime":1524678459000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1527877289000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ImageSetPreview = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _resizer = require(\"../../../Utils/resizer\");\n\nvar _Helpers = require(\"../../Helpers\");\n\nvar _Fonts = require(\"../../../Assets/Fonts\");\n\nvar _IconImageSet = require(\"../Icon/IconImageSet\");\n\nvar _withFullScreen = require(\"../Sections/FullscreenViewer/withFullScreen\");\n\nvar _class;\n\nvar _templateObject = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n    display: none;\\n  \"], [\"\\n    display: none;\\n  \"]),\n    _templateObject2 = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  height: \", \";\\n\"], [\"\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  height: \", \";\\n\"]),\n    _templateObject3 = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n    \", \"\\n  \"], [\"\\n    \", \"\\n  \"]);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nvar div = _styledComponents.default.div;\n\nvar ImageSetPreview = (0, _withFullScreen.withFullScreen)(_class =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(ImageSetPreview, _React$PureComponent);\n\n  function ImageSetPreview() {\n    var _ref;\n\n    var _temp, _this;\n\n    _classCallCheck(this, ImageSetPreview);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _possibleConstructorReturn(_this, (_temp = _this = _possibleConstructorReturn(this, (_ref = ImageSetPreview.__proto__ || Object.getPrototypeOf(ImageSetPreview)).call.apply(_ref, [this].concat(args))), Object.defineProperty(_assertThisInitialized(_this), \"onClick\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value() {\n        _this.props.onViewFullscreen(_this.props.section.images[0].index);\n      }\n    }), _temp));\n  }\n\n  _createClass(ImageSetPreview, [{\n    key: \"getImageUrl\",\n    value: function getImageUrl() {\n      var image = this.props.section.images[0];\n      var src = image.url ? image.url : image.image;\n      return (0, _resizer.resize)(src, {\n        width: 1200\n      });\n    }\n  }, {\n    key: \"image\",\n    value: function image() {\n      var src = this.getImageUrl();\n      var width = this.props.section.layout === \"full\" ? \"100%\" : \"auto\";\n      var height = this.props.section.layout === \"full\" ? \"auto\" : \"100%\";\n      var imageProps = {\n        src: src,\n        height: height,\n        width: width,\n        alt: this.props.section.title || \"Open Slideshow\"\n      };\n      return _react.default.createElement(\"img\", imageProps);\n    }\n  }, {\n    key: \"wrapper\",\n    value: function wrapper() {\n      if (this.props.section.layout === \"full\") {\n        return _react.default.createElement(FullWrapper, {\n          onClick: this.onClick\n        }, this.textSection(), this.icon());\n      } else {\n        return _react.default.createElement(MiniWrapper, {\n          onClick: this.onClick\n        }, this.image(), _react.default.createElement(MiniInner, null, this.textSection(), this.icon()));\n      }\n    }\n  }, {\n    key: \"textSection\",\n    value: function textSection() {\n      return _react.default.createElement(TitleWrapper, {\n        layout: this.props.section.layout\n      }, this.title(), _react.default.createElement(SubTitle, null, _react.default.createElement(SubTitlePrompt, null, \"View Slideshow\"), this.subTitleCount()));\n    }\n  }, {\n    key: \"title\",\n    value: function title() {\n      var title = this.props.section.images.length + \" Images\";\n\n      if (this.props.section.title) {\n        title = this.props.section.title;\n      }\n\n      return _react.default.createElement(Title, null, title);\n    }\n  }, {\n    key: \"subTitleCount\",\n    value: function subTitleCount() {\n      if (this.props.section.title) {\n        return _react.default.createElement(SubTitleCount, null, this.props.section.images.length, \" Images\");\n      }\n    }\n  }, {\n    key: \"icon\",\n    value: function icon() {\n      return _react.default.createElement(IconContainer, null, _react.default.createElement(_IconImageSet.IconImageSet, null));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var image = this.props.section.layout === \"full\" ? this.image() : null;\n      return _react.default.createElement(\"div\", {\n        style: {\n          position: \"relative\",\n          width: \"100%\"\n        }\n      }, this.wrapper(), image);\n    }\n  }]);\n\n  return ImageSetPreview;\n}(_react.default.PureComponent)) || _class;\n\nexports.ImageSetPreview = ImageSetPreview;\n\nvar IconContainer =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"ImageSetPreview__IconContainer\",\n  componentId: \"tx7880-0\"\n})([\"height:45px;position:relative;margin-left:40px;text-align:right;> svg{height:98%;}\", \";\"], _Helpers.pMedia.xs(_templateObject));\n\nvar FullWrapper =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"ImageSetPreview__FullWrapper\",\n  componentId: \"tx7880-1\"\n})([\"position:absolute;bottom:20px;left:20px;min-height:50px;width:auto;max-width:calc(100% - 80px);display:flex;justify-content:space-between;align-items:center;border-radius:2px;background:rgba(255,255,255,0.8);box-shadow:0 0 10px 0 rgba(0,0,0,0.3);padding:20px;cursor:pointer;&:hover{background:rgba(0,0,0,0.6);color:white;\", \"{fill:white;}}\"], IconContainer);\n\nvar TitleWrapper = div(_templateObject2, function (props) {\n  return props.layout === \"full\" ? \"50px\" : \"100%\";\n});\n\nvar MiniWrapper =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"ImageSetPreview__MiniWrapper\",\n  componentId: \"tx7880-2\"\n})([\"height:100px;display:flex;align-items:center;justify-content:flex-start;padding:10px 20px 10px 10px;border:1px solid #e5e5e5;cursor:pointer;\"]);\n\nvar MiniInner =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"ImageSetPreview__MiniInner\",\n  componentId: \"tx7880-3\"\n})([\"display:flex;justify-content:space-between;flex:1;width:auto;margin-left:20px;\"]);\n\nvar Title =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"ImageSetPreview__Title\",\n  componentId: \"tx7880-4\"\n})([\"\", \" margin-bottom:8px;line-height:1.1em;\", \";\"], (0, _Fonts.unica)(\"s19\", \"medium\"), _Helpers.pMedia.xs(_templateObject3, (0, _Fonts.unica)(\"s16\", \"medium\")));\n\nvar SubTitle =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"ImageSetPreview__SubTitle\",\n  componentId: \"tx7880-5\"\n})([\"display:flex;\"]);\n\nvar SubTitlePrompt =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"ImageSetPreview__SubTitlePrompt\",\n  componentId: \"tx7880-6\"\n})([\"\", \" \", \";\"], (0, _Fonts.unica)(\"s14\", \"medium\"), _Helpers.pMedia.xs(_templateObject3, (0, _Fonts.unica)(\"s12\", \"medium\")));\n\nvar SubTitleCount =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"ImageSetPreview__SubTitleCount\",\n  componentId: \"tx7880-7\"\n})([\"\", \" margin-left:20px;\", \";\"], (0, _Fonts.unica)(\"s14\"), _Helpers.pMedia.xs(_templateObject3, (0, _Fonts.unica)(\"s12\")));",{"version":3,"sources":["src/Components/Publishing/Sections/ImageSetPreview.tsx"],"names":["div","ImageSetPreview","props","onViewFullscreen","section","images","index","image","src","url","width","getImageUrl","layout","height","imageProps","alt","title","onClick","textSection","icon","subTitleCount","length","position","wrapper","PureComponent","IconContainer","xs","FullWrapper","TitleWrapper","MiniWrapper","MiniInner","Title","SubTitle","SubTitlePrompt","SubTitleCount"],"mappings":"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","file":"/Users/eve/development/reaction/src/Components/Publishing/Sections/ImageSetPreview.tsx","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import React from \"react\"\nimport styled, { StyledFunction } from \"styled-components\"\nimport { resize } from \"../../../Utils/resizer\"\nimport { pMedia } from \"../../Helpers\"\nimport { unica } from \"Assets/Fonts\"\nimport { IconImageSet } from \"../Icon/IconImageSet\"\nimport { withFullScreen } from \"../Sections/FullscreenViewer/withFullScreen\"\n\ntype Layout = \"mini\" | \"full\"\n\ninterface DivLayoutProps {\n  layout?: Layout\n}\n\nexport interface Props {\n  section: {\n    type: string\n    images: Array<{\n      url?: string\n      image?: string\n      index?: any\n    }>\n    layout?: Layout\n    title?: string\n  }\n  onViewFullscreen?: (index: number) => void\n}\n\nconst div: StyledFunction<DivLayoutProps & React.HTMLProps<HTMLDivElement>> =\n  styled.div\n\n@withFullScreen\nexport class ImageSetPreview extends React.PureComponent<Props, null> {\n  getImageUrl() {\n    const image = this.props.section.images[0]\n    const src = image.url ? image.url : image.image\n    return resize(src, { width: 1200 })\n  }\n\n  image() {\n    const src = this.getImageUrl()\n    const width = this.props.section.layout === \"full\" ? \"100%\" : \"auto\"\n    const height = this.props.section.layout === \"full\" ? \"auto\" : \"100%\"\n    const imageProps = {\n      src,\n      height,\n      width,\n      alt: this.props.section.title || \"Open Slideshow\",\n    }\n\n    return <img {...imageProps} />\n  }\n\n  onClick = () => {\n    this.props.onViewFullscreen(this.props.section.images[0].index)\n  }\n\n  wrapper() {\n    if (this.props.section.layout === \"full\") {\n      return (\n        <FullWrapper onClick={this.onClick}>\n          {this.textSection()}\n          {this.icon()}\n        </FullWrapper>\n      )\n    } else {\n      return (\n        <MiniWrapper onClick={this.onClick}>\n          {this.image()}\n          <MiniInner>\n            {this.textSection()}\n            {this.icon()}\n          </MiniInner>\n        </MiniWrapper>\n      )\n    }\n  }\n\n  textSection() {\n    return (\n      <TitleWrapper layout={this.props.section.layout}>\n        {this.title()}\n        <SubTitle>\n          <SubTitlePrompt>View Slideshow</SubTitlePrompt>\n          {this.subTitleCount()}\n        </SubTitle>\n      </TitleWrapper>\n    )\n  }\n\n  title() {\n    let title = this.props.section.images.length + \" Images\"\n    if (this.props.section.title) {\n      title = this.props.section.title\n    }\n    return <Title>{title}</Title>\n  }\n\n  subTitleCount() {\n    if (this.props.section.title) {\n      return (\n        <SubTitleCount>{this.props.section.images.length} Images</SubTitleCount>\n      )\n    }\n  }\n\n  icon() {\n    return (\n      <IconContainer>\n        <IconImageSet />\n      </IconContainer>\n    )\n  }\n\n  render() {\n    const image = this.props.section.layout === \"full\" ? this.image() : null\n    return (\n      <div style={{ position: \"relative\", width: \"100%\" }}>\n        {this.wrapper()}\n        {image}\n      </div>\n    )\n  }\n}\n\nconst IconContainer = styled.div`\n  height: 45px;\n  position: relative;\n  margin-left: 40px;\n  text-align: right;\n  > svg {\n    height: 98%;\n  }\n  ${pMedia.xs`\n    display: none;\n  `};\n`\n\nconst FullWrapper = styled.div`\n  position: absolute;\n  bottom: 20px;\n  left: 20px;\n  min-height: 50px;\n  width: auto;\n  max-width: calc(100% - 80px);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-radius: 2px;\n  background: rgba(255, 255, 255, 0.8);\n  box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.3);\n  padding: 20px;\n  cursor: pointer;\n  &:hover {\n    background: rgba(0, 0, 0, 0.6);\n    color: white;\n    ${IconContainer} {\n      fill: white;\n    }\n  }\n`\nconst TitleWrapper = div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: ${props => (props.layout === \"full\" ? \"50px\" : \"100%\")};\n`\nconst MiniWrapper = styled.div`\n  height: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  padding: 10px 20px 10px 10px;\n  border: 1px solid #e5e5e5;\n  cursor: pointer;\n`\nconst MiniInner = styled.div`\n  display: flex;\n  justify-content: space-between;\n  flex: 1;\n  width: auto;\n  margin-left: 20px;\n`\nconst Title = styled.div`\n  ${unica(\"s19\", \"medium\")} margin-bottom: 8px;\n  line-height: 1.1em;\n  ${pMedia.xs`\n    ${unica(\"s16\", \"medium\")}\n  `};\n`\nconst SubTitle = styled.div`\n  display: flex;\n`\nconst SubTitlePrompt = styled.div`\n  ${unica(\"s14\", \"medium\")} ${pMedia.xs`\n    ${unica(\"s12\", \"medium\")}\n  `};\n`\nconst SubTitleCount = styled.div`\n  ${unica(\"s14\")} margin-left: 20px;\n  ${pMedia.xs`\n    ${unica(\"s12\")}\n  `};\n`\n"]}]}