{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Components/Modal/ModalWrapper.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Modal/ModalWrapper.tsx","mtime":1537112679000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1537112679000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n    max-height: 100vh;\\n    height: 100vh\\n  \"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    width: 100%;\\n    border-radius: 0;\\n  \"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  .blurred {\\n    filter: blur(50px);\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nimport { Theme } from \"@artsy/palette\";\nimport React from \"react\";\nimport styled, { injectGlobal, keyframes } from \"styled-components\";\nimport FadeTransition from \"../Animation/FadeTransition\";\nimport { media } from \"../Helpers\";\ninjectGlobal(_templateObject());\nexport var ModalWrapper =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ModalWrapper, _React$Component);\n\n  function ModalWrapper() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ModalWrapper);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ModalWrapper)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n      isAnimating: _this.props.show || false,\n      isShown: _this.props.show || false,\n      blurContainers: _this.props.blurContainerSelector ? Array.from(document.querySelectorAll(_this.props.blurContainerSelector)) : []\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"close\", function () {\n      _this.props.onClose();\n\n      _this.removeBlurToContainers();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"addBlurToContainers\", function () {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = _this.state.blurContainers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var container = _step.value;\n          container.classList.add(\"blurred\");\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"removeBlurToContainers\", function () {\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = _this.state.blurContainers[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var container = _step2.value;\n          container.classList.remove(\"blurred\");\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(ModalWrapper, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.show !== nextProps.show) {\n        this.setState({\n          isAnimating: true,\n          isShown: nextProps.show\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removeBlurToContainers();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          isWide = _this$props.isWide,\n          image = _this$props.image;\n      var _this$state = this.state,\n          isShown = _this$state.isShown,\n          isAnimating = _this$state.isAnimating;\n\n      if (isShown) {\n        this.addBlurToContainers();\n      } else {\n        this.removeBlurToContainers();\n      }\n\n      return React.createElement(Theme, null, React.createElement(Wrapper, {\n        isShown: isShown || isAnimating\n      }, isShown && React.createElement(ModalOverlay, {\n        onClick: this.close\n      }), React.createElement(FadeTransition, {\n        in: isShown,\n        mountOnEnter: true,\n        onExited: function onExited() {\n          _this2.setState({\n            isAnimating: false\n          });\n        },\n        unmountOnExit: true,\n        timeout: {\n          enter: 10,\n          exit: 200\n        }\n      }, React.createElement(ModalContainer, {\n        isWide: isWide,\n        image: image\n      }, React.createElement(ModalInner, null, children)))));\n    }\n  }]);\n\n  return ModalWrapper;\n}(React.Component);\n\n_defineProperty(ModalWrapper, \"defaultProps\", {\n  show: false,\n  blurContainerSelector: \"\"\n});\n\nvar Wrapper = styled.div.attrs({}).withConfig({\n  displayName: \"ModalWrapper__Wrapper\",\n  componentId: \"ti5u71-0\"\n})([\"\", \";\"], function (props) {\n  return props.isShown && \"\\n    position: fixed;\\n    top: 0;\\n    bottom: 0;\\n    left: 0;\\n    right: 0;\\n    z-index: 9999\\n  \";\n});\nvar slideUp = keyframes([\"from{transform:translate(-50%,-40%);opacity:0;},to{transform:translate(-50%,-50%);opacity:1;}\"]);\nexport var ModalOverlay = styled.div.withConfig({\n  displayName: \"ModalWrapper__ModalOverlay\",\n  componentId: \"ti5u71-1\"\n})([\"position:fixed;width:100%;height:100%;top:0;left:0;background:rgba(200,200,200,0.5);\"]);\nexport var ModalContainer = styled.div.attrs({}).withConfig({\n  displayName: \"ModalWrapper__ModalContainer\",\n  componentId: \"ti5u71-2\"\n})([\"position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;width:\", \";height:min-content;border-radius:5px;box-shadow:0 4px 15px rgba(0,0,0,0.15);animation:\", \" 250ms linear;\", \";\"], function (props) {\n  return props.isWide || props.image ? \"900px\" : \"440px\";\n}, slideUp, media.sm(_templateObject2()));\nvar ModalInner = styled.div.withConfig({\n  displayName: \"ModalWrapper__ModalInner\",\n  componentId: \"ti5u71-3\"\n})([\"max-height:calc(100vh - 80px);\", \";\"], media.sm(_templateObject3()));\nexport default ModalWrapper;",{"version":3,"sources":["/Users/eve/development/reaction/src/Components/Modal/ModalWrapper.tsx"],"names":["Theme","React","styled","injectGlobal","keyframes","FadeTransition","media","ModalWrapper","isAnimating","props","show","isShown","blurContainers","blurContainerSelector","Array","from","document","querySelectorAll","onClose","removeBlurToContainers","state","container","classList","add","remove","nextProps","setState","children","isWide","image","addBlurToContainers","close","enter","exit","Component","Wrapper","div","attrs","slideUp","ModalOverlay","ModalContainer","sm","ModalInner"],"mappings":"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","sourcesContent":["import { Theme } from \"@artsy/palette\"\nimport React from \"react\"\nimport styled, { injectGlobal, keyframes } from \"styled-components\"\nimport FadeTransition from \"../Animation/FadeTransition\"\nimport { media } from \"../Helpers\"\nimport { CtaProps } from \"./ModalCta\"\n\nexport interface ModalWrapperProps extends React.HTMLProps<ModalWrapper> {\n  blurContainerSelector?: string\n  cta?: CtaProps\n  onClose?: () => void\n  isWide?: boolean\n  image?: string\n  show?: boolean\n}\n\nexport interface ModalWrapperState {\n  isAnimating: boolean\n  isShown: boolean\n  blurContainers: Element[]\n}\n\ninjectGlobal`\n  .blurred {\n    filter: blur(50px);\n  }\n`\n\nexport class ModalWrapper extends React.Component<\n  ModalWrapperProps,\n  ModalWrapperState\n> {\n  static defaultProps = {\n    show: false,\n    blurContainerSelector: \"\",\n  }\n\n  state = {\n    isAnimating: this.props.show || false,\n    isShown: this.props.show || false,\n    blurContainers: this.props.blurContainerSelector\n      ? Array.from(document.querySelectorAll(this.props.blurContainerSelector))\n      : [],\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.show !== nextProps.show) {\n      this.setState({\n        isAnimating: true,\n        isShown: nextProps.show,\n      })\n    }\n  }\n\n  componentWillUnmount() {\n    this.removeBlurToContainers()\n  }\n\n  close = () => {\n    this.props.onClose()\n    this.removeBlurToContainers()\n  }\n\n  addBlurToContainers = () => {\n    for (const container of this.state.blurContainers) {\n      container.classList.add(\"blurred\")\n    }\n  }\n\n  removeBlurToContainers = () => {\n    for (const container of this.state.blurContainers) {\n      container.classList.remove(\"blurred\")\n    }\n  }\n\n  render(): JSX.Element {\n    const { children, isWide, image } = this.props\n    const { isShown, isAnimating } = this.state\n\n    if (isShown) {\n      this.addBlurToContainers()\n    } else {\n      this.removeBlurToContainers()\n    }\n\n    return (\n      <Theme>\n        <Wrapper isShown={isShown || isAnimating}>\n          {isShown && <ModalOverlay onClick={this.close} />}\n          <FadeTransition\n            in={isShown}\n            mountOnEnter\n            onExited={() => {\n              this.setState({ isAnimating: false })\n            }}\n            unmountOnExit\n            timeout={{ enter: 10, exit: 200 }}\n          >\n            <ModalContainer isWide={isWide} image={image}>\n              <ModalInner>{children}</ModalInner>\n            </ModalContainer>\n          </FadeTransition>\n        </Wrapper>\n      </Theme>\n    )\n  }\n}\n\nconst Wrapper = styled.div.attrs<{ isShown?: boolean }>({})`\n  ${props =>\n    props.isShown &&\n    `\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 9999\n  `};\n`\n\nconst slideUp = keyframes`\n  from {\n    transform: translate(-50%,-40%);\n    opacity: 0;\n  },\n\n  to {\n    transform: translate(-50%,-50%);\n    opacity: 1;\n  }\n`\n\nexport const ModalOverlay = styled.div`\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: rgba(200, 200, 200, 0.5);\n`\n\nexport const ModalContainer = styled.div.attrs<{\n  isWide?: boolean\n  image?: string\n}>({})`\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: #fff;\n  width: ${props => (props.isWide || props.image ? \"900px\" : \"440px\")};\n  height: min-content;\n  border-radius: 5px;\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);\n  animation: ${slideUp} 250ms linear;\n\n  ${media.sm`\n    width: 100%;\n    border-radius: 0;\n  `};\n`\n\nconst ModalInner = styled.div`\n  /* disabling scrolling until custom scrollbars are implemented */\n  /* overflow-y: scroll; */\n  max-height: calc(100vh - 80px);\n  ${media.sm`\n    max-height: 100vh;\n    height: 100vh\n  `};\n`\n\nexport default ModalWrapper\n"]}]}