{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--5-1!/Users/eve/development/reaction/src/Components/Onboarding/Steps/Budget.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Onboarding/Steps/Budget.tsx","mtime":1519658991000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1527877289000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BudgetComponent = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactRelay = require(\"react-relay\");\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _Colors = _interopRequireDefault(require(\"../../../Assets/Colors\"));\n\nvar _Artsy = require(\"../../Artsy\");\n\nvar _MultiStateButton = require(\"../../Buttons/MultiStateButton\");\n\nvar _Helpers = require(\"../../Helpers\");\n\nvar _SelectableToggle = _interopRequireDefault(require(\"../SelectableToggle\"));\n\nvar _Layout = require(\"./Layout\");\n\nvar _graphql;\n\nvar _templateObject = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n    width: 100%;\\n    margin-bottom: 20px;\\n  \"], [\"\\n    width: 100%;\\n    margin-bottom: 20px;\\n  \"]);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nvar OptionsContainer =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"Budget__OptionsContainer\",\n  componentId: \"fej4mt-0\"\n})([\"width:450px;margin:0 auto 100px;&:last-child{border-bottom:1px solid \", \";}\", \";\"], _Colors.default.grayRegular, _Helpers.media.sm(_templateObject));\n\nvar BudgetComponent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BudgetComponent, _React$Component);\n\n  function BudgetComponent() {\n    var _ref;\n\n    var _temp, _this;\n\n    _classCallCheck(this, BudgetComponent);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _possibleConstructorReturn(_this, (_temp = _this = _possibleConstructorReturn(this, (_ref = BudgetComponent.__proto__ || Object.getPrototypeOf(BudgetComponent)).call.apply(_ref, [this].concat(args))), Object.defineProperty(_assertThisInitialized(_this), \"options\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: {\n        \"UNDER $500\": 500,\n        \"UNDER $2,500\": 2500,\n        \"UNDER $5,000\": 5000,\n        \"UNDER $10,000\": 10000,\n        \"UNDER $25,000\": 25000,\n        \"UNDER $50,000\": 50000,\n        \"NO BUDGET IN MIND\": 1000000000000\n      }\n    }), Object.defineProperty(_assertThisInitialized(_this), \"state\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: {\n        selection: null\n      }\n    }), Object.defineProperty(_assertThisInitialized(_this), \"onOptionSelected\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value(index) {\n        var selection = {\n          selection: Object.values(_this.options)[index]\n        };\n\n        _this.setState(selection);\n      }\n    }), _temp));\n  }\n\n  _createClass(BudgetComponent, [{\n    key: \"submit\",\n    value: function submit() {\n      var priceRangeMax = this.state.selection;\n      (0, _reactRelay.commitMutation)(this.props.relayEnvironment, {\n        mutation: _graphql || (_graphql = function _graphql() {\n          var node = require(\"../../../__generated__/BudgetUpdateMyUserProfileMutation.graphql\");\n\n          if (node.hash && node.hash !== \"3add187e4e8fcf9910294672b24f47e7\") {\n            console.error(\"The definition of 'BudgetUpdateMyUserProfileMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\");\n          }\n\n          return require(\"../../../__generated__/BudgetUpdateMyUserProfileMutation.graphql\");\n        }),\n        variables: {\n          input: {\n            price_range_min: -1,\n            price_range_max: priceRangeMax\n          }\n        }\n      });\n      this.props.onNextButtonPressed();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var options = Object.keys(this.options).map(function (text, index) {\n        return _react.default.createElement(_SelectableToggle.default, {\n          key: index,\n          text: text,\n          onSelect: _this2.onOptionSelected.bind(_this2, index),\n          selected: _this2.state.selection === _this2.options[text]\n        });\n      });\n      return _react.default.createElement(_Layout.Layout, {\n        title: \"What\\u2019s your maximum artwork budget?\",\n        subtitle: \"Select one\",\n        onNextButtonPressed: this.state.selection && this.submit.bind(this),\n        isLastStep: true,\n        buttonState: this.state.selection ? _MultiStateButton.MultiButtonState.Highlighted : _MultiStateButton.MultiButtonState.Default\n      }, _react.default.createElement(OptionsContainer, null, options));\n    }\n  }]);\n\n  return BudgetComponent;\n}(_react.default.Component);\n\nexports.BudgetComponent = BudgetComponent;\nObject.defineProperty(BudgetComponent, \"slug\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: \"budget\"\n});\nvar Budget = (0, _Artsy.ContextConsumer)(BudgetComponent); // tslint:disable:no-string-literal\n\nBudget[\"slug\"] = BudgetComponent.slug;\nvar _default = Budget;\nexports.default = _default;",{"version":3,"sources":["src/Components/Onboarding/Steps/Budget.tsx"],"names":["OptionsContainer","div","grayRegular","sm","BudgetComponent","selection","index","Object","values","options","setState","priceRangeMax","state","props","relayEnvironment","mutation","variables","input","price_range_min","price_range_max","onNextButtonPressed","keys","map","text","onOptionSelected","bind","submit","Highlighted","Default","Component","Budget","slug"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA;AAAA;AAAmB,0BAAOC,GAA1B;AAAA;AAAA;AAAA,yFAIyB,gBAAOC,WAJhC,EAMF,eAAMC,EANJ,kBAAN;;IAgBaC,e;;;;;;;;;;;;;;;;;;;;aAMD;AACR,sBAAc,GADN;AAER,wBAAgB,IAFR;AAGR,wBAAgB,IAHR;AAIR,yBAAiB,KAJT;AAKR,yBAAiB,KALT;AAMR,yBAAiB,KANT;AAOR,6BAAqB;AAPb;;;;;aAUF;AACNC,mBAAW;AADL;;;;;aAIW,eAACC,KAAD,EAAmB;AACpC,YAAID,YAAY;AAAEA,qBAAWE,OAAOC,MAAP,CAAc,MAAKC,OAAnB,EAA4BH,KAA5B;AAAb,SAAhB;;AACA,cAAKI,QAAL,CAAcL,SAAd;AACD;;;;;;6BAEQ;AACP,UAAMM,gBAAgB,KAAKC,KAAL,CAAWP,SAAjC;AAEA,sCAAe,KAAKQ,KAAL,CAAWC,gBAA1B,EAA4C;AAC1CC;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,UAD0C;AAY1CC,mBAAW;AACTC,iBAAO;AACLC,6BAAiB,CAAC,CADb;AAELC,6BAAiBR;AAFZ;AADE;AAZ+B,OAA5C;AAoBA,WAAKE,KAAL,CAAWO,mBAAX;AACD;;;6BAEQ;AAAA;;AACP,UAAMX,UAAUF,OAAOc,IAAP,CAAY,KAAKZ,OAAjB,EAA0Ba,GAA1B,CAA8B,UAACC,IAAD,EAAOjB,KAAP;AAAA,eAC5C;AACE,eAAKA,KADP;AAEE,gBAAMiB,IAFR;AAGE,oBAAU,OAAKC,gBAAL,CAAsBC,IAAtB,CAA2B,MAA3B,EAAiCnB,KAAjC,CAHZ;AAIE,oBAAU,OAAKM,KAAL,CAAWP,SAAX,KAAyB,OAAKI,OAAL,CAAac,IAAb;AAJrC,UAD4C;AAAA,OAA9B,CAAhB;AASA,aACE;AACE,eAAM,0CADR;AAEE,kBAAS,YAFX;AAGE,6BAAqB,KAAKX,KAAL,CAAWP,SAAX,IAAwB,KAAKqB,MAAL,CAAYD,IAAZ,CAAiB,IAAjB,CAH/C;AAIE,wBAJF;AAKE,qBACE,KAAKb,KAAL,CAAWP,SAAX,GACI,mCAAiBsB,WADrB,GAEI,mCAAiBC;AARzB,SAWE,6BAAC,gBAAD,QAAmBnB,OAAnB,CAXF,CADF;AAeD;;;;EA5EkC,eAAMoB,S;;;sBAA9BzB,e;;;;SAIa;;AA2E1B,IAAM0B,SAAS,4BAAgB1B,eAAhB,CAAf,C,CACA;;AACA0B,OAAO,MAAP,IAAiB1B,gBAAgB2B,IAAjC;eAEeD,M","file":"/Users/eve/development/reaction/src/Components/Onboarding/Steps/Budget.tsx","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import React from \"react\"\nimport { commitMutation, graphql } from \"react-relay\"\nimport styled from \"styled-components\"\n\nimport Colors from \"../../../Assets/Colors\"\nimport { ContextConsumer, ContextProps } from \"../../Artsy\"\nimport { MultiButtonState } from \"../../Buttons/MultiStateButton\"\nimport { media } from \"../../Helpers\"\nimport SelectableToggle from \"../SelectableToggle\"\nimport { StepProps } from \"../Types\"\nimport { Layout } from \"./Layout\"\n\nconst OptionsContainer = styled.div`\n  width: 450px;\n  margin: 0 auto 100px;\n  &:last-child {\n    border-bottom: 1px solid ${Colors.grayRegular};\n  }\n  ${media.sm`\n    width: 100%;\n    margin-bottom: 20px;\n  `};\n`\n\ninterface State {\n  selection: number | null\n}\n\nexport class BudgetComponent extends React.Component<\n  StepProps & ContextProps,\n  State\n> {\n  static slug: \"budget\" = \"budget\"\n\n  options = {\n    \"UNDER $500\": 500,\n    \"UNDER $2,500\": 2500,\n    \"UNDER $5,000\": 5000,\n    \"UNDER $10,000\": 10000,\n    \"UNDER $25,000\": 25000,\n    \"UNDER $50,000\": 50000,\n    \"NO BUDGET IN MIND\": 1000000000000,\n  }\n\n  state = {\n    selection: null,\n  }\n\n  onOptionSelected = (index: number) => {\n    let selection = { selection: Object.values(this.options)[index] }\n    this.setState(selection)\n  }\n\n  submit() {\n    const priceRangeMax = this.state.selection\n\n    commitMutation(this.props.relayEnvironment, {\n      mutation: graphql`\n        mutation BudgetUpdateMyUserProfileMutation(\n          $input: UpdateMyProfileInput!\n        ) {\n          updateMyUserProfile(input: $input) {\n            user {\n              name\n            }\n          }\n        }\n      `,\n      variables: {\n        input: {\n          price_range_min: -1,\n          price_range_max: priceRangeMax,\n        },\n      },\n    })\n\n    this.props.onNextButtonPressed()\n  }\n\n  render() {\n    const options = Object.keys(this.options).map((text, index) => (\n      <SelectableToggle\n        key={index}\n        text={text}\n        onSelect={this.onOptionSelected.bind(this, index)}\n        selected={this.state.selection === this.options[text]}\n      />\n    ))\n\n    return (\n      <Layout\n        title=\"Whatâ€™s your maximum artwork budget?\"\n        subtitle=\"Select one\"\n        onNextButtonPressed={this.state.selection && this.submit.bind(this)}\n        isLastStep\n        buttonState={\n          this.state.selection\n            ? MultiButtonState.Highlighted\n            : MultiButtonState.Default\n        }\n      >\n        <OptionsContainer>{options}</OptionsContainer>\n      </Layout>\n    )\n  }\n}\n\nconst Budget = ContextConsumer(BudgetComponent)\n// tslint:disable:no-string-literal\nBudget[\"slug\"] = BudgetComponent.slug\n\nexport default Budget\n"]}]}