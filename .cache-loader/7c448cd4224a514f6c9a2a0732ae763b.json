{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--5-1!/Users/eve/development/reaction/src/Components/Publishing/Sections/ImageCollection.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/Sections/ImageCollection.tsx","mtime":1520966970000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1527877289000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ImageCollection = void 0;\n\nvar _lodash = require(\"lodash\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactSizeme = _interopRequireDefault(require(\"react-sizeme\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _fillwidth = _interopRequireDefault(require(\"../../../Utils/fillwidth\"));\n\nvar _Helpers = require(\"../../Helpers\");\n\nvar _Constants = require(\"../Constants\");\n\nvar _Artwork = require(\"./Artwork\");\n\nvar _Image = require(\"./Image\");\n\nvar _ImageCollectionItem = require(\"./ImageCollectionItem\");\n\nvar _templateObject = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n    flex-direction: column;\\n  \"], [\"\\n    flex-direction: column;\\n  \"]);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ImageCollectionComponent =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(ImageCollectionComponent, _React$PureComponent);\n\n  function ImageCollectionComponent() {\n    _classCallCheck(this, ImageCollectionComponent);\n\n    return _possibleConstructorReturn(this, (ImageCollectionComponent.__proto__ || Object.getPrototypeOf(ImageCollectionComponent)).apply(this, arguments));\n  }\n\n  _createClass(ImageCollectionComponent, [{\n    key: \"renderImages\",\n    value: function renderImages(dimensions) {\n      var _props = this.props,\n          articleLayout = _props.articleLayout,\n          gutter = _props.gutter,\n          images = _props.images,\n          sectionLayout = _props.sectionLayout,\n          width = _props.size.width;\n      var renderedImages = images.map(function (image, i) {\n        var url = image.url || image.image;\n        var imageSize;\n\n        if (width <= 600 || dimensions.length === 1) {\n          imageSize = {};\n        } else {\n          imageSize = (0, _lodash.find)(dimensions, [\"__id\", url]);\n        }\n\n        var renderedImage;\n\n        if (image.type === \"image\") {\n          renderedImage = _react.default.createElement(_Image.Image, {\n            image: image,\n            sectionLayout: sectionLayout,\n            layout: articleLayout,\n            width: imageSize.width,\n            height: imageSize.height\n          });\n        } else if (image.type === \"artwork\") {\n          renderedImage = _react.default.createElement(_Artwork.Artwork, {\n            artwork: image,\n            sectionLayout: sectionLayout,\n            layout: articleLayout,\n            width: imageSize.width,\n            height: imageSize.height\n          });\n        } else {\n          return false;\n        }\n\n        var margin = i === dimensions.length - 1 ? 0 : gutter;\n        return _react.default.createElement(_ImageCollectionItem.ImageCollectionItem, {\n          key: i,\n          margin: margin,\n          width: imageSize.width\n        }, renderedImage);\n      });\n      return renderedImages;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _props2 = this.props,\n          gutter = _props2.gutter,\n          images = _props2.images,\n          size = _props2.size,\n          targetHeight = _props2.targetHeight;\n      var dimensions = (0, _fillwidth.default)(images, size.width, gutter, targetHeight);\n      var renderedImages = this.renderImages(dimensions);\n      return _react.default.createElement(ImageCollectionContainer, null, renderedImages);\n    }\n  }]);\n\n  return ImageCollectionComponent;\n}(_react.default.PureComponent);\n\nObject.defineProperty(ImageCollectionComponent, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    size: {\n      width: 680\n    }\n  }\n});\n\nvar ImageCollectionContainer =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"ImageCollection__ImageCollectionContainer\",\n  componentId: \"begb1k-0\"\n})([\"display:flex;width:100%;justify-content:center;\", \";\"], _Helpers.pMedia.xs(_templateObject));\n\nvar sizeMeOptions = {\n  refreshRate: _Constants.SIZE_ME_REFRESH_RATE,\n  noPlaceholder: true\n};\nvar ImageCollection = (0, _reactSizeme.default)(sizeMeOptions)(ImageCollectionComponent);\nexports.ImageCollection = ImageCollection;",{"version":3,"sources":["src/Components/Publishing/Sections/ImageCollection.tsx"],"names":["ImageCollectionComponent","dimensions","props","articleLayout","gutter","images","sectionLayout","width","size","renderedImages","map","image","i","url","imageSize","length","renderedImage","type","height","margin","targetHeight","renderImages","PureComponent","ImageCollectionContainer","div","xs","sizeMeOptions","refreshRate","noPlaceholder","ImageCollection"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;IAaMA,wB;;;;;;;;;;;;;iCAUSC,U,EAAY;AAAA,mBAOnB,KAAKC,KAPc;AAAA,UAErBC,aAFqB,UAErBA,aAFqB;AAAA,UAGrBC,MAHqB,UAGrBA,MAHqB;AAAA,UAIrBC,MAJqB,UAIrBA,MAJqB;AAAA,UAKrBC,aALqB,UAKrBA,aALqB;AAAA,UAMbC,KANa,UAMrBC,IANqB,CAMbD,KANa;AASvB,UAAME,iBAAiBJ,OAAOK,GAAP,CAAW,UAACC,KAAD,EAAQC,CAAR,EAAc;AAC9C,YAAMC,MAAMF,MAAME,GAAN,IAAaF,MAAMA,KAA/B;AAEA,YAAIG,SAAJ;;AACA,YAAIP,SAAS,GAAT,IAAgBN,WAAWc,MAAX,KAAsB,CAA1C,EAA6C;AAC3CD,sBAAY,EAAZ;AACD,SAFD,MAEO;AACLA,sBAAY,kBAAKb,UAAL,EAAiB,CAAC,MAAD,EAASY,GAAT,CAAjB,CAAZ;AACD;;AAED,YAAIG,aAAJ;;AACA,YAAIL,MAAMM,IAAN,KAAe,OAAnB,EAA4B;AAC1BD,0BACE;AACE,mBAAOL,KADT;AAEE,2BAAeL,aAFjB;AAGE,oBAAQH,aAHV;AAIE,mBAAOW,UAAUP,KAJnB;AAKE,oBAAQO,UAAUI;AALpB,YADF;AASD,SAVD,MAUO,IAAIP,MAAMM,IAAN,KAAe,SAAnB,EAA8B;AACnCD,0BACE;AACE,qBAASL,KADX;AAEE,2BAAeL,aAFjB;AAGE,oBAAQH,aAHV;AAIE,mBAAOW,UAAUP,KAJnB;AAKE,oBAAQO,UAAUI;AALpB,YADF;AASD,SAVM,MAUA;AACL,iBAAO,KAAP;AACD;;AAED,YAAMC,SAASP,MAAMX,WAAWc,MAAX,GAAoB,CAA1B,GAA8B,CAA9B,GAAkCX,MAAjD;AAEA,eACE;AAAqB,eAAKQ,CAA1B;AAA6B,kBAAQO,MAArC;AAA6C,iBAAOL,UAAUP;AAA9D,WACGS,aADH,CADF;AAKD,OA1CsB,CAAvB;AA2CA,aAAOP,cAAP;AACD;;;6BAEQ;AAAA,oBACwC,KAAKP,KAD7C;AAAA,UACCE,MADD,WACCA,MADD;AAAA,UACSC,MADT,WACSA,MADT;AAAA,UACiBG,IADjB,WACiBA,IADjB;AAAA,UACuBY,YADvB,WACuBA,YADvB;AAEP,UAAMnB,aAAa,wBACjBI,MADiB,EAEjBG,KAAKD,KAFY,EAGjBH,MAHiB,EAIjBgB,YAJiB,CAAnB;AAMA,UAAMX,iBAAiB,KAAKY,YAAL,CAAkBpB,UAAlB,CAAvB;AAEA,aAAO,6BAAC,wBAAD,QAA2BQ,cAA3B,CAAP;AACD;;;;EA5EoC,eAAMa,a;;sBAAvCtB,wB;;;;SAIkB;AACpBQ,UAAM;AACJD,aAAO;AADH;AADc;;;AA2ExB,IAAMgB;AAAA;AAA2B,0BAAOC,GAAlC;AAAA;AAAA;AAAA,6DAKF,gBAAOC,EALL,kBAAN;;AAUA,IAAMC,gBAAgB;AACpBC,8CADoB;AAEpBC,iBAAe;AAFK,CAAtB;AAKO,IAAMC,kBAAkB,0BAAOH,aAAP,EAAsB1B,wBAAtB,CAAxB","file":"/Users/eve/development/reaction/src/Components/Publishing/Sections/ImageCollection.tsx","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import { find } from \"lodash\"\nimport React from \"react\"\nimport sizeMe from \"react-sizeme\"\nimport styled from \"styled-components\"\nimport fillwidthDimensions from \"../../../Utils/fillwidth\"\nimport { pMedia } from \"../../Helpers\"\nimport { SIZE_ME_REFRESH_RATE } from \"../Constants\"\nimport { ArticleLayout, SectionLayout } from \"../Typings\"\nimport { Artwork } from \"./Artwork\"\nimport { Image } from \"./Image\"\nimport { ImageCollectionItem } from \"./ImageCollectionItem\"\n\ninterface ImageCollectionProps {\n  images: any\n  targetHeight?: number\n  gutter?: number\n  sectionLayout?: SectionLayout\n  articleLayout?: ArticleLayout\n  size?: {\n    width: number\n  }\n}\n\nclass ImageCollectionComponent extends React.PureComponent<\n  ImageCollectionProps,\n  null\n> {\n  static defaultProps = {\n    size: {\n      width: 680,\n    },\n  }\n\n  renderImages(dimensions) {\n    const {\n      articleLayout,\n      gutter,\n      images,\n      sectionLayout,\n      size: { width },\n    } = this.props\n\n    const renderedImages = images.map((image, i) => {\n      const url = image.url || image.image\n\n      let imageSize\n      if (width <= 600 || dimensions.length === 1) {\n        imageSize = {}\n      } else {\n        imageSize = find(dimensions, [\"__id\", url])\n      }\n\n      let renderedImage\n      if (image.type === \"image\") {\n        renderedImage = (\n          <Image\n            image={image}\n            sectionLayout={sectionLayout}\n            layout={articleLayout}\n            width={imageSize.width}\n            height={imageSize.height}\n          />\n        )\n      } else if (image.type === \"artwork\") {\n        renderedImage = (\n          <Artwork\n            artwork={image}\n            sectionLayout={sectionLayout}\n            layout={articleLayout}\n            width={imageSize.width}\n            height={imageSize.height}\n          />\n        )\n      } else {\n        return false\n      }\n\n      const margin = i === dimensions.length - 1 ? 0 : gutter\n\n      return (\n        <ImageCollectionItem key={i} margin={margin} width={imageSize.width}>\n          {renderedImage}\n        </ImageCollectionItem>\n      )\n    })\n    return renderedImages\n  }\n\n  render() {\n    const { gutter, images, size, targetHeight } = this.props\n    const dimensions = fillwidthDimensions(\n      images,\n      size.width,\n      gutter,\n      targetHeight\n    )\n    const renderedImages = this.renderImages(dimensions)\n\n    return <ImageCollectionContainer>{renderedImages}</ImageCollectionContainer>\n  }\n}\n\nconst ImageCollectionContainer = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: center;\n\n  ${pMedia.xs`\n    flex-direction: column;\n  `};\n`\n\nconst sizeMeOptions = {\n  refreshRate: SIZE_ME_REFRESH_RATE,\n  noPlaceholder: true,\n}\n\nexport const ImageCollection = sizeMe(sizeMeOptions)(ImageCollectionComponent)\n"]}]}