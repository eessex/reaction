{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Components/Publishing/RelatedArticles/RelatedArticlesPanel.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/RelatedArticles/RelatedArticlesPanel.tsx","mtime":1533574844000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1532461619000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.ArticleLink = exports.RelatedArticlesPanel = void 0;\n\nvar _once2 = _interopRequireDefault(require(\"lodash/once\"));\n\nvar _palette = require(\"@artsy/palette\");\n\nvar _Fonts = require(\"../../../Assets/Fonts\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactTracking = _interopRequireDefault(require(\"react-tracking\"));\n\nvar _reactWaypoint = _interopRequireDefault(require(\"react-waypoint\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _resizer = require(\"../../../Utils/resizer\");\n\nvar _Constants = require(\"../Constants\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-bottom: 10px;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar RelatedArticlesPanel =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(RelatedArticlesPanel, _React$Component);\n\n  function RelatedArticlesPanel() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, RelatedArticlesPanel);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(RelatedArticlesPanel)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onClick\", function (article) {\n      var tracking = _this.props.tracking;\n      var href = (0, _Constants.getArticleHref)(article.slug);\n      tracking.trackEvent({\n        action: \"Clicked article impression\",\n        destination_path: href,\n        entity_id: article.id,\n        entity_type: \"article\",\n        flow: \"article\",\n        impression_type: \"Related article\",\n        type: \"link\"\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"trackRelatedImpression\", function () {\n      var tracking = _this.props.tracking;\n      tracking.trackEvent({\n        action: \"article_impression\",\n        impression_type: \"Related articles\"\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(RelatedArticlesPanel, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          articles = _this$props.articles,\n          label = _this$props.label;\n      return _react.default.createElement(RelatedArticlesContainer, null, _react.default.createElement(Label, {\n        size: \"3t\",\n        weight: \"medium\"\n      }, label), _react.default.createElement(_reactWaypoint.default, {\n        onEnter: (0, _once2.default)(this.trackRelatedImpression)\n      }), _react.default.createElement(Collection, null, articles.map(function (article, i) {\n        var href = (0, _Constants.getArticleHref)(article.slug);\n        var articleImageSrc = (0, _resizer.crop)(article.thumbnail_image, {\n          width: 160,\n          height: 110\n        });\n        return _react.default.createElement(ArticleLink, {\n          href: href,\n          key: \"relatedArticles-\".concat(i),\n          onClick: function onClick() {\n            return _this2.onClick(article);\n          }\n        }, _react.default.createElement(ArticleImage, {\n          src: articleImageSrc\n        }), _react.default.createElement(ArticleTitle, null, article.thumbnail_title));\n      })));\n    }\n  }]);\n\n  return RelatedArticlesPanel;\n}(_react.default.Component);\n\nexports.RelatedArticlesPanel = RelatedArticlesPanel;\n\n_defineProperty(RelatedArticlesPanel, \"defaultProps\", {\n  label: \"Related Stories\"\n});\n\nvar RelatedArticlesContainer = _styledComponents.default.div.withConfig({\n  displayName: \"RelatedArticlesPanel__RelatedArticlesContainer\",\n  componentId: \"hexmlv-0\"\n})([\"max-width:360px;\"]);\n\nvar Collection = _styledComponents.default.div.withConfig({\n  displayName: \"RelatedArticlesPanel__Collection\",\n  componentId: \"hexmlv-1\"\n})([\"display:flex;flex-direction:column;\"]);\n\nvar Label = _palette.Sans.extend(_templateObject());\n\nvar ArticleLink = _styledComponents.default.a.withConfig({\n  displayName: \"RelatedArticlesPanel__ArticleLink\",\n  componentId: \"hexmlv-2\"\n})([\"text-decoration:none;display:flex;justify-content:left;margin-bottom:20px;&:last-child{margin-bottom:0;}\"]);\n\nexports.ArticleLink = ArticleLink;\n\nvar ArticleImage = _styledComponents.default.img.withConfig({\n  displayName: \"RelatedArticlesPanel__ArticleImage\",\n  componentId: \"hexmlv-3\"\n})([\"min-width:80px;height:55px;margin-right:10px;\"]);\n\nvar ArticleTitle = _styledComponents.default.span.withConfig({\n  displayName: \"RelatedArticlesPanel__ArticleTitle\",\n  componentId: \"hexmlv-4\"\n})([\"\", \";color:black;\"], (0, _Fonts.garamond)(\"s17\"));\n\nvar _default = (0, _reactTracking.default)()(RelatedArticlesPanel);\n\nexports.default = _default;",{"version":3,"sources":["src/Components/Publishing/RelatedArticles/RelatedArticlesPanel.tsx"],"names":["RelatedArticlesPanel","tracking","props","href","article","slug","trackEvent","action","destination_path","entity_id","id","entity_type","flow","impression_type","type","articles","label","trackRelatedImpression","map","i","articleImageSrc","thumbnail_image","width","height","onClick","thumbnail_title","React","Component","RelatedArticlesContainer","styled","div","Collection","Label","Sans","extend","ArticleLink","a","ArticleImage","img","ArticleTitle","span"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAaaA,oB;;;;;;;;;;;;;;;;;;sFAMD,mBAAW;AAAA,UACXC,QADW,GACE,MAAKC,KADP,CACXD,QADW;AAEnB,UAAME,OAAO,+BAAeC,QAAQC,IAAvB,CAAb;AAEAJ,eAASK,UAAT,CAAoB;AAClBC,gBAAQ,4BADU;AAElBC,0BAAkBL,IAFA;AAGlBM,mBAAWL,QAAQM,EAHD;AAIlBC,qBAAa,SAJK;AAKlBC,cAAM,SALY;AAMlBC,yBAAiB,iBANC;AAOlBC,cAAM;AAPY,OAApB;AASD,K;;qGAEwB,YAAM;AAAA,UACrBb,QADqB,GACR,MAAKC,KADG,CACrBD,QADqB;AAG7BA,eAASK,UAAT,CAAoB;AAClBC,gBAAQ,oBADU;AAElBM,yBAAiB;AAFC,OAApB;AAID,K;;;;;;;6BAEQ;AAAA;;AAAA,wBACqB,KAAKX,KAD1B;AAAA,UACCa,QADD,eACCA,QADD;AAAA,UACWC,KADX,eACWA,KADX;AAGP,aACE,6BAAC,wBAAD,QACE,6BAAC,KAAD;AAAO,cAAK,IAAZ;AAAiB,gBAAO;AAAxB,SACGA,KADH,CADF,EAIE,6BAAC,sBAAD;AAAU,iBAAS,oBAAK,KAAKC,sBAAV;AAAnB,QAJF,EAKE,6BAAC,UAAD,QACGF,SAASG,GAAT,CAAa,UAACd,OAAD,EAAUe,CAAV,EAAgB;AAC5B,YAAMhB,OAAO,+BAAeC,QAAQC,IAAvB,CAAb;AACA,YAAMe,kBAAkB,mBAAKhB,QAAQiB,eAAb,EAA8B;AACpDC,iBAAO,GAD6C;AAEpDC,kBAAQ;AAF4C,SAA9B,CAAxB;AAKA,eACE,6BAAC,WAAD;AACE,gBAAMpB,IADR;AAEE,yCAAwBgB,CAAxB,CAFF;AAGE,mBAAS;AAAA,mBAAM,OAAKK,OAAL,CAAapB,OAAb,CAAN;AAAA;AAHX,WAKE,6BAAC,YAAD;AAAc,eAAKgB;AAAnB,UALF,EAME,6BAAC,YAAD,QAAehB,QAAQqB,eAAvB,CANF,CADF;AAUD,OAjBA,CADH,CALF,CADF;AA4BD;;;;EA7DuCC,eAAMC,S;;;;gBAAnC3B,oB,kBAGW;AACpBgB,SAAO;AADa,C;;AA6DxB,IAAMY,2BAA2BC,0BAAOC,GAAlC;AAAA;AAAA;AAAA,wBAAN;;AAIA,IAAMC,aAAaF,0BAAOC,GAApB;AAAA;AAAA;AAAA,2CAAN;;AAKA,IAAME,QAAQC,cAAKC,MAAb,mBAAN;;AAIO,IAAMC,cAAcN,0BAAOO,CAArB;AAAA;AAAA;AAAA,gHAAN;;;;AAWP,IAAMC,eAAeR,0BAAOS,GAAtB;AAAA;AAAA;AAAA,qDAAN;;AAMA,IAAMC,eAAeV,0BAAOW,IAAtB;AAAA;AAAA;AAAA,0BACF,qBAAS,KAAT,CADE,CAAN;;eAKe,8BAAQxC,oBAAR,C","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import { Sans } from \"@artsy/palette\"\nimport { garamond } from \"Assets/Fonts\"\nimport { once } from \"lodash\"\nimport React from \"react\"\nimport track from \"react-tracking\"\nimport Waypoint from \"react-waypoint\"\nimport styled from \"styled-components\"\nimport { crop } from \"../../../Utils/resizer\"\nimport { getArticleHref } from \"../Constants\"\n\ninterface RelatedArticlesPanelProps extends React.HTMLProps<HTMLDivElement> {\n  label?: string\n  tracking?: any\n  articles: Array<{\n    thumbnail_title: string\n    thumbnail_image: string\n    slug: string\n    id: string\n  }>\n}\n\nexport class RelatedArticlesPanel extends React.Component<\n  RelatedArticlesPanelProps\n> {\n  static defaultProps = {\n    label: \"Related Stories\",\n  }\n  onClick = article => {\n    const { tracking } = this.props\n    const href = getArticleHref(article.slug)\n\n    tracking.trackEvent({\n      action: \"Clicked article impression\",\n      destination_path: href,\n      entity_id: article.id,\n      entity_type: \"article\",\n      flow: \"article\",\n      impression_type: \"Related article\",\n      type: \"link\",\n    })\n  }\n\n  trackRelatedImpression = () => {\n    const { tracking } = this.props\n\n    tracking.trackEvent({\n      action: \"article_impression\",\n      impression_type: \"Related articles\",\n    })\n  }\n\n  render() {\n    const { articles, label } = this.props\n\n    return (\n      <RelatedArticlesContainer>\n        <Label size=\"3t\" weight=\"medium\">\n          {label}\n        </Label>\n        <Waypoint onEnter={once(this.trackRelatedImpression)} />\n        <Collection>\n          {articles.map((article, i) => {\n            const href = getArticleHref(article.slug)\n            const articleImageSrc = crop(article.thumbnail_image, {\n              width: 160,\n              height: 110,\n            })\n\n            return (\n              <ArticleLink\n                href={href}\n                key={`relatedArticles-${i}`}\n                onClick={() => this.onClick(article)}\n              >\n                <ArticleImage src={articleImageSrc} />\n                <ArticleTitle>{article.thumbnail_title}</ArticleTitle>\n              </ArticleLink>\n            )\n          })}\n        </Collection>\n      </RelatedArticlesContainer>\n    )\n  }\n}\n\nconst RelatedArticlesContainer = styled.div`\n  max-width: 360px;\n`\n\nconst Collection = styled.div`\n  display: flex;\n  flex-direction: column;\n`\n\nconst Label = Sans.extend`\n  margin-bottom: 10px;\n`\n\nexport const ArticleLink = styled.a`\n  text-decoration: none;\n  display: flex;\n  justify-content: left;\n  margin-bottom: 20px;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n`\n\nconst ArticleImage = styled.img`\n  min-width: 80px;\n  height: 55px;\n  margin-right: 10px;\n`\n\nconst ArticleTitle = styled.span`\n  ${garamond(\"s17\")};\n  color: black;\n`\n\nexport default track()(RelatedArticlesPanel)\n"]}]}