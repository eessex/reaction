{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Components/Publishing/RelatedArticles/RelatedArticlesCanvas.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/RelatedArticles/RelatedArticlesCanvas.tsx","mtime":1533574844000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1532461619000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.RelatedArticlesCanvas = void 0;\n\nvar _once2 = _interopRequireDefault(require(\"lodash/once\"));\n\nvar _map2 = _interopRequireDefault(require(\"lodash/map\"));\n\nvar _palette = require(\"@artsy/palette\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactTracking = _interopRequireDefault(require(\"react-tracking\"));\n\nvar _reactWaypoint = _interopRequireDefault(require(\"react-waypoint\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _Helpers = require(\"../../Helpers\");\n\nvar _RelatedArticleFigure = _interopRequireDefault(require(\"./RelatedArticleFigure\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n      &:first-child {\\n        margin-left: 20px;\\n      }\\n    \"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n      margin: 0 10px;\\n      &:first-child {\\n        margin-left: 40px;\\n      }\\n      &:last-child {\\n        border-right: 20px solid white;\\n      }\\n    \"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n    display: block;\\n  \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n    margin-left: 20px;\\n  \"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    margin: 0 20px 30px 40px;\\n  \"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-bottom: 20px;\\n  \", \";\\n  \", \";\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar RelatedArticlesCanvas =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(RelatedArticlesCanvas, _React$Component);\n\n  function RelatedArticlesCanvas() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, RelatedArticlesCanvas);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(RelatedArticlesCanvas)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"trackRelatedImpression\", function () {\n      var tracking = _this.props.tracking;\n      tracking.trackEvent({\n        action: \"article_impression\",\n        impression_type: \"Further reading\"\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(RelatedArticlesCanvas, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          articles = _this$props.articles,\n          isMobile = _this$props.isMobile,\n          vertical = _this$props.vertical;\n      return _react.default.createElement(RelatedArticlesContainer, null, getTitle(vertical), _react.default.createElement(_reactWaypoint.default, {\n        onEnter: (0, _once2.default)(this.trackRelatedImpression)\n      }), _react.default.createElement(ArticlesWrapper, {\n        isMobile: isMobile\n      }, (0, _map2.default)(articles, function (article, i) {\n        return _react.default.createElement(_RelatedArticleFigure.default, {\n          article: article,\n          key: \"related-article-figure-\".concat(i)\n        });\n      })));\n    }\n  }]);\n\n  return RelatedArticlesCanvas;\n}(_react.default.Component);\n\nexports.RelatedArticlesCanvas = RelatedArticlesCanvas;\n\nvar getTitle = function getTitle(vertical) {\n  if (vertical) {\n    return _react.default.createElement(Title, {\n      size: \"8\"\n    }, \"Further Reading in \", _react.default.createElement(VerticalSpan, null, vertical.name));\n  } else {\n    return _react.default.createElement(Title, {\n      size: \"8\"\n    }, \"More from Artsy Editorial\");\n  }\n};\n\nvar RelatedArticlesContainer = _styledComponents.default.div.withConfig({\n  displayName: \"RelatedArticlesCanvas__RelatedArticlesContainer\",\n  componentId: \"s923k7t-0\"\n})([\"display:flex;flex-direction:column;max-width:1250px;margin:40px auto 80px auto;\"]);\n\nvar Title = _palette.Sans.extend(_templateObject(), _Helpers.pMedia.xl(_templateObject2()), _Helpers.pMedia.sm(_templateObject3()));\n\nvar VerticalSpan = _styledComponents.default.span.withConfig({\n  displayName: \"RelatedArticlesCanvas__VerticalSpan\",\n  componentId: \"s923k7t-1\"\n})([\"\", \";\"], _Helpers.pMedia.sm(_templateObject4()));\n\nvar ArticlesWrapper = _styledComponents.default.div.attrs({}).withConfig({\n  displayName: \"RelatedArticlesCanvas__ArticlesWrapper\",\n  componentId: \"s923k7t-2\"\n})([\"display:flex;justify-content:space-between;overflow-x:scroll;::-webkit-scrollbar{display:none;}a{margin-right:30px;&:last-child{margin-right:0;}\", \" \", \";}\", \";\"], _Helpers.pMedia.xl(_templateObject5()), _Helpers.pMedia.sm(_templateObject6()), function (props) {\n  return props.isMobile && \"-webkit-overflow-scrolling: touch;\";\n});\n\nvar _default = (0, _reactTracking.default)()(RelatedArticlesCanvas);\n\nexports.default = _default;",{"version":3,"sources":["src/Components/Publishing/RelatedArticles/RelatedArticlesCanvas.tsx"],"names":["RelatedArticlesCanvas","tracking","props","trackEvent","action","impression_type","articles","isMobile","vertical","getTitle","trackRelatedImpression","article","i","React","Component","name","RelatedArticlesContainer","styled","div","Title","Sans","extend","pMedia","xl","sm","VerticalSpan","span","ArticlesWrapper","attrs"],"mappings":";;;;;;;;;;;AAAA;;AAGA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAiBaA,qB;;;;;;;;;;;;;;;;;;qGAGc,YAAM;AAAA,UACrBC,QADqB,GACR,MAAKC,KADG,CACrBD,QADqB;AAG7BA,eAASE,UAAT,CAAoB;AAClBC,gBAAQ,oBADU;AAElBC,yBAAiB;AAFC,OAApB;AAID,K;;;;;;;6BAEQ;AAAA,wBACkC,KAAKH,KADvC;AAAA,UACCI,QADD,eACCA,QADD;AAAA,UACWC,QADX,eACWA,QADX;AAAA,UACqBC,QADrB,eACqBA,QADrB;AAGP,aACE,6BAAC,wBAAD,QACGC,SAASD,QAAT,CADH,EAEE,6BAAC,sBAAD;AAAU,iBAAS,oBAAK,KAAKE,sBAAV;AAAnB,QAFF,EAGE,6BAAC,eAAD;AAAiB,kBAAUH;AAA3B,SACG,mBAAID,QAAJ,EAAc,UAACK,OAAD,EAAUC,CAAV,EAAgB;AAC7B,eACE,6BAAC,6BAAD;AACE,mBAASD,OADX;AAEE,gDAA+BC,CAA/B;AAFF,UADF;AAMD,OAPA,CADH,CAHF,CADF;AAgBD;;;;EA/BwCC,eAAMC,S;;;;AAkCjD,IAAML,WAAW,SAAXA,QAAW,WAAY;AAC3B,MAAID,QAAJ,EAAc;AACZ,WACE,6BAAC,KAAD;AAAO,YAAK;AAAZ,8BACqB,6BAAC,YAAD,QAAeA,SAASO,IAAxB,CADrB,CADF;AAKD,GAND,MAMO;AACL,WAAO,6BAAC,KAAD;AAAO,YAAK;AAAZ,mCAAP;AACD;AACF,CAVD;;AAYA,IAAMC,2BAA2BC,0BAAOC,GAAlC;AAAA;AAAA;AAAA,uFAAN;;AAOA,IAAMC,QAAQC,cAAKC,MAAb,oBAEFC,gBAAOC,EAFL,sBAKFD,gBAAOE,EALL,qBAAN;;AASA,IAAMC,eAAeR,0BAAOS,IAAtB;AAAA;AAAA;AAAA,cACFJ,gBAAOE,EADL,qBAAN;;AAKA,IAAMG,kBAAkBV,0BAAOC,GAAP,CAAWU,KAAX,CAA0C,EAA1C,CAAlB;AAAA;AAAA;AAAA,yKAYAN,gBAAOC,EAZP,sBAoBGD,gBAAOE,EApBV,sBA0BF;AAAA,SAAStB,MAAMK,QAAN,IAAkB,oCAA3B;AAAA,CA1BE,CAAN;;eA6Be,8BAAQP,qBAAR,C","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import { Sans } from \"@artsy/palette\"\nimport { RelatedArticleData } from \"Components/Publishing/Typings\"\nimport { map, once } from \"lodash\"\nimport React from \"react\"\nimport track from \"react-tracking\"\nimport Waypoint from \"react-waypoint\"\nimport styled from \"styled-components\"\nimport { pMedia } from \"../../Helpers\"\nimport RelatedArticleFigure from \"./RelatedArticleFigure\"\n\nexport interface RelatedArticlesCanvasProps\n  extends React.HTMLProps<HTMLDivElement> {\n  vertical?: {\n    name: string\n    id?: string\n  }\n  articles: RelatedArticleData[]\n  isMobile?: boolean\n  tracking?: any\n}\n\ninterface ScrollingContainerProps {\n  isMobile?: boolean\n}\n\nexport class RelatedArticlesCanvas extends React.Component<\n  RelatedArticlesCanvasProps\n> {\n  trackRelatedImpression = () => {\n    const { tracking } = this.props\n\n    tracking.trackEvent({\n      action: \"article_impression\",\n      impression_type: \"Further reading\",\n    })\n  }\n\n  render() {\n    const { articles, isMobile, vertical } = this.props\n\n    return (\n      <RelatedArticlesContainer>\n        {getTitle(vertical)}\n        <Waypoint onEnter={once(this.trackRelatedImpression)} />\n        <ArticlesWrapper isMobile={isMobile}>\n          {map(articles, (article, i) => {\n            return (\n              <RelatedArticleFigure\n                article={article}\n                key={`related-article-figure-${i}`}\n              />\n            )\n          })}\n        </ArticlesWrapper>\n      </RelatedArticlesContainer>\n    )\n  }\n}\n\nconst getTitle = vertical => {\n  if (vertical) {\n    return (\n      <Title size=\"8\">\n        Further Reading in <VerticalSpan>{vertical.name}</VerticalSpan>\n      </Title>\n    )\n  } else {\n    return <Title size=\"8\">More from Artsy Editorial</Title>\n  }\n}\n\nconst RelatedArticlesContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  max-width: 1250px;\n  margin: 40px auto 80px auto;\n`\n\nconst Title = Sans.extend`\n  margin-bottom: 20px;\n  ${pMedia.xl`\n    margin: 0 20px 30px 40px;\n  `};\n  ${pMedia.sm`\n    margin-left: 20px;\n  `};\n`\nconst VerticalSpan = styled.span`\n  ${pMedia.sm`\n    display: block;\n  `};\n`\nconst ArticlesWrapper = styled.div.attrs<ScrollingContainerProps>({})`\n  display: flex;\n  justify-content: space-between;\n  overflow-x: scroll;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  a {\n    margin-right: 30px;\n    &:last-child {\n      margin-right: 0;\n    }\n    ${pMedia.xl`\n      margin: 0 10px;\n      &:first-child {\n        margin-left: 40px;\n      }\n      &:last-child {\n        border-right: 20px solid white;\n      }\n    `} ${pMedia.sm`\n      &:first-child {\n        margin-left: 20px;\n      }\n    `};\n  }\n  ${props => props.isMobile && \"-webkit-overflow-scrolling: touch;\"};\n`\n\nexport default track()(RelatedArticlesCanvas)\n"]}]}