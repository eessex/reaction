{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--5-1!/Users/eve/development/reaction/src/Components/Publishing/Layouts/StandardArticle.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/Layouts/StandardArticle.tsx","mtime":1523543515000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1519658991000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StandardArticle = void 0;\n\nvar _lodash = require(\"lodash\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _Colors = _interopRequireDefault(require(\"../../../Assets/Colors\"));\n\nvar _Responsive = require(\"../../../Utils/Responsive\");\n\nvar _Helpers = require(\"../../Helpers\");\n\nvar _Canvas = require(\"../Display/Canvas\");\n\nvar _DisplayPanel = require(\"../Display/DisplayPanel\");\n\nvar _EmailPanel = require(\"../Email/EmailPanel\");\n\nvar _Header = require(\"../Header/Header\");\n\nvar _ReadMoreButton = require(\"../ReadMore/ReadMoreButton\");\n\nvar _ReadMoreWrapper = require(\"../ReadMore/ReadMoreWrapper\");\n\nvar _RelatedArticlesCanvas = require(\"../RelatedArticles/RelatedArticlesCanvas\");\n\nvar _RelatedArticlesPanel = require(\"../RelatedArticles/RelatedArticlesPanel\");\n\nvar _Sections = require(\"../Sections/Sections\");\n\nvar _Sidebar = require(\"./Components/Sidebar\");\n\nvar _templateObject = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n    margin: 0 0 100px 0;\\n  \"], [\"\\n    margin: 0 0 100px 0;\\n  \"]),\n    _templateObject2 = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n    margin: 0 20px;\\n  \"], [\"\\n    margin: 0 20px;\\n  \"]);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nvar StandardArticle =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(StandardArticle, _React$Component);\n\n  function StandardArticle(props) {\n    var _this;\n\n    _classCallCheck(this, StandardArticle);\n\n    _this = _possibleConstructorReturn(this, (StandardArticle.__proto__ || Object.getPrototypeOf(StandardArticle)).call(this, props));\n    Object.defineProperty(_assertThisInitialized(_this), \"removeTruncation\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value() {\n        _this.setState({\n          isTruncated: false\n        });\n      }\n    });\n    _this.state = {\n      isTruncated: props.isTruncated || false\n    };\n    return _this;\n  }\n\n  _createClass(StandardArticle, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          article = _props.article,\n          display = _props.display,\n          relatedArticlesForCanvas = _props.relatedArticlesForCanvas,\n          relatedArticlesForPanel = _props.relatedArticlesForPanel;\n      var hasPanel = (0, _lodash.get)(display, \"panel\", false);\n      var campaign = (0, _lodash.omit)(display, \"panel\", \"canvas\");\n      var displayOverflows = display && display.canvas.layout === \"slideshow\";\n      return _react.default.createElement(_Responsive.Responsive, {\n        initialState: {\n          isMobile: this.props.isMobile\n        }\n      }, function (_ref) {\n        var isMobile = _ref.isMobile,\n            xs = _ref.xs,\n            sm = _ref.sm,\n            md = _ref.md;\n        var isMobileAd = Boolean(isMobile || xs || sm || md);\n\n        var DisplayPanelAd = function DisplayPanelAd() {\n          return hasPanel && _react.default.createElement(_DisplayPanel.DisplayPanel, {\n            isMobile: isMobileAd,\n            unit: _this2.props.display.panel,\n            campaign: campaign,\n            article: article\n          });\n        };\n\n        return _react.default.createElement(\"div\", null, _react.default.createElement(_ReadMoreWrapper.ReadMoreWrapper, {\n          isTruncated: _this2.state.isTruncated,\n          hideButton: _this2.removeTruncation\n        }, _react.default.createElement(_Header.Header, {\n          article: article,\n          isMobile: isMobile\n        }), _react.default.createElement(StandardLayoutParent, null, _react.default.createElement(StandardLayout, null, _react.default.createElement(_Sections.Sections, {\n          DisplayPanel: DisplayPanelAd,\n          article: article,\n          isMobile: isMobile\n        }), _react.default.createElement(_Sidebar.Sidebar, null, _this2.props.emailSignupUrl && _react.default.createElement(SidebarItem, null, _react.default.createElement(_EmailPanel.EmailPanel, {\n          signupUrl: _this2.props.emailSignupUrl\n        })), relatedArticlesForPanel && _react.default.createElement(SidebarItem, null, _react.default.createElement(_RelatedArticlesPanel.RelatedArticlesPanel, {\n          label: \"Related Stories\",\n          articles: relatedArticlesForPanel\n        })), !isMobileAd && _this2.props.display && _react.default.createElement(DisplayPanelAd, null)))), relatedArticlesForCanvas && _react.default.createElement(\"div\", null, _react.default.createElement(LineBreak, null), _react.default.createElement(_RelatedArticlesCanvas.RelatedArticlesCanvas, {\n          articles: relatedArticlesForCanvas,\n          isMobile: isMobile,\n          vertical: article.vertical\n        }))), _this2.state.isTruncated && _react.default.createElement(_ReadMoreButton.ReadMore, {\n          onClick: _this2.removeTruncation\n        }), _this2.props.display && _react.default.createElement(\"div\", null, _react.default.createElement(LineBreak, null), displayOverflows ? _react.default.createElement(\"div\", null, _react.default.createElement(_Canvas.DisplayCanvas, {\n          unit: _this2.props.display.canvas,\n          campaign: campaign,\n          article: article\n        })) : _react.default.createElement(FooterContainer, null, _react.default.createElement(_Canvas.DisplayCanvas, {\n          unit: _this2.props.display.canvas,\n          campaign: campaign,\n          article: article\n        }))));\n      });\n    }\n  }]);\n\n  return StandardArticle;\n}(_react.default.Component);\n\nexports.StandardArticle = StandardArticle;\nObject.defineProperty(StandardArticle, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    isMobile: false,\n    isSuper: false,\n    article: {},\n    isTruncated: false\n  }\n});\n\nvar StandardLayoutParent =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"StandardArticle__StandardLayoutParent\",\n  componentId: \"s36xg3a-0\"\n})([\"margin:0 40px 100px 40px;\", \"\"], _Helpers.pMedia.sm(_templateObject));\n\nvar StandardLayout =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"StandardArticle__StandardLayout\",\n  componentId: \"s36xg3a-1\"\n})([\"max-width:1250px;display:flex;margin:auto;justify-content:space-between;\"]);\n\nvar LineBreak =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"StandardArticle__LineBreak\",\n  componentId: \"s36xg3a-2\"\n})([\"border-top:1px solid \", \";width:100%;\"], _Colors.default.grayRegular);\n\nvar SidebarItem =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"StandardArticle__SidebarItem\",\n  componentId: \"s36xg3a-3\"\n})([\"margin-bottom:40px;\"]);\n\nvar FooterContainer =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"StandardArticle__FooterContainer\",\n  componentId: \"s36xg3a-4\"\n})([\"margin:0 40px;\", \";\"], _Helpers.pMedia.sm(_templateObject2));",{"version":3,"sources":["src/Components/Publishing/Layouts/StandardArticle.tsx"],"names":["StandardArticle","props","setState","isTruncated","state","article","display","relatedArticlesForCanvas","relatedArticlesForPanel","hasPanel","campaign","displayOverflows","canvas","layout","isMobile","xs","sm","md","isMobileAd","Boolean","DisplayPanelAd","panel","removeTruncation","emailSignupUrl","vertical","Component","isSuper","StandardLayoutParent","div","StandardLayout","LineBreak","grayRegular","SidebarItem","FooterContainer"],"mappings":"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","file":"/Users/eve/development/reaction/src/Components/Publishing/Layouts/StandardArticle.tsx","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import { get, omit } from \"lodash\"\nimport React from \"react\"\nimport styled from \"styled-components\"\nimport Colors from \"../../../Assets/Colors\"\nimport { Responsive } from \"../../../Utils/Responsive\"\nimport { pMedia } from \"../../Helpers\"\nimport { DisplayCanvas } from \"../Display/Canvas\"\nimport { DisplayPanel } from \"../Display/DisplayPanel\"\nimport { EmailPanel } from \"../Email/EmailPanel\"\nimport { Header } from \"../Header/Header\"\nimport { ReadMore } from \"../ReadMore/ReadMoreButton\"\nimport { ReadMoreWrapper } from \"../ReadMore/ReadMoreWrapper\"\nimport { RelatedArticlesCanvas } from \"../RelatedArticles/RelatedArticlesCanvas\"\nimport { RelatedArticlesPanel } from \"../RelatedArticles/RelatedArticlesPanel\"\nimport { Sections } from \"../Sections/Sections\"\nimport { ArticleData } from \"../Typings\"\nimport { Sidebar } from \"./Components/Sidebar\"\n\nexport interface ArticleProps {\n  article: ArticleData\n  seriesArticle?: ArticleData\n  closeViewer?: () => void\n  display?: {\n    name: string\n    panel: object\n    canvas: any\n  }\n  emailSignupUrl?: string\n  headerHeight?: string\n  isMobile?: boolean\n  isSuper?: boolean\n  isTruncated?: boolean\n  marginTop?: string\n  relatedArticlesForCanvas?: any\n  relatedArticlesForPanel?: any\n  slideIndex?: number\n  viewerIsOpen?: boolean\n}\n\ninterface ArticleState {\n  isTruncated: boolean\n}\n\nexport class StandardArticle extends React.Component<\n  ArticleProps,\n  ArticleState\n  > {\n  static defaultProps = {\n    isMobile: false,\n    isSuper: false,\n    article: {},\n    isTruncated: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      isTruncated: props.isTruncated || false,\n    }\n  }\n\n  removeTruncation = () => {\n    this.setState({ isTruncated: false })\n  }\n\n  render() {\n    const {\n      article,\n      display,\n      relatedArticlesForCanvas,\n      relatedArticlesForPanel,\n    } = this.props\n\n    const hasPanel = get(display, \"panel\", false)\n    const campaign = omit(display, \"panel\", \"canvas\")\n    const displayOverflows = display && display.canvas.layout === \"slideshow\"\n\n    return (\n      <Responsive initialState={{ isMobile: this.props.isMobile }}>\n        {({ isMobile, xs, sm, md }) => {\n          const isMobileAd = Boolean(isMobile || xs || sm || md)\n\n          const DisplayPanelAd = () => {\n            return (\n              hasPanel && (\n                <DisplayPanel\n                  isMobile={isMobileAd}\n                  unit={this.props.display.panel}\n                  campaign={campaign}\n                  article={article}\n                />\n              )\n            )\n          }\n\n          return (\n            <div>\n              <ReadMoreWrapper\n                isTruncated={this.state.isTruncated}\n                hideButton={this.removeTruncation}\n              >\n                {/*\n                  Header\n                */}\n                <Header article={article} isMobile={isMobile} />\n\n                <StandardLayoutParent>\n                  <StandardLayout>\n                    {/*\n                      Body Content\n                    */}\n                    <Sections\n                      DisplayPanel={DisplayPanelAd}\n                      article={article}\n                      isMobile={isMobile}\n                    />\n\n                    {/*\n                      Sidebar\n                    */}\n                    <Sidebar>\n                      {this.props.emailSignupUrl && (\n                        <SidebarItem>\n                          <EmailPanel signupUrl={this.props.emailSignupUrl} />\n                        </SidebarItem>\n                      )}\n\n                      {/*\n                        Related Articles\n                      */}\n                      {relatedArticlesForPanel && (\n                        <SidebarItem>\n                          <RelatedArticlesPanel\n                            label={\"Related Stories\"}\n                            articles={relatedArticlesForPanel}\n                          />\n                        </SidebarItem>\n                      )}\n\n                      {/*\n                        Display Ad\n                      */}\n                      {!isMobileAd && this.props.display && <DisplayPanelAd />}\n                    </Sidebar>\n                  </StandardLayout>\n                </StandardLayoutParent>\n\n                {/*\n                  Canvas: Related Articles\n                */}\n                {relatedArticlesForCanvas && (\n                  <div>\n                    <LineBreak />\n                    <RelatedArticlesCanvas\n                      articles={relatedArticlesForCanvas}\n                      isMobile={isMobile}\n                      vertical={article.vertical}\n                    />\n                  </div>\n                )}\n              </ReadMoreWrapper>\n\n              {/*\n                Read More Button\n              */}\n              {this.state.isTruncated && (\n                <ReadMore onClick={this.removeTruncation} />\n              )}\n\n              {/*\n                Footer\n              */}\n              {this.props.display && (\n                <div>\n                  <LineBreak />\n\n                  {displayOverflows ? (\n                    <div>\n                      <DisplayCanvas\n                        unit={this.props.display.canvas}\n                        campaign={campaign}\n                        article={article}\n                      />\n                    </div>\n                  ) : (\n                      <FooterContainer>\n                        <DisplayCanvas\n                          unit={this.props.display.canvas}\n                          campaign={campaign}\n                          article={article}\n                        />\n                      </FooterContainer>\n                    )}\n                </div>\n              )}\n            </div>\n          )\n        }}\n      </Responsive>\n    )\n  }\n}\n\nconst StandardLayoutParent = styled.div`\n  margin: 0 40px 100px 40px;\n  ${pMedia.sm`\n    margin: 0 0 100px 0;\n  `}\n`\n\nconst StandardLayout = styled.div`\n  max-width: 1250px;\n  display: flex;\n  margin: auto;\n  justify-content: space-between;\n`\n\nconst LineBreak = styled.div`\n  border-top: 1px solid ${Colors.grayRegular};\n  width: 100%;\n`\n\nconst SidebarItem = styled.div`\n  margin-bottom: 40px;\n`\n\nconst FooterContainer = styled.div`\n  margin: 0 40px;\n  ${pMedia.sm`\n    margin: 0 20px;\n  `};\n`\n"]}]}