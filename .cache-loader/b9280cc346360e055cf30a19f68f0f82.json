{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Components/Artist/MarketInsights/MarketInsights.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Artist/MarketInsights/MarketInsights.tsx","mtime":1535727435000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1537112679000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _groupBy from \"lodash/groupBy\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport * as React from \"react\";\nimport { createFragmentContainer, graphql } from \"react-relay\";\nimport styled from \"styled-components\";\nimport colors from \"../../../Assets/Colors\";\nimport { unica } from \"../../../Assets/Fonts\";\nimport TextLink from \"../../TextLink\";\nimport { Tooltip } from \"../../Tooltip\";\nimport { Help } from \"../../../Assets/Icons/Help\";\nvar MarketInsightsContainer = styled.div.withConfig({\n  displayName: \"MarketInsights__MarketInsightsContainer\",\n  componentId: \"s16h7vui-0\"\n})([\"\", \";\"], unica(\"s14\", \"medium\"));\nvar MarketInsightsDataContainer = styled.div.withConfig({\n  displayName: \"MarketInsights__MarketInsightsDataContainer\",\n  componentId: \"s16h7vui-1\"\n})([\"> div{display:inline-block;padding:10px 30px;}border-bottom:1px solid \", \";border-top:1px solid \", \";padding:20px;text-align:center;\"], colors.grayRegular, colors.grayRegular);\nvar FeedbackContainer = styled.div.withConfig({\n  displayName: \"MarketInsights__FeedbackContainer\",\n  componentId: \"s16h7vui-2\"\n})([\"color:\", \";padding:8px 0;\", \";a{\", \";}\"], colors.graySemibold, unica(\"s10\"), unica(\"s10\"));\nvar TooltipContainer = styled.div.withConfig({\n  displayName: \"MarketInsights__TooltipContainer\",\n  componentId: \"s16h7vui-3\"\n})([\"display:inline-block;\"]);\nvar Categories = {\n  \"blue-chip\": \"Blue Chip\",\n  \"top-established\": \"Top Established\",\n  \"top-emerging\": \"Top Emerging\"\n};\nvar orderedCategories = [\"blue-chip\", \"top-established\", \"top-emerging\"];\nvar CategoryTooltipContent = {\n  \"blue-chip\": \"Blue chip galleries have multiple locations internationally and participate in major art fairs.\",\n  \"top-established\": \"Top established galleries have been industry leaders in their region or specialty for decades.\",\n  \"top-emerging\": \"Top emerging dealers participate in curated, up-and-coming art fairs.\"\n};\n\nvar groupedByCategories = function groupedByCategories(edges) {\n  return _groupBy(edges, function (_ref) {\n    var partner = _ref.node;\n    var category;\n    Object.keys(Categories).forEach(function (key) {\n      partner.categories.forEach(function (partnerCategory) {\n        if (partnerCategory.id === key) {\n          category = key;\n        }\n      });\n    });\n    return category;\n  });\n};\n\nexport var highestCategory = function highestCategory(edges) {\n  var groups = groupedByCategories(edges);\n  return orderedCategories.filter(function (category) {\n    return groups[category] && groups[category].length > 0;\n  })[0];\n};\nexport var hasSections = function hasSections(_ref2) {\n  var highlights = _ref2.highlights,\n      auctionResults = _ref2.auctionResults,\n      collections = _ref2.collections;\n  var partners = highlights.partners; // Is there a gallery representation section?\n\n  if (partners && partners.edges && partners.edges.length > 0) {\n    return true;\n  } // Is there an auction highlights section?\n\n\n  if (auctionResults && auctionResults.edges && auctionResults.edges.length > 0) {\n    return true;\n  } // Is there a permanent collections section?\n\n\n  if (collections && collections.length > 0) {\n    return true;\n  }\n\n  return false;\n};\nexport var MarketInsights =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MarketInsights, _React$Component);\n\n  function MarketInsights() {\n    _classCallCheck(this, MarketInsights);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MarketInsights).apply(this, arguments));\n  }\n\n  _createClass(MarketInsights, [{\n    key: \"renderGalleryCategory\",\n    value: function renderGalleryCategory(categorySlug, partnerCount) {\n      var introSentence;\n      var category = Categories[categorySlug];\n      var categoryTooltipContent = CategoryTooltipContent[categorySlug];\n\n      if (partnerCount > 1) {\n        introSentence = \"Represented by \" + category.toLowerCase() + \" galleries\";\n      } else {\n        introSentence = \"Represented by a \" + category.toLowerCase() + \" gallery\";\n      }\n\n      return React.createElement(\"div\", null, introSentence, \"\\xA0\", React.createElement(TooltipContainer, null, React.createElement(Tooltip, {\n        message: categoryTooltipContent\n      }, React.createElement(\"span\", {\n        style: {\n          verticalAlign: \"text-top\"\n        }\n      }, React.createElement(Help, null)))));\n    } // We group all partners that represent an artist by their relevant category, from the list above.\n    // Assumption: these are mutually exclusive categories among a partner.\n\n  }, {\n    key: \"renderGalleryRepresentation\",\n    value: function renderGalleryRepresentation() {\n      var highlights = this.props.artist.highlights;\n      var partners = highlights.partners;\n\n      if (partners && partners.edges && partners.edges.length > 0) {\n        var highCategory = highestCategory(partners.edges);\n        return React.createElement(\"div\", null, this.renderGalleryCategory(highCategory, groupedByCategories(partners.edges)[highCategory].length));\n      }\n    }\n  }, {\n    key: \"renderAuctionHighlight\",\n    value: function renderAuctionHighlight() {\n      if (!this.props.artist.auctionResults || this.props.artist.auctionResults.edges.length < 1) {\n        return null;\n      }\n\n      var topAuctionResult = this.props.artist.auctionResults.edges[0].node;\n      return React.createElement(\"div\", null, topAuctionResult.price_realized.display, \" auction record\");\n    }\n  }, {\n    key: \"renderPermanentCollection\",\n    value: function renderPermanentCollection() {\n      var collections = this.props.artist.collections;\n\n      if (!collections || collections.length === 0) {\n        return null;\n      }\n\n      if (collections.length === 1) {\n        return React.createElement(\"div\", null, \"Collected by a major museum\");\n      }\n\n      return React.createElement(\"div\", null, \"Collected by major museums\");\n    }\n  }, {\n    key: \"renderFeedbackLine\",\n    value: function renderFeedbackLine() {\n      return React.createElement(FeedbackContainer, null, \"Generated using partial data.\\xA0\", React.createElement(TextLink, {\n        color: colors.graySemibold,\n        underline: true,\n        href: \"mailto:productfeedback@artsy.net?subject=Feedback on \\\"About the Artist\\\" information\"\n      }, \"Tell us what you think.\"));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (hasSections(this.props.artist)) {\n        return React.createElement(MarketInsightsContainer, null, React.createElement(MarketInsightsDataContainer, null, this.renderAuctionHighlight(), this.renderGalleryRepresentation(), this.renderPermanentCollection()), this.renderFeedbackLine());\n      }\n\n      return null;\n    }\n  }]);\n\n  return MarketInsights;\n}(React.Component);\nexport default createFragmentContainer(MarketInsights, {\n  artist: function artist() {\n    var node = require(\"../../../__generated__/MarketInsights_artist.graphql\");\n\n    if (node.hash && node.hash !== \"bc1709cbe4b0a9523e937f00dbd67ede\") {\n      console.error(\"The definition of 'MarketInsights_artist' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\");\n    }\n\n    return require(\"../../../__generated__/MarketInsights_artist.graphql\");\n  }\n});",{"version":3,"sources":["/Users/eve/development/reaction/src/Components/Artist/MarketInsights/MarketInsights.tsx"],"names":["React","createFragmentContainer","graphql","styled","colors","unica","TextLink","Tooltip","Help","MarketInsightsContainer","div","MarketInsightsDataContainer","grayRegular","FeedbackContainer","graySemibold","TooltipContainer","Categories","orderedCategories","CategoryTooltipContent","groupedByCategories","edges","partner","node","category","Object","keys","forEach","key","categories","partnerCategory","id","highestCategory","groups","filter","length","hasSections","highlights","auctionResults","collections","partners","MarketInsights","categorySlug","partnerCount","introSentence","categoryTooltipContent","toLowerCase","verticalAlign","props","artist","highCategory","renderGalleryCategory","topAuctionResult","price_realized","display","renderAuctionHighlight","renderGalleryRepresentation","renderPermanentCollection","renderFeedbackLine","Component"],"mappings":"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","sourcesContent":["import { groupBy } from \"lodash\"\nimport * as React from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport styled from \"styled-components\"\n\nimport colors from \"Assets/Colors\"\nimport { unica } from \"Assets/Fonts\"\nimport TextLink from \"../../TextLink\"\nimport { Tooltip } from \"../../Tooltip\"\n\nimport { Help } from \"../../../Assets/Icons/Help\"\n\nconst MarketInsightsContainer = styled.div`\n  ${unica(\"s14\", \"medium\")};\n`\n\nconst MarketInsightsDataContainer = styled.div`\n  > div {\n    display: inline-block;\n    padding: 10px 30px;\n  }\n  border-bottom: 1px solid ${colors.grayRegular};\n  border-top: 1px solid ${colors.grayRegular};\n  padding: 20px;\n  text-align: center;\n`\n\nconst FeedbackContainer = styled.div`\n  color: ${colors.graySemibold};\n  padding: 8px 0;\n  ${unica(\"s10\")};\n  a {\n    ${unica(\"s10\")};\n  }\n`\n\nconst TooltipContainer = styled.div`\n  display: inline-block;\n`\n\nimport { MarketInsights_artist } from \"../../../__generated__/MarketInsights_artist.graphql\"\ninterface Props extends React.HTMLProps<MarketInsights> {\n  artist: MarketInsights_artist\n}\n\nconst Categories = {\n  \"blue-chip\": \"Blue Chip\",\n  \"top-established\": \"Top Established\",\n  \"top-emerging\": \"Top Emerging\",\n}\n\nconst orderedCategories = [\"blue-chip\", \"top-established\", \"top-emerging\"]\n\nconst CategoryTooltipContent = {\n  \"blue-chip\":\n    \"Blue chip galleries have multiple locations internationally and participate in major art fairs.\",\n  \"top-established\":\n    \"Top established galleries have been industry leaders in their region or specialty for decades.\",\n  \"top-emerging\":\n    \"Top emerging dealers participate in curated, up-and-coming art fairs.\",\n}\n\nconst groupedByCategories = edges => {\n  return groupBy(edges, ({ node: partner }) => {\n    let category\n    Object.keys(Categories).forEach(key => {\n      partner.categories.forEach(partnerCategory => {\n        if (partnerCategory.id === key) {\n          category = key\n        }\n      })\n    })\n    return category\n  })\n}\n\nexport const highestCategory = edges => {\n  const groups = groupedByCategories(edges)\n  return orderedCategories.filter(\n    category => groups[category] && groups[category].length > 0\n  )[0]\n}\n\nexport const hasSections = ({\n  highlights,\n  auctionResults,\n  collections,\n}: {\n  highlights: { partners?: { edges: ReadonlyArray<any> } }\n  auctionResults?: { edges: ReadonlyArray<any> }\n  collections?: ReadonlyArray<any>\n}) => {\n  const { partners } = highlights\n\n  // Is there a gallery representation section?\n  if (partners && partners.edges && partners.edges.length > 0) {\n    return true\n  }\n\n  // Is there an auction highlights section?\n  if (\n    auctionResults &&\n    auctionResults.edges &&\n    auctionResults.edges.length > 0\n  ) {\n    return true\n  }\n\n  // Is there a permanent collections section?\n  if (collections && collections.length > 0) {\n    return true\n  }\n\n  return false\n}\n\nexport class MarketInsights extends React.Component<Props, null> {\n  renderGalleryCategory(categorySlug, partnerCount) {\n    let introSentence\n    const category = Categories[categorySlug]\n    const categoryTooltipContent = CategoryTooltipContent[categorySlug]\n    if (partnerCount > 1) {\n      introSentence = \"Represented by \" + category.toLowerCase() + \" galleries\"\n    } else {\n      introSentence = \"Represented by a \" + category.toLowerCase() + \" gallery\"\n    }\n\n    return (\n      <div>\n        {introSentence}&nbsp;\n        <TooltipContainer>\n          <Tooltip message={categoryTooltipContent}>\n            <span style={{ verticalAlign: \"text-top\" }}>\n              <Help />\n            </span>\n          </Tooltip>\n        </TooltipContainer>\n      </div>\n    )\n  }\n\n  // We group all partners that represent an artist by their relevant category, from the list above.\n  // Assumption: these are mutually exclusive categories among a partner.\n  renderGalleryRepresentation() {\n    const { highlights } = this.props.artist\n    const { partners } = highlights\n    if (partners && partners.edges && partners.edges.length > 0) {\n      const highCategory = highestCategory(partners.edges)\n      return (\n        <div>\n          {this.renderGalleryCategory(\n            highCategory,\n            groupedByCategories(partners.edges)[highCategory].length\n          )}\n        </div>\n      )\n    }\n  }\n\n  renderAuctionHighlight() {\n    if (\n      !this.props.artist.auctionResults ||\n      this.props.artist.auctionResults.edges.length < 1\n    ) {\n      return null\n    }\n    const topAuctionResult = this.props.artist.auctionResults.edges[0].node\n    return <div>{topAuctionResult.price_realized.display} auction record</div>\n  }\n\n  renderPermanentCollection() {\n    const { collections } = this.props.artist\n    if (!collections || collections.length === 0) {\n      return null\n    }\n    if (collections.length === 1) {\n      return <div>Collected by a major museum</div>\n    }\n    return <div>Collected by major museums</div>\n  }\n\n  renderFeedbackLine() {\n    return (\n      <FeedbackContainer>\n        Generated using partial data.&nbsp;\n        <TextLink\n          color={colors.graySemibold}\n          underline\n          href=\"mailto:productfeedback@artsy.net?subject=Feedback on &quot;About the Artist&quot; information\"\n        >\n          Tell us what you think.\n        </TextLink>\n      </FeedbackContainer>\n    )\n  }\n\n  render() {\n    if (hasSections(this.props.artist)) {\n      return (\n        <MarketInsightsContainer>\n          <MarketInsightsDataContainer>\n            {this.renderAuctionHighlight()}\n            {this.renderGalleryRepresentation()}\n            {this.renderPermanentCollection()}\n          </MarketInsightsDataContainer>\n          {this.renderFeedbackLine()}\n        </MarketInsightsContainer>\n      )\n    }\n    return null\n  }\n}\n\nexport default createFragmentContainer(\n  MarketInsights,\n  graphql`\n    fragment MarketInsights_artist on Artist\n      @argumentDefinitions(\n        partner_category: {\n          type: \"[String]\"\n          defaultValue: [\"blue-chip\", \"top-established\", \"top-emerging\"]\n        }\n      ) {\n      _id\n      collections\n      highlights {\n        partners(\n          first: 10\n          display_on_partner_profile: true\n          represented_by: true\n          partner_category: $partner_category\n        ) {\n          edges {\n            node {\n              categories {\n                id\n              }\n            }\n          }\n        }\n      }\n      auctionResults(\n        recordsTrusted: true\n        first: 1\n        sort: PRICE_AND_DATE_DESC\n      ) {\n        edges {\n          node {\n            price_realized {\n              display(format: \"0a\")\n            }\n          }\n        }\n      }\n    }\n  `\n)\n"]}]}