{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Components/Publishing/Byline/Share.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/Byline/Share.tsx","mtime":1537112679000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1537112679000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["var _dec, _class, _class2, _temp;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"margin-top: 15px;\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Sans } from \"@artsy/palette\";\nimport React from \"react\";\nimport track from \"react-tracking\";\nimport styled from \"styled-components\";\nimport Events from \"../../../Utils/Events\";\nimport { pMedia } from \"../../Helpers\";\nimport { IconSocialEmail } from \"../Icon/IconSocialEmail\";\nimport { IconSocialFacebook } from \"../Icon/IconSocialFacebook\";\nimport { IconSocialTwitter } from \"../Icon/IconSocialTwitter\";\nexport var Share = (_dec = track(function (props) {\n  return props.trackingData ? props.trackingData : {};\n}, {\n  dispatch: function dispatch(data) {\n    return Events.postEvent(data);\n  }\n}), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Share, _React$Component);\n\n  function Share(props) {\n    var _this;\n\n    _classCallCheck(this, Share);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Share).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getIcon\", function (type) {\n      var color = _this.props.color;\n\n      var icon = function icon(service) {\n        switch (service) {\n          case \"email\":\n            {\n              return React.createElement(IconSocialEmail, {\n                color: color\n              });\n            }\n\n          case \"facebook\":\n            {\n              return React.createElement(IconSocialFacebook, {\n                color: color\n              });\n            }\n\n          case \"twitter\":\n            {\n              return React.createElement(IconSocialTwitter, {\n                color: color\n              });\n            }\n\n          default:\n            {\n              break;\n            }\n        }\n      };\n\n      return React.createElement(IconWrapper, {\n        href: _this.getHref(type),\n        target: \"_blank\",\n        onClick: _this.trackShare\n      }, icon(type));\n    });\n\n    _this.getHref = _this.getHref.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.trackShare = _this.trackShare.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Share, [{\n    key: \"trackShare\",\n    value: function trackShare(e) {\n      e.preventDefault();\n      window.open(e.currentTarget.attributes.href.value, \"Share\", \"width = 600,height = 300\");\n      this.props.tracking.trackEvent({\n        action: \"Click\",\n        type: \"share\",\n        label: function () {\n          var href = e.currentTarget.attributes.href.value;\n          if (href.match(\"facebook\")) return \"facebook\";\n          if (href.match(\"twitter\")) return \"twitter\";\n          if (href.match(\"mailto\")) return \"email\";\n        }()\n      });\n    }\n  }, {\n    key: \"getHref\",\n    value: function getHref(type) {\n      var _this$props = this.props,\n          url = _this$props.url,\n          title = _this$props.title;\n      var encodedUrl = encodeURIComponent(url);\n      var channels = {\n        facebook: \"https://www.facebook.com/sharer/sharer.php?u=\".concat(encodedUrl),\n        twitter: \"https://twitter.com/intent/tweet?original_referer=\".concat(encodedUrl, \"&text=\").concat(title, \"&url=\").concat(encodedUrl, \"&via=artsy\"),\n        email: \"mailto:?subject=\".concat(title, \"&body=Check out \").concat(title, \" on Artsy: \").concat(url)\n      };\n      return channels[type];\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          hasLabel = _this$props2.hasLabel,\n          isMobile = _this$props2.isMobile,\n          isNews = _this$props2.isNews;\n      return React.createElement(ShareContainer, {\n        removeMarginForMobile: isNews && isMobile\n      }, hasLabel && React.createElement(ShareLabel, {\n        size: \"3t\",\n        weight: \"medium\"\n      }, \"Share\"), this.getIcon(\"facebook\"), this.getIcon(\"twitter\"), this.getIcon(\"email\"));\n    }\n  }]);\n\n  return Share;\n}(React.Component), _defineProperty(_class2, \"defaultProps\", {\n  color: \"black\",\n  hasLabel: false\n}), _temp)) || _class);\nexport var ShareContainer = styled.div.attrs({}).withConfig({\n  displayName: \"Share__ShareContainer\",\n  componentId: \"s1y1t686-0\"\n})([\"display:flex;align-items:center;white-space:nowrap;line-height:1em;margin-top:5px;\", \";\"], function (props) {\n  return props.removeMarginForMobile && pMedia.xs(_templateObject());\n});\nvar IconWrapper = styled.a.withConfig({\n  displayName: \"Share__IconWrapper\",\n  componentId: \"s1y1t686-1\"\n})([\"text-decoration:none;padding-left:7px;padding-right:7px;&:hover{opacity:0.6;}&:first-child{padding-left:0;}\"]);\nvar ShareLabel = styled(Sans).withConfig({\n  displayName: \"Share__ShareLabel\",\n  componentId: \"s1y1t686-2\"\n})([\"margin:5px 10px 5px 0px;\"]);",{"version":3,"sources":["/Users/eve/development/reaction/src/Components/Publishing/Byline/Share.tsx"],"names":["Sans","React","track","styled","Events","pMedia","IconSocialEmail","IconSocialFacebook","IconSocialTwitter","Share","props","trackingData","dispatch","data","postEvent","type","color","icon","service","getHref","trackShare","bind","e","preventDefault","window","open","currentTarget","attributes","href","value","tracking","trackEvent","action","label","match","url","title","encodedUrl","encodeURIComponent","channels","facebook","twitter","email","hasLabel","isMobile","isNews","getIcon","Component","ShareContainer","div","attrs","removeMarginForMobile","xs","IconWrapper","a","ShareLabel"],"mappings":"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","sourcesContent":["import { Sans } from \"@artsy/palette\"\nimport React from \"react\"\nimport track from \"react-tracking\"\nimport styled from \"styled-components\"\nimport Events from \"../../../Utils/Events\"\nimport { pMedia } from \"../../Helpers\"\nimport { IconSocialEmail } from \"../Icon/IconSocialEmail\"\nimport { IconSocialFacebook } from \"../Icon/IconSocialFacebook\"\nimport { IconSocialTwitter } from \"../Icon/IconSocialTwitter\"\n\ninterface Props extends React.HTMLProps<HTMLDivElement> {\n  url: string\n  title: string\n  articleId?: string\n  color?: string\n  tracking?: any\n  trackingData?: any\n  hasLabel?: boolean\n  isMobile?: boolean\n  isNews?: boolean\n}\n\n@track(\n  props => {\n    return props.trackingData ? props.trackingData : {}\n  },\n  {\n    dispatch: data => Events.postEvent(data),\n  }\n)\nexport class Share extends React.Component<Props, null> {\n  static defaultProps = {\n    color: \"black\",\n    hasLabel: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.getHref = this.getHref.bind(this)\n    this.trackShare = this.trackShare.bind(this)\n  }\n\n  trackShare(e) {\n    e.preventDefault()\n    window.open(\n      e.currentTarget.attributes.href.value,\n      \"Share\",\n      \"width = 600,height = 300\"\n    )\n\n    this.props.tracking.trackEvent({\n      action: \"Click\",\n      type: \"share\",\n      label: (() => {\n        const href = e.currentTarget.attributes.href.value\n        if (href.match(\"facebook\")) return \"facebook\"\n        if (href.match(\"twitter\")) return \"twitter\"\n        if (href.match(\"mailto\")) return \"email\"\n      })(),\n    })\n  }\n\n  getHref(type) {\n    const { url, title } = this.props\n    const encodedUrl = encodeURIComponent(url)\n    const channels = {\n      facebook: `https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}`,\n      twitter: `https://twitter.com/intent/tweet?original_referer=${encodedUrl}&text=${title}&url=${encodedUrl}&via=artsy`,\n      email: `mailto:?subject=${title}&body=Check out ${title} on Artsy: ${url}`,\n    }\n    return channels[type]\n  }\n\n  getIcon = type => {\n    const { color } = this.props\n\n    const icon = service => {\n      switch (service) {\n        case \"email\": {\n          return <IconSocialEmail color={color} />\n        }\n        case \"facebook\": {\n          return <IconSocialFacebook color={color} />\n        }\n        case \"twitter\": {\n          return <IconSocialTwitter color={color} />\n        }\n        default: {\n          break\n        }\n      }\n    }\n    return (\n      <IconWrapper\n        href={this.getHref(type)}\n        target=\"_blank\"\n        onClick={this.trackShare}\n      >\n        {icon(type)}\n      </IconWrapper>\n    )\n  }\n\n  render() {\n    const { hasLabel, isMobile, isNews } = this.props\n\n    return (\n      <ShareContainer removeMarginForMobile={isNews && isMobile}>\n        {hasLabel && (\n          <ShareLabel size=\"3t\" weight=\"medium\">\n            Share\n          </ShareLabel>\n        )}\n        {this.getIcon(\"facebook\")}\n        {this.getIcon(\"twitter\")}\n        {this.getIcon(\"email\")}\n      </ShareContainer>\n    )\n  }\n}\n\ninterface ShareContainerProps {\n  removeMarginForMobile?: boolean\n}\n\nexport const ShareContainer = styled.div.attrs<ShareContainerProps>({})`\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n  line-height: 1em;\n  margin-top: 5px;\n  ${props => props.removeMarginForMobile && pMedia.xs`margin-top: 15px;`};\n`\nconst IconWrapper = styled.a`\n  text-decoration: none;\n  padding-left: 7px;\n  padding-right: 7px;\n  &:hover {\n    opacity: 0.6;\n  }\n  &:first-child {\n    padding-left: 0;\n  }\n`\nconst ShareLabel = styled(Sans)`\n  margin: 5px 10px 5px 0px;\n`\n"]}]}