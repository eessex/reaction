{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--5-1!/Users/eve/development/reaction/src/Components/Artwork/Details.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Artwork/Details.tsx","mtime":1526492648000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1527877289000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Details = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactRelay = require(\"react-relay\");\n\nvar _TextLink = _interopRequireDefault(require(\"../TextLink\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TruncatedLine =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"Details__TruncatedLine\",\n  componentId: \"s16w5d4l-0\"\n})([\"display:block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;\"]);\n\nvar Details =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Details, _React$Component);\n\n  function Details() {\n    _classCallCheck(this, Details);\n\n    return _possibleConstructorReturn(this, (Details.__proto__ || Object.getPrototypeOf(Details)).apply(this, arguments));\n  }\n\n  _createClass(Details, [{\n    key: \"artistLine\",\n    value: function artistLine() {\n      var _props$artwork = this.props.artwork,\n          cultural_maker = _props$artwork.cultural_maker,\n          artists = _props$artwork.artists;\n\n      if (cultural_maker) {\n        return _react.default.createElement(TruncatedLine, null, _react.default.createElement(\"strong\", null, cultural_maker));\n      } else if (artists && artists.length) {\n        var artistLine = artists.reduce(function (acc, artist, index) {\n          return acc.concat([\", \", _react.default.createElement(_TextLink.default, {\n            href: artist.href,\n            key: artist.__id + \"-\" + index\n          }, artist.name)]);\n        }, []).slice(1);\n        return _react.default.createElement(TruncatedLine, null, _react.default.createElement(\"strong\", null, artistLine));\n      }\n    }\n  }, {\n    key: \"titleLine\",\n    value: function titleLine() {\n      return _react.default.createElement(TruncatedLine, null, _react.default.createElement(_TextLink.default, {\n        href: this.props.artwork.href\n      }, _react.default.createElement(\"em\", null, this.props.artwork.title), this.props.artwork.date && \", \".concat(this.props.artwork.date)));\n    }\n  }, {\n    key: \"partnerLine\",\n    value: function partnerLine() {\n      if (this.props.artwork.collecting_institution) {\n        return _react.default.createElement(TruncatedLine, null, this.props.artwork.collecting_institution);\n      } else if (this.props.artwork.partner) {\n        return _react.default.createElement(TruncatedLine, null, _react.default.createElement(_TextLink.default, {\n          href: this.props.artwork.partner.href\n        }, this.props.artwork.partner.name));\n      }\n    }\n  }, {\n    key: \"saleLine\",\n    value: function saleLine() {\n      var artwork = this.props.artwork;\n      var hasSaleMessage = artwork.sale_message && artwork.sale_message !== \"Contact For Price\";\n      var notInAuction = !(artwork.sale && artwork.sale.is_auction);\n\n      if (hasSaleMessage && notInAuction) {\n        return _react.default.createElement(\"div\", null, artwork.sale_message);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react.default.createElement(\"div\", null, this.artistLine(), this.titleLine(), this.partnerLine(), this.props.showSaleLine && this.saleLine());\n    }\n  }]);\n\n  return Details;\n}(_react.default.Component);\n\nexports.Details = Details;\nObject.defineProperty(Details, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    showSaleLine: true\n  }\n});\n\nvar _default = (0, _reactRelay.createFragmentContainer)(Details, {\n  artwork: function artwork() {\n    var node = require(\"../../__generated__/Details_artwork.graphql\");\n\n    if (node.hash && node.hash !== \"46676bc3e081aefe4bcdb6ea73308dc0\") {\n      console.error(\"The definition of 'Details_artwork' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\");\n    }\n\n    return require(\"../../__generated__/Details_artwork.graphql\");\n  }\n});\n\nexports.default = _default;",{"version":3,"sources":["src/Components/Artwork/Details.tsx"],"names":["TruncatedLine","div","Details","props","artwork","cultural_maker","artists","length","artistLine","reduce","acc","artist","index","concat","href","__id","name","slice","title","date","collecting_institution","partner","hasSaleMessage","sale_message","notInAuction","sale","is_auction","titleLine","partnerLine","showSaleLine","saleLine","Component"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;;;;;;;;;;;;;;;AAEA,IAAMA;AAAA;AAAgB,0BAAOC,GAAvB;AAAA;AAAA;AAAA,gFAAN;;IAWaC,O;;;;;;;;;;;;;iCAKE;AAAA,2BACyB,KAAKC,KAAL,CAAWC,OADpC;AAAA,UACHC,cADG,kBACHA,cADG;AAAA,UACaC,OADb,kBACaA,OADb;;AAGX,UAAID,cAAJ,EAAoB;AAClB,eACE,6BAAC,aAAD,QACE,6CAASA,cAAT,CADF,CADF;AAKD,OAND,MAMO,IAAIC,WAAWA,QAAQC,MAAvB,EAA+B;AACpC,YAAMC,aAAaF,QAChBG,MADgB,CACT,UAACC,GAAD,EAAMC,MAAN,EAAcC,KAAd,EAAwB;AAC9B,iBAAOF,IAAIG,MAAJ,CAAW,CAChB,IADgB,EAEhB;AAAU,kBAAMF,OAAOG,IAAvB;AAA6B,iBAAKH,OAAOI,IAAP,GAAc,GAAd,GAAoBH;AAAtD,aACGD,OAAOK,IADV,CAFgB,CAAX,CAAP;AAMD,SARgB,EAQd,EARc,EAShBC,KATgB,CASV,CATU,CAAnB;AAUA,eACE,6BAAC,aAAD,QACE,6CAAST,UAAT,CADF,CADF;AAKD;AACF;;;gCAEW;AACV,aACE,6BAAC,aAAD,QACE;AAAU,cAAM,KAAKL,KAAL,CAAWC,OAAX,CAAmBU;AAAnC,SACE,yCAAK,KAAKX,KAAL,CAAWC,OAAX,CAAmBc,KAAxB,CADF,EAEG,KAAKf,KAAL,CAAWC,OAAX,CAAmBe,IAAnB,gBAAgC,KAAKhB,KAAL,CAAWC,OAAX,CAAmBe,IAAnD,CAFH,CADF,CADF;AAQD;;;kCAEa;AACZ,UAAI,KAAKhB,KAAL,CAAWC,OAAX,CAAmBgB,sBAAvB,EAA+C;AAC7C,eACE,6BAAC,aAAD,QACG,KAAKjB,KAAL,CAAWC,OAAX,CAAmBgB,sBADtB,CADF;AAKD,OAND,MAMO,IAAI,KAAKjB,KAAL,CAAWC,OAAX,CAAmBiB,OAAvB,EAAgC;AACrC,eACE,6BAAC,aAAD,QACE;AAAU,gBAAM,KAAKlB,KAAL,CAAWC,OAAX,CAAmBiB,OAAnB,CAA2BP;AAA3C,WACG,KAAKX,KAAL,CAAWC,OAAX,CAAmBiB,OAAnB,CAA2BL,IAD9B,CADF,CADF;AAOD;AACF;;;+BAEU;AACT,UAAMZ,UAAU,KAAKD,KAAL,CAAWC,OAA3B;AACA,UAAMkB,iBACJlB,QAAQmB,YAAR,IAAwBnB,QAAQmB,YAAR,KAAyB,mBADnD;AAEA,UAAMC,eAAe,EAAEpB,QAAQqB,IAAR,IAAgBrB,QAAQqB,IAAR,CAAaC,UAA/B,CAArB;;AACA,UAAIJ,kBAAkBE,YAAtB,EAAoC;AAClC,eAAO,0CAAMpB,QAAQmB,YAAd,CAAP;AACD;AACF;;;6BAEQ;AACP,aACE,0CACG,KAAKf,UAAL,EADH,EAEG,KAAKmB,SAAL,EAFH,EAGG,KAAKC,WAAL,EAHH,EAIG,KAAKzB,KAAL,CAAW0B,YAAX,IAA2B,KAAKC,QAAL,EAJ9B,CADF;AAQD;;;;EAjF0B,eAAMC,S;;;sBAAtB7B,O;;;;SACW;AACpB2B,kBAAc;AADM;;;eAmFT,yCACb3B,OADa;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,E","file":"/Users/eve/development/reaction/src/Components/Artwork/Details.tsx","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import React from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport TextLink from \"../TextLink\"\n\nimport styled from \"styled-components\"\n\nconst TruncatedLine = styled.div`\n  display: block;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n`\n\ninterface Props extends RelayProps, React.HTMLProps<Details> {\n  showSaleLine: boolean\n}\n\nexport class Details extends React.Component<Props, null> {\n  static defaultProps = {\n    showSaleLine: true,\n  }\n\n  artistLine() {\n    const { cultural_maker, artists } = this.props.artwork\n\n    if (cultural_maker) {\n      return (\n        <TruncatedLine>\n          <strong>{cultural_maker}</strong>\n        </TruncatedLine>\n      )\n    } else if (artists && artists.length) {\n      const artistLine = artists\n        .reduce((acc, artist, index) => {\n          return acc.concat([\n            \", \",\n            <TextLink href={artist.href} key={artist.__id + \"-\" + index}>\n              {artist.name}\n            </TextLink>,\n          ])\n        }, [])\n        .slice(1)\n      return (\n        <TruncatedLine>\n          <strong>{artistLine}</strong>\n        </TruncatedLine>\n      )\n    }\n  }\n\n  titleLine() {\n    return (\n      <TruncatedLine>\n        <TextLink href={this.props.artwork.href}>\n          <em>{this.props.artwork.title}</em>\n          {this.props.artwork.date && `, ${this.props.artwork.date}`}\n        </TextLink>\n      </TruncatedLine>\n    )\n  }\n\n  partnerLine() {\n    if (this.props.artwork.collecting_institution) {\n      return (\n        <TruncatedLine>\n          {this.props.artwork.collecting_institution}\n        </TruncatedLine>\n      )\n    } else if (this.props.artwork.partner) {\n      return (\n        <TruncatedLine>\n          <TextLink href={this.props.artwork.partner.href}>\n            {this.props.artwork.partner.name}\n          </TextLink>\n        </TruncatedLine>\n      )\n    }\n  }\n\n  saleLine() {\n    const artwork = this.props.artwork\n    const hasSaleMessage =\n      artwork.sale_message && artwork.sale_message !== \"Contact For Price\"\n    const notInAuction = !(artwork.sale && artwork.sale.is_auction)\n    if (hasSaleMessage && notInAuction) {\n      return <div>{artwork.sale_message}</div>\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {this.artistLine()}\n        {this.titleLine()}\n        {this.partnerLine()}\n        {this.props.showSaleLine && this.saleLine()}\n      </div>\n    )\n  }\n}\n\nexport default createFragmentContainer(\n  Details,\n  graphql`\n    fragment Details_artwork on Artwork {\n      href\n      title\n      date\n      sale_message\n      cultural_maker\n      artists(shallow: true) {\n        __id\n        href\n        name\n      }\n      collecting_institution\n      partner(shallow: true) {\n        name\n        href\n      }\n      sale {\n        is_auction\n        is_live_open\n        is_open\n        is_closed\n      }\n    }\n  `\n)\n\ninterface RelayProps {\n  artwork: {\n    href: string | null\n    title: string | null\n    date: string | null\n    sale_message: string | null\n    cultural_maker: string | null\n    artists: Array<{\n      __id: string\n      href: string | null\n      name: string | null\n    } | null> | null\n    collecting_institution: string | null\n    partner: {\n      name: string | null\n      href: string | null\n    } | null\n    sale: {\n      is_auction: boolean | null\n      is_live_open: boolean | null\n      is_open: boolean | null\n      is_closed: boolean | null\n    } | null\n  }\n}\n"]}]}