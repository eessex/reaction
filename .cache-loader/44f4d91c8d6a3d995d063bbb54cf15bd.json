{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Components/Publishing/ToolTip/GeneToolTip.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/ToolTip/GeneToolTip.tsx","mtime":1535727435000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1537112679000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { garamond } from \"../../../Assets/Fonts\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { createFragmentContainer, graphql } from \"react-relay\";\nimport track from \"react-tracking\";\nimport styled from \"styled-components\";\nimport FollowGeneButton from \"../../FollowButton/FollowGeneButton\";\nimport { getFullArtsyHref } from \"../Constants\";\nimport { ToolTipDescription } from \"./Components/Description\";\nimport { NewFeature, NewFeatureContainer } from \"./Components/NewFeature\";\nexport var GeneToolTip =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(GeneToolTip, _React$Component);\n\n  function GeneToolTip() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, GeneToolTip);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(GeneToolTip)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"trackClick\", function () {\n      var tracking = _this.props.tracking;\n      var href = _this.props.gene.href;\n      tracking.trackEvent({\n        action: \"Click\",\n        flow: \"tooltip\",\n        type: \"gene stub\",\n        contextModule: \"intext tooltip\",\n        destination_path: href\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(GeneToolTip, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props$gene = this.props.gene,\n          description = _this$props$gene.description,\n          href = _this$props$gene.href,\n          id = _this$props$gene.id,\n          _id = _this$props$gene._id,\n          image = _this$props$gene.image,\n          name = _this$props$gene.name;\n      var url = image.url;\n      var _this$context = this.context,\n          genes = _this$context.tooltipsData.genes,\n          onOpenAuthModal = _this$context.onOpenAuthModal;\n      var trackingData = {\n        contextModule: \"tooltip\",\n        entity_id: _id,\n        entity_slug: id,\n        entity_type: \"gene\"\n      };\n      return React.createElement(Wrapper, null, React.createElement(GeneContainer, {\n        href: getFullArtsyHref(href),\n        target: \"_blank\",\n        onClick: this.trackClick\n      }, url && React.createElement(Image, {\n        src: url\n      }), React.createElement(Title, null, name), description && React.createElement(ToolTipDescription, {\n        text: description\n      })), React.createElement(ToolTipFooter, null, React.createElement(FollowGeneButton, {\n        gene: genes[id],\n        trackingData: trackingData,\n        onOpenAuthModal: onOpenAuthModal\n      }), React.createElement(NewFeature, null)));\n    }\n  }]);\n\n  return GeneToolTip;\n}(React.Component);\n\n_defineProperty(GeneToolTip, \"contextTypes\", {\n  tooltipsData: PropTypes.object,\n  onOpenAuthModal: PropTypes.func\n});\n\nvar Wrapper = styled.div.withConfig({\n  displayName: \"GeneToolTip__Wrapper\",\n  componentId: \"s1432jq7-0\"\n})([\"width:240px;a:hover{color:black;}\"]);\nexport var GeneContainer = styled.a.withConfig({\n  displayName: \"GeneToolTip__GeneContainer\",\n  componentId: \"s1432jq7-1\"\n})([\"position:relative;text-decoration:none;color:black;padding-bottom:10px;\"]);\nvar Title = styled.div.withConfig({\n  displayName: \"GeneToolTip__Title\",\n  componentId: \"s1432jq7-2\"\n})([\"\", \";font-weight:600;padding-bottom:10px;\"], garamond(\"s18\"));\nvar Image = styled.img.withConfig({\n  displayName: \"GeneToolTip__Image\",\n  componentId: \"s1432jq7-3\"\n})([\"width:100%;padding-bottom:10px;max-height:160px;object-fit:cover;\"]);\nexport var ToolTipFooter = styled.div.withConfig({\n  displayName: \"GeneToolTip__ToolTipFooter\",\n  componentId: \"s1432jq7-4\"\n})([\"display:flex;justify-content:space-between;align-items:center;\", \"{display:flex;flex-direction:column;}\"], NewFeatureContainer);\nexport var GeneToolTipContainer = track()(createFragmentContainer(GeneToolTip, {\n  gene: function gene() {\n    var node = require(\"../../../__generated__/GeneToolTip_gene.graphql\");\n\n    if (node.hash && node.hash !== \"e4df0664535bb18b36a35439157de4ce\") {\n      console.error(\"The definition of 'GeneToolTip_gene' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\");\n    }\n\n    return require(\"../../../__generated__/GeneToolTip_gene.graphql\");\n  }\n}));",{"version":3,"sources":["/Users/eve/development/reaction/src/Components/Publishing/ToolTip/GeneToolTip.tsx"],"names":["garamond","PropTypes","React","createFragmentContainer","graphql","track","styled","FollowGeneButton","getFullArtsyHref","ToolTipDescription","NewFeature","NewFeatureContainer","GeneToolTip","tracking","props","href","gene","trackEvent","action","flow","type","contextModule","destination_path","description","id","_id","image","name","url","context","genes","tooltipsData","onOpenAuthModal","trackingData","entity_id","entity_slug","entity_type","trackClick","Component","object","func","Wrapper","div","GeneContainer","a","Title","Image","img","ToolTipFooter","GeneToolTipContainer"],"mappings":"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","sourcesContent":["import { GeneToolTip_gene } from \"__generated__/GeneToolTip_gene.graphql\"\nimport { garamond } from \"Assets/Fonts\"\nimport PropTypes from \"prop-types\"\nimport React from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport track from \"react-tracking\"\nimport styled from \"styled-components\"\nimport FollowGeneButton from \"../../FollowButton/FollowGeneButton\"\nimport { FollowTrackingData } from \"../../FollowButton/Typings\"\nimport { getFullArtsyHref } from \"../Constants\"\nimport { ToolTipDescription } from \"./Components/Description\"\nimport { NewFeature, NewFeatureContainer } from \"./Components/NewFeature\"\n\nexport interface GeneProps {\n  gene: GeneToolTip_gene\n  tracking?: any\n}\n\nexport class GeneToolTip extends React.Component<GeneProps> {\n  static contextTypes = {\n    tooltipsData: PropTypes.object,\n    onOpenAuthModal: PropTypes.func,\n  }\n\n  trackClick = () => {\n    const { tracking } = this.props\n    const { href } = this.props.gene\n\n    tracking.trackEvent({\n      action: \"Click\",\n      flow: \"tooltip\",\n      type: \"gene stub\",\n      contextModule: \"intext tooltip\",\n      destination_path: href,\n    })\n  }\n\n  render() {\n    const { description, href, id, _id, image, name } = this.props.gene\n    const { url } = image\n    const {\n      tooltipsData: { genes },\n      onOpenAuthModal,\n    } = this.context\n\n    const trackingData: FollowTrackingData = {\n      contextModule: \"tooltip\",\n      entity_id: _id,\n      entity_slug: id,\n      entity_type: \"gene\",\n    }\n\n    return (\n      <Wrapper>\n        <GeneContainer\n          href={getFullArtsyHref(href)}\n          target=\"_blank\"\n          onClick={this.trackClick}\n        >\n          {url && <Image src={url} />}\n          <Title>{name}</Title>\n\n          {description && <ToolTipDescription text={description} />}\n        </GeneContainer>\n\n        <ToolTipFooter>\n          <FollowGeneButton\n            gene={genes[id]}\n            trackingData={trackingData}\n            onOpenAuthModal={onOpenAuthModal}\n          />\n          <NewFeature />\n        </ToolTipFooter>\n      </Wrapper>\n    )\n  }\n}\n\nconst Wrapper = styled.div`\n  width: 240px;\n  a:hover {\n    color: black;\n  }\n`\n\nexport const GeneContainer = styled.a`\n  position: relative;\n  text-decoration: none;\n  color: black;\n  padding-bottom: 10px;\n`\n\nconst Title = styled.div`\n  ${garamond(\"s18\")};\n  font-weight: 600;\n  padding-bottom: 10px;\n`\n\nconst Image = styled.img`\n  width: 100%;\n  padding-bottom: 10px;\n  max-height: 160px;\n  object-fit: cover;\n`\n\nexport const ToolTipFooter = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  ${NewFeatureContainer} {\n    display: flex;\n    flex-direction: column;\n  }\n`\n\nexport const GeneToolTipContainer = track()(\n  createFragmentContainer(\n    GeneToolTip,\n    graphql`\n      fragment GeneToolTip_gene on Gene {\n        description\n        href\n        id\n        _id\n        image {\n          url(version: \"tall\")\n        }\n        name\n      }\n    `\n  )\n)\n"]}]}