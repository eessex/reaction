{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Components/Publishing/News/NewsSections.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/News/NewsSections.tsx","mtime":1529688806000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1537112679000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    margin: 30px 0 0 0;\\n    padding: 0px;\\n  \"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    margin: 0 0 15px 0;\\n    padding: 0;\\n  \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { Truncator } from \"../../Truncator\";\nimport React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { pMedia } from \"../../Helpers\";\nimport { NewsByline } from \"../Byline/NewsByline\";\nimport { ImageCollection } from \"../Sections/ImageCollection\";\nimport { SocialEmbed } from \"../Sections/SocialEmbed\";\nimport { Text } from \"../Sections/Text\";\nexport var NewsSections =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NewsSections, _Component);\n\n  function NewsSections() {\n    _classCallCheck(this, NewsSections);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(NewsSections).apply(this, arguments));\n  }\n\n  _createClass(NewsSections, [{\n    key: \"getSection\",\n    value: function getSection(section, index) {\n      var _this$props = this.props,\n          article = _this$props.article,\n          isMobile = _this$props.isMobile,\n          isTruncated = _this$props.isTruncated;\n      var sections = {\n        image_collection: React.createElement(ImageCollection, {\n          sectionLayout: section.layout,\n          articleLayout: article.layout,\n          images: section.images,\n          targetHeight: 500,\n          gutter: 10\n        }),\n        social_embed: React.createElement(SocialEmbed, {\n          section: section\n        }),\n        text: React.createElement(Text, {\n          html: section.body,\n          layout: this.props.article.layout\n        }),\n        default: false\n      };\n      var sectionComponent = sections[section.type] || sections.default;\n\n      if (section.type === \"text\" && isTruncated) {\n        return React.createElement(Truncator, {\n          maxLineCount: isMobile ? 3 : 2\n        }, sectionComponent);\n      }\n\n      return sectionComponent;\n    }\n  }, {\n    key: \"renderSections\",\n    value: function renderSections() {\n      var _this = this;\n\n      var _this$props2 = this.props,\n          sections = _this$props2.article.sections,\n          isTruncated = _this$props2.isTruncated;\n      var hasMainImage = sections[0].type === \"image_collection\";\n      var limit;\n\n      if (isTruncated) {\n        limit = hasMainImage ? 2 : 1;\n      } else {\n        limit = sections.length;\n      }\n\n      var renderedSections = sections.slice(0, limit).map(function (section, index) {\n        var child = _this.getSection(section, index);\n\n        if (child) {\n          return React.createElement(NewsSectionContainer, {\n            key: index,\n            type: section.type\n          }, child);\n        }\n      });\n      return renderedSections;\n    }\n  }, {\n    key: \"renderByline\",\n    value: function renderByline() {\n      var _this$props$article = this.props.article,\n          authors = _this$props$article.authors,\n          published_at = _this$props$article.published_at;\n\n      if (authors || published_at) {\n        return React.createElement(BylineContainer, null, React.createElement(NewsByline, this.props));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", null, this.renderSections(), this.renderByline());\n    }\n  }]);\n\n  return NewsSections;\n}(Component);\n\nvar getMaxWidth = function getMaxWidth(type) {\n  if (type === \"image_collection\") {\n    return \"\";\n  } else {\n    return \"max-width: 660px;\";\n  }\n};\n\nexport var NewsSectionContainer = styled.div.withConfig({\n  displayName: \"NewsSections__NewsSectionContainer\",\n  componentId: \"sk8dx2-0\"\n})([\"\", \";margin-bottom:20px;\", \";\"], function (props) {\n  return getMaxWidth(props.type);\n}, pMedia.sm(_templateObject()));\nvar BylineContainer = styled.div.withConfig({\n  displayName: \"NewsSections__BylineContainer\",\n  componentId: \"sk8dx2-1\"\n})([\"max-width:780px;margin-top:30px;\", \";\"], pMedia.sm(_templateObject2()));",{"version":3,"sources":["/Users/eve/development/reaction/src/Components/Publishing/News/NewsSections.tsx"],"names":["Truncator","React","Component","styled","pMedia","NewsByline","ImageCollection","SocialEmbed","Text","NewsSections","section","index","props","article","isMobile","isTruncated","sections","image_collection","layout","images","social_embed","text","body","default","sectionComponent","type","hasMainImage","limit","length","renderedSections","slice","map","child","getSection","authors","published_at","renderSections","renderByline","getMaxWidth","NewsSectionContainer","div","sm","BylineContainer"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,SAAT;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,MAAT;AACA,SAASC,UAAT;AACA,SAASC,eAAT;AACA,SAASC,WAAT;AACA,SAASC,IAAT;AAaA,WAAaC,YAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,+BACaC,OADb,EACmCC,KADnC,EACkD;AAAA,wBACH,KAAKC,KADF;AAAA,UACtCC,OADsC,eACtCA,OADsC;AAAA,UAC7BC,QAD6B,eAC7BA,QAD6B;AAAA,UACnBC,WADmB,eACnBA,WADmB;AAG9C,UAAMC,QAAQ,GAAG;AACfC,QAAAA,gBAAgB,EACd,oBAAC,eAAD;AACE,UAAA,aAAa,EAAEP,OAAO,CAACQ,MADzB;AAEE,UAAA,aAAa,EAAEL,OAAO,CAACK,MAFzB;AAGE,UAAA,MAAM,EAAER,OAAO,CAACS,MAHlB;AAIE,UAAA,YAAY,EAAE,GAJhB;AAKE,UAAA,MAAM,EAAE;AALV,UAFa;AAUfC,QAAAA,YAAY,EAAE,oBAAC,WAAD;AAAa,UAAA,OAAO,EAAEV;AAAtB,UAVC;AAWfW,QAAAA,IAAI,EAAE,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAEX,OAAO,CAACY,IAApB;AAA0B,UAAA,MAAM,EAAE,KAAKV,KAAL,CAAWC,OAAX,CAAmBK;AAArD,UAXS;AAYfK,QAAAA,OAAO,EAAE;AAZM,OAAjB;AAeA,UAAMC,gBAAgB,GAAGR,QAAQ,CAACN,OAAO,CAACe,IAAT,CAAR,IAA0BT,QAAQ,CAACO,OAA5D;;AACA,UAAIb,OAAO,CAACe,IAAR,KAAiB,MAAjB,IAA2BV,WAA/B,EAA4C;AAC1C,eACE,oBAAC,SAAD;AAAW,UAAA,YAAY,EAAED,QAAQ,GAAG,CAAH,GAAO;AAAxC,WACGU,gBADH,CADF;AAKD;;AACD,aAAOA,gBAAP;AACD;AA5BH;AAAA;AAAA,qCA8BmB;AAAA;;AAAA,yBAIX,KAAKZ,KAJM;AAAA,UAEFI,QAFE,gBAEbH,OAFa,CAEFG,QAFE;AAAA,UAGbD,WAHa,gBAGbA,WAHa;AAKf,UAAMW,YAAY,GAAGV,QAAQ,CAAC,CAAD,CAAR,CAAYS,IAAZ,KAAqB,kBAA1C;AAEA,UAAIE,KAAJ;;AACA,UAAIZ,WAAJ,EAAiB;AACfY,QAAAA,KAAK,GAAGD,YAAY,GAAG,CAAH,GAAO,CAA3B;AACD,OAFD,MAEO;AACLC,QAAAA,KAAK,GAAGX,QAAQ,CAACY,MAAjB;AACD;;AAED,UAAMC,gBAAgB,GAAGb,QAAQ,CAACc,KAAT,CAAe,CAAf,EAAkBH,KAAlB,EAAyBI,GAAzB,CAA6B,UAACrB,OAAD,EAAUC,KAAV,EAAoB;AACxE,YAAMqB,KAAK,GAAG,KAAI,CAACC,UAAL,CAAgBvB,OAAhB,EAAyBC,KAAzB,CAAd;;AAEA,YAAIqB,KAAJ,EAAW;AACT,iBACE,oBAAC,oBAAD;AAAsB,YAAA,GAAG,EAAErB,KAA3B;AAAkC,YAAA,IAAI,EAAED,OAAO,CAACe;AAAhD,aACGO,KADH,CADF;AAKD;AACF,OAVwB,CAAzB;AAYA,aAAOH,gBAAP;AACD;AAzDH;AAAA;AAAA,mCA2DiB;AAAA,gCAGT,KAAKjB,KAHI,CAEXC,OAFW;AAAA,UAEAqB,OAFA,uBAEAA,OAFA;AAAA,UAESC,YAFT,uBAESA,YAFT;;AAKb,UAAID,OAAO,IAAIC,YAAf,EAA6B;AAC3B,eACE,oBAAC,eAAD,QACE,oBAAC,UAAD,EAAgB,KAAKvB,KAArB,CADF,CADF;AAKD;AACF;AAvEH;AAAA;AAAA,6BAyEW;AACP,aACE,iCACG,KAAKwB,cAAL,EADH,EAEG,KAAKC,YAAL,EAFH,CADF;AAMD;AAhFH;;AAAA;AAAA,EAAkCnC,SAAlC;;AAmFA,IAAMoC,WAAW,GAAG,SAAdA,WAAc,CAAAb,IAAI,EAAI;AAC1B,MAAIA,IAAI,KAAK,kBAAb,EAAiC;AAC/B,WAAO,EAAP;AACD,GAFD,MAEO;AACL,WAAO,mBAAP;AACD;AACF,CAND;;AAQA,OAAO,IAAMc,oBAAoB,GAAGpC,MAAM,CAACqC,GAAV;AAAA;AAAA;AAAA,sCAC7B,UAAC5B,KAAD;AAAA,SAA0B0B,WAAW,CAAC1B,KAAK,CAACa,IAAP,CAArC;AAAA,CAD6B,EAI7BrB,MAAM,CAACqC,EAJsB,oBAA1B;AAUP,IAAMC,eAAe,GAAGvC,MAAM,CAACqC,GAAV;AAAA;AAAA;AAAA,8CAIjBpC,MAAM,CAACqC,EAJU,qBAArB","sourcesContent":["import { Truncator } from \"Components/Truncator\"\nimport React, { Component } from \"react\"\nimport styled from \"styled-components\"\nimport { pMedia } from \"../../Helpers\"\nimport { NewsByline } from \"../Byline/NewsByline\"\nimport { ImageCollection } from \"../Sections/ImageCollection\"\nimport { SocialEmbed } from \"../Sections/SocialEmbed\"\nimport { Text } from \"../Sections/Text\"\nimport { ArticleData, SectionData } from \"../Typings\"\n\ninterface Props {\n  article: ArticleData\n  isMobile?: boolean\n  isTruncated: boolean\n}\n\ninterface ContainerProp {\n  type: string\n}\n\nexport class NewsSections extends Component<Props> {\n  getSection(section: SectionData, index: number) {\n    const { article, isMobile, isTruncated } = this.props\n\n    const sections = {\n      image_collection: (\n        <ImageCollection\n          sectionLayout={section.layout}\n          articleLayout={article.layout}\n          images={section.images}\n          targetHeight={500}\n          gutter={10}\n        />\n      ),\n      social_embed: <SocialEmbed section={section} />,\n      text: <Text html={section.body} layout={this.props.article.layout} />,\n      default: false,\n    }\n\n    const sectionComponent = sections[section.type] || sections.default\n    if (section.type === \"text\" && isTruncated) {\n      return (\n        <Truncator maxLineCount={isMobile ? 3 : 2}>\n          {sectionComponent}\n        </Truncator>\n      )\n    }\n    return sectionComponent\n  }\n\n  renderSections() {\n    const {\n      article: { sections },\n      isTruncated,\n    } = this.props\n    const hasMainImage = sections[0].type === \"image_collection\"\n\n    let limit\n    if (isTruncated) {\n      limit = hasMainImage ? 2 : 1\n    } else {\n      limit = sections.length\n    }\n\n    const renderedSections = sections.slice(0, limit).map((section, index) => {\n      const child = this.getSection(section, index)\n\n      if (child) {\n        return (\n          <NewsSectionContainer key={index} type={section.type}>\n            {child}\n          </NewsSectionContainer>\n        )\n      }\n    })\n\n    return renderedSections\n  }\n\n  renderByline() {\n    const {\n      article: { authors, published_at },\n    } = this.props\n\n    if (authors || published_at) {\n      return (\n        <BylineContainer>\n          <NewsByline {...this.props} />\n        </BylineContainer>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {this.renderSections()}\n        {this.renderByline()}\n      </div>\n    )\n  }\n}\n\nconst getMaxWidth = type => {\n  if (type === \"image_collection\") {\n    return \"\"\n  } else {\n    return \"max-width: 660px;\"\n  }\n}\n\nexport const NewsSectionContainer = styled.div`\n  ${(props: ContainerProp) => getMaxWidth(props.type)};\n  margin-bottom: 20px;\n\n  ${pMedia.sm`\n    margin: 0 0 15px 0;\n    padding: 0;\n  `};\n`\n\nconst BylineContainer = styled.div`\n  max-width: 780px;\n  margin-top: 30px;\n\n  ${pMedia.sm`\n    margin: 30px 0 0 0;\n    padding: 0px;\n  `};\n`\n"]}]}