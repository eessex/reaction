{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--5-1!/Users/eve/development/reaction/src/Utils/Responsive.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Utils/Responsive.tsx","mtime":1524585020000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1527877289000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Responsive = void 0;\n\nvar _lodash = require(\"lodash\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _Theme = _interopRequireDefault(require(\"../Assets/Theme\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nvar MOBILE_BREAKPOINT = 600;\n\nvar ResponsiveWrapper =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ResponsiveWrapper, _React$Component);\n\n  function ResponsiveWrapper(props) {\n    var _this;\n\n    _classCallCheck(this, ResponsiveWrapper);\n\n    _this = _possibleConstructorReturn(this, (ResponsiveWrapper.__proto__ || Object.getPrototypeOf(ResponsiveWrapper)).call(this, props));\n    Object.defineProperty(_assertThisInitialized(_this), \"state\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: {\n        isMobile: false\n      }\n    });\n    _this.state = _extends({}, props.initialState);\n    return _this;\n  }\n\n  _createClass(ResponsiveWrapper, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.registerBreakpoints();\n    }\n  }, {\n    key: \"registerBreakpoints\",\n    value: function registerBreakpoints() {\n      var _this2 = this;\n\n      var _props = this.props,\n          mobileBreakpoint = _props.mobileBreakpoint,\n          media = _props.media;\n      var breakpoints = _Theme.default.publishing.breakpoints;\n      /**\n       * Iterate over breakpoints in theme file and generate corresponding\n       * handlers for each. Options include xs, sm, md, lg, xl.\n       */\n\n      var registerMedia = function registerMedia(_ref) {\n        var breakpoint = _ref.breakpoint,\n            width = _ref.width;\n\n        var toggle = function toggle() {\n          return Object.keys(breakpoints).reduce(function (acc, bp) {\n            return _extends({}, acc, _defineProperty({}, bp, false));\n          }, {});\n        };\n\n        var breakAt = [{\n          maxWidth: width\n        }, {\n          minWidth: width + 1\n        }];\n        breakAt.forEach(function (point) {\n          media(point, function () {\n            _this2.setState(_extends({}, toggle(), _defineProperty({}, breakpoint, true)));\n          });\n        });\n      };\n\n      (0, _lodash.each)(breakpoints, function (width, breakpoint) {\n        registerMedia({\n          breakpoint: breakpoint,\n          width: width\n        });\n      }); // TODO:\n      // Remove references below in favor of above\n      // Mobile\n\n      media({\n        maxWidth: mobileBreakpoint\n      }, function () {\n        _this2.setState({\n          isMobile: true\n        });\n      }); // Desktop\n\n      media({\n        minWidth: mobileBreakpoint + 1\n      }, function () {\n        _this2.setState({\n          isMobile: false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.props.children(this.state);\n    }\n  }]);\n\n  return ResponsiveWrapper;\n}(_react.default.Component);\n/**\n * Since Enquire.js requires a DOM, ensure that the environment is correct before\n * returning component.\n */\n\n\nObject.defineProperty(ResponsiveWrapper, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    initialState: {\n      isMobile: false\n    },\n    media: function media(x) {\n      return x;\n    },\n    mobileBreakpoint: MOBILE_BREAKPOINT\n  }\n});\n\nvar wrapIfClient = function wrapIfClient(Component) {\n  var isClient = typeof window !== \"undefined\";\n\n  if (isClient) {\n    var makeResponsive = require(\"react-responsive-decorator\");\n\n    return makeResponsive(Component);\n  } else {\n    return Component;\n  }\n};\n\nvar Responsive = wrapIfClient(ResponsiveWrapper);\nexports.Responsive = Responsive;",{"version":3,"sources":["src/Utils/Responsive.tsx"],"names":["MOBILE_BREAKPOINT","ResponsiveWrapper","props","isMobile","state","initialState","registerBreakpoints","mobileBreakpoint","media","breakpoints","publishing","registerMedia","breakpoint","width","toggle","Object","keys","reduce","acc","bp","breakAt","maxWidth","minWidth","forEach","point","setState","children","Component","x","wrapIfClient","isClient","window","makeResponsive","require","Responsive"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;AAeA,IAAMA,oBAAoB,GAA1B;;IAEMC,iB;;;;;AAaJ,6BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,kIAAMA,KAAN;AADiB;AAAA;AAAA;AAAA;AAAA,aAJX;AACNC,kBAAU;AADJ;AAIW;AAGjB,UAAKC,KAAL,gBACKF,MAAMG,YADX;AAHiB;AAMlB;;;;wCAEmB;AAClB,WAAKC,mBAAL;AACD;;;0CAEqB;AAAA;;AAAA,mBACgB,KAAKJ,KADrB;AAAA,UACZK,gBADY,UACZA,gBADY;AAAA,UACMC,KADN,UACMA,KADN;AAAA,UAEZC,WAFY,GAEI,eAAMC,UAFV,CAEZD,WAFY;AAIpB;;;;;AAIA,UAAME,gBAAgB,SAAhBA,aAAgB,OAA2B;AAAA,YAAxBC,UAAwB,QAAxBA,UAAwB;AAAA,YAAZC,KAAY,QAAZA,KAAY;;AAC/C,YAAMC,SAAS,SAATA,MAAS;AAAA,iBACbC,OAAOC,IAAP,CAAYP,WAAZ,EAAyBQ,MAAzB,CACE,UAACC,GAAD,EAAMC,EAAN;AAAA,gCAAmBD,GAAnB,sBAAyBC,EAAzB,EAA8B,KAA9B;AAAA,WADF,EAEE,EAFF,CADa;AAAA,SAAf;;AAMA,YAAMC,UAAe,CAAC;AAAEC,oBAAUR;AAAZ,SAAD,EAAsB;AAAES,oBAAUT,QAAQ;AAApB,SAAtB,CAArB;AAEAO,gBAAQG,OAAR,CAAgB,iBAAS;AACvBf,gBAAMgB,KAAN,EAAa,YAAM;AACjB,mBAAKC,QAAL,cACKX,QADL,sBAEGF,UAFH,EAEgB,IAFhB;AAID,WALD;AAMD,SAPD;AAQD,OAjBD;;AAmBA,wBAAKH,WAAL,EAAkB,UAACI,KAAD,EAAQD,UAAR,EAAuB;AACvCD,sBAAc;AACZC,gCADY;AAEZC;AAFY,SAAd;AAID,OALD,EA3BoB,CAkCpB;AACA;AAEA;;AACAL,YAAM;AAAEa,kBAAUd;AAAZ,OAAN,EAAsC,YAAM;AAC1C,eAAKkB,QAAL,CAAc;AACZtB,oBAAU;AADE,SAAd;AAGD,OAJD,EAtCoB,CA4CpB;;AACAK,YAAM;AAAEc,kBAAUf,mBAAmB;AAA/B,OAAN,EAA0C,YAAM;AAC9C,eAAKkB,QAAL,CAAc;AACZtB,oBAAU;AADE,SAAd;AAGD,OAJD;AAKD;;;6BAEQ;AACP,aAAO,KAAKD,KAAL,CAAWwB,QAAX,CAAoB,KAAKtB,KAAzB,CAAP;AACD;;;;EA/E6B,eAAMuB,S;AAkFtC;;;;;;sBAlFM1B,iB;;;;SACkB;AACpBI,kBAAc;AACZF,gBAAU;AADE,KADM;AAIpBK,WAAO;AAAA,aAAKoB,CAAL;AAAA,KAJa;AAKpBrB,sBAAkBP;AALE;;;AAqFxB,IAAM6B,eAAe,SAAfA,YAAe,YAAa;AAChC,MAAMC,WAAW,OAAOC,MAAP,KAAkB,WAAnC;;AAEA,MAAID,QAAJ,EAAc;AACZ,QAAME,iBAAiBC,QAAQ,4BAAR,CAAvB;;AACA,WAAOD,eAAeL,SAAf,CAAP;AACD,GAHD,MAGO;AACL,WAAOA,SAAP;AACD;AACF,CATD;;AAWO,IAAMO,aAAaL,aAAa5B,iBAAb,CAAnB","file":"/Users/eve/development/reaction/src/Utils/Responsive.tsx","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import { each } from \"lodash\"\nimport React from \"react\"\nimport theme from \"../Assets/Theme\"\n\n// TODO: Docs\n// TODO: Tests\n\ninterface Props {\n  children?: any\n  media: any\n  mobileBreakpoint: any\n}\n\ninterface State {\n  isMobile: boolean\n}\n\nconst MOBILE_BREAKPOINT = 600\n\nclass ResponsiveWrapper extends React.Component<Props, State> {\n  static defaultProps = {\n    initialState: {\n      isMobile: false,\n    },\n    media: x => x,\n    mobileBreakpoint: MOBILE_BREAKPOINT,\n  }\n\n  state = {\n    isMobile: false,\n  }\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      ...props.initialState,\n    }\n  }\n\n  componentDidMount() {\n    this.registerBreakpoints()\n  }\n\n  registerBreakpoints() {\n    const { mobileBreakpoint, media } = this.props\n    const { breakpoints } = theme.publishing\n\n    /**\n     * Iterate over breakpoints in theme file and generate corresponding\n     * handlers for each. Options include xs, sm, md, lg, xl.\n     */\n    const registerMedia = ({ breakpoint, width }) => {\n      const toggle = () =>\n        Object.keys(breakpoints).reduce(\n          (acc, bp) => ({ ...acc, [bp]: false }),\n          {}\n        )\n\n      const breakAt: any = [{ maxWidth: width }, { minWidth: width + 1 }]\n\n      breakAt.forEach(point => {\n        media(point, () => {\n          this.setState({\n            ...toggle(),\n            [breakpoint]: true,\n          })\n        })\n      })\n    }\n\n    each(breakpoints, (width, breakpoint) => {\n      registerMedia({\n        breakpoint,\n        width,\n      })\n    })\n\n    // TODO:\n    // Remove references below in favor of above\n\n    // Mobile\n    media({ maxWidth: mobileBreakpoint }, () => {\n      this.setState({\n        isMobile: true,\n      })\n    })\n\n    // Desktop\n    media({ minWidth: mobileBreakpoint + 1 }, () => {\n      this.setState({\n        isMobile: false,\n      })\n    })\n  }\n\n  render() {\n    return this.props.children(this.state)\n  }\n}\n\n/**\n * Since Enquire.js requires a DOM, ensure that the environment is correct before\n * returning component.\n */\nconst wrapIfClient = Component => {\n  const isClient = typeof window !== \"undefined\"\n\n  if (isClient) {\n    const makeResponsive = require(\"react-responsive-decorator\")\n    return makeResponsive(Component)\n  } else {\n    return Component\n  }\n}\n\nexport const Responsive = wrapIfClient(ResponsiveWrapper)\n"]}]}