{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Apps/Order/Routes/Status/index.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Apps/Order/Routes/Status/index.tsx","mtime":1538070271000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1537112679000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Flex, Join, Message, Sans, Serif, Spacer } from \"@artsy/palette\";\nimport { TwoColumnLayout } from \"../../Components/TwoColumnLayout\";\nimport React, { Component } from \"react\";\nimport { Title } from \"react-head\";\nimport { createFragmentContainer, graphql } from \"react-relay\";\nimport { get } from \"../../../../Utils/get\";\nimport { Responsive } from \"../../../../Utils/Responsive\";\nimport { Helper } from \"../../Components/Helper\";\nimport { ShippingAndPaymentSummaryFragmentContainer as ShippingAndPaymentSummary } from \"../../Components/ShippingAndPaymentSummary\";\nimport { TransactionSummaryFragmentContainer as TransactionSummary } from \"../../Components/TransactionSummary\";\nexport var StatusRoute =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(StatusRoute, _Component);\n\n  function StatusRoute() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, StatusRoute);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(StatusRoute)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"stateCopy\", function () {\n      var _this$props$order = _this.props.order,\n          state = _this$props$order.state,\n          requestedFulfillment = _this$props$order.requestedFulfillment;\n\n      switch (state) {\n        case \"SUBMITTED\":\n          return \"Your order has been submitted.\";\n\n        case \"APPROVED\":\n          return \"Your order is confirmed.\";\n\n        case \"FULFILLED\":\n          return requestedFulfillment.__typename === \"Ship\" ? \"Your order has shipped.\" : \"Your order has been picked up.\";\n\n        case \"CANCELED\":\n          return \"Your order was canceled and refunded.\";\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"messageCopy\", function () {\n      var order = _this.props.order;\n      var state = order.state,\n          requestedFulfillment = order.requestedFulfillment;\n\n      switch (state) {\n        case \"SUBMITTED\":\n          return React.createElement(React.Fragment, null, \"Thank you for your purchase. You will receive a confirmation email within 2 days.\");\n\n        case \"APPROVED\":\n          return requestedFulfillment.__typename === \"Ship\" ? React.createElement(React.Fragment, null, \"Thank you for your purchase. You will be notified when the work has shipped, typically within 5\\u20137 business days.\") : React.createElement(React.Fragment, null, \"Thank you for your purchase. A specialist will contact you within 2 business days to coordinate pickup.\");\n\n        case \"FULFILLED\":\n          var fulfillment = get(order, function (o) {\n            return o.lineItems.edges[0].node.fulfillments.edges[0].node;\n          });\n\n          if (!fulfillment) {\n            return false;\n          }\n\n          return requestedFulfillment.__typename === \"Ship\" ? React.createElement(React.Fragment, null, React.createElement(React.Fragment, null, \"Your work is on its way.\"), React.createElement(\"br\", null), React.createElement(\"br\", null), fulfillment.courier && React.createElement(React.Fragment, null, \"Shipper: \", fulfillment.courier, \" \", React.createElement(\"br\", null)), fulfillment.trackingId && React.createElement(React.Fragment, null, React.createElement(React.Fragment, null, \"Tracking Info: \", fulfillment.trackingId), React.createElement(\"br\", null)), fulfillment.estimatedDelivery && React.createElement(React.Fragment, null, \"Estimated delivery: \", fulfillment.estimatedDelivery)) : false;\n\n        case \"CANCELED\":\n          return React.createElement(React.Fragment, null, \"The work is no longer available.\", React.createElement(\"br\", null), React.createElement(\"br\", null), \"Please allow 5-7 business days for the refund to appear on your bank statement.\");\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(StatusRoute, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var order = this.props.order;\n      var message = this.messageCopy();\n      return React.createElement(Responsive, null, function (_ref) {\n        var xs = _ref.xs;\n        return React.createElement(React.Fragment, null, React.createElement(Serif, {\n          size: \"6\",\n          weight: \"regular\",\n          color: \"black100\"\n        }, _this2.stateCopy()), React.createElement(Sans, {\n          size: \"2\",\n          weight: \"regular\",\n          color: \"black60\",\n          mb: [2, 3]\n        }, \"Order #\", order.code), React.createElement(TwoColumnLayout, {\n          Content: React.createElement(React.Fragment, null, React.createElement(Title, null, \"Order status | Artsy\"), React.createElement(Join, {\n            separator: React.createElement(Spacer, {\n              mb: [2, 3]\n            })\n          }, message && React.createElement(Message, null, message), React.createElement(TransactionSummary, {\n            order: order\n          })), React.createElement(Spacer, {\n            mb: [2, 3]\n          })),\n          Sidebar: React.createElement(Flex, {\n            flexDirection: \"column\"\n          }, React.createElement(ShippingAndPaymentSummary, {\n            order: order,\n            mb: [2, 3]\n          }), React.createElement(Helper, {\n            artworkId: get(order, function (o) {\n              return o.lineItems.edges[0].node.artwork.id;\n            })\n          }))\n        }));\n      });\n    }\n  }]);\n\n  return StatusRoute;\n}(Component);\nexport var StatusFragmentContainer = createFragmentContainer(StatusRoute, {\n  order: function order() {\n    var node = require(\"../../../../__generated__/Status_order.graphql\");\n\n    if (node.hash && node.hash !== \"f20368375c20cf02211e7b8e824e3cf1\") {\n      console.error(\"The definition of 'Status_order' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\");\n    }\n\n    return require(\"../../../../__generated__/Status_order.graphql\");\n  }\n});",{"version":3,"sources":["/Users/eve/development/reaction/src/Apps/Order/Routes/Status/index.tsx"],"names":["Flex","Join","Message","Sans","Serif","Spacer","TwoColumnLayout","React","Component","Title","createFragmentContainer","graphql","get","Responsive","Helper","ShippingAndPaymentSummaryFragmentContainer","ShippingAndPaymentSummary","TransactionSummaryFragmentContainer","TransactionSummary","StatusRoute","props","order","state","requestedFulfillment","__typename","fulfillment","o","lineItems","edges","node","fulfillments","courier","trackingId","estimatedDelivery","message","messageCopy","xs","stateCopy","code","artwork","id","StatusFragmentContainer"],"mappings":"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","sourcesContent":["import { Flex, Join, Message, Sans, Serif, Spacer } from \"@artsy/palette\"\nimport { Status_order } from \"__generated__/Status_order.graphql\"\nimport { TwoColumnLayout } from \"Apps/Order/Components/TwoColumnLayout\"\nimport React, { Component } from \"react\"\nimport { Title } from \"react-head\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport { get } from \"Utils/get\"\nimport { Responsive } from \"Utils/Responsive\"\nimport { Helper } from \"../../Components/Helper\"\nimport { ShippingAndPaymentSummaryFragmentContainer as ShippingAndPaymentSummary } from \"../../Components/ShippingAndPaymentSummary\"\nimport { TransactionSummaryFragmentContainer as TransactionSummary } from \"../../Components/TransactionSummary\"\n\nexport interface StatusProps {\n  order: Status_order\n  mediator?: {\n    trigger: (action: string, config: object) => void\n  }\n}\n\nexport class StatusRoute extends Component<StatusProps> {\n  stateCopy = () => {\n    const { state, requestedFulfillment } = this.props.order\n    switch (state) {\n      case \"SUBMITTED\":\n        return \"Your order has been submitted.\"\n      case \"APPROVED\":\n        return \"Your order is confirmed.\"\n      case \"FULFILLED\":\n        return requestedFulfillment.__typename === \"Ship\"\n          ? \"Your order has shipped.\"\n          : \"Your order has been picked up.\"\n      case \"CANCELED\":\n        return \"Your order was canceled and refunded.\"\n    }\n  }\n\n  messageCopy = () => {\n    const { order } = this.props\n    const { state, requestedFulfillment } = order\n    switch (state) {\n      case \"SUBMITTED\":\n        return (\n          <>\n            Thank you for your purchase. You will receive a confirmation email\n            within 2 days.\n          </>\n        )\n      case \"APPROVED\":\n        return requestedFulfillment.__typename === \"Ship\" ? (\n          <>\n            Thank you for your purchase. You will be notified when the work has\n            shipped, typically within 5–7 business days.\n          </>\n        ) : (\n          <>\n            Thank you for your purchase. A specialist will contact you within 2\n            business days to coordinate pickup.\n          </>\n        )\n      case \"FULFILLED\":\n        const fulfillment = get(\n          order,\n          o => o.lineItems.edges[0].node.fulfillments.edges[0].node\n        )\n        if (!fulfillment) {\n          return false\n        }\n        return requestedFulfillment.__typename === \"Ship\" ? (\n          <>\n            <>Your work is on its way.</>\n            <br />\n            <br />\n            {fulfillment.courier && (\n              <>\n                Shipper: {fulfillment.courier} <br />\n              </>\n            )}\n            {fulfillment.trackingId && (\n              <>\n                <>Tracking Info: {fulfillment.trackingId}</>\n                <br />\n              </>\n            )}\n            {fulfillment.estimatedDelivery && (\n              <>Estimated delivery: {fulfillment.estimatedDelivery}</>\n            )}\n          </>\n        ) : (\n          false\n        )\n      case \"CANCELED\":\n        return (\n          <>\n            The work is no longer available.\n            <br />\n            <br />\n            Please allow 5-7 business days for the refund to appear on your bank\n            statement.\n          </>\n        )\n    }\n  }\n\n  render() {\n    const { order } = this.props\n\n    const message = this.messageCopy()\n\n    return (\n      <Responsive>\n        {({ xs }) => (\n          <>\n            <Serif size=\"6\" weight=\"regular\" color=\"black100\">\n              {this.stateCopy()}\n            </Serif>\n            <Sans size=\"2\" weight=\"regular\" color=\"black60\" mb={[2, 3]}>\n              Order #{order.code}\n            </Sans>\n            <TwoColumnLayout\n              Content={\n                <>\n                  <Title>Order status | Artsy</Title>\n                  <Join separator={<Spacer mb={[2, 3]} />}>\n                    {message && <Message>{message}</Message>}\n                    <TransactionSummary order={order} />\n                  </Join>\n                  <Spacer mb={[2, 3]} />\n                </>\n              }\n              Sidebar={\n                <Flex flexDirection=\"column\">\n                  <ShippingAndPaymentSummary order={order} mb={[2, 3]} />\n                  <Helper\n                    artworkId={get(\n                      order,\n                      o => o.lineItems.edges[0].node.artwork.id\n                    )}\n                  />\n                </Flex>\n              }\n            />\n          </>\n        )}\n      </Responsive>\n    )\n  }\n}\n\nexport const StatusFragmentContainer = createFragmentContainer(\n  StatusRoute,\n  graphql`\n    fragment Status_order on Order {\n      id\n      code\n      state\n      requestedFulfillment {\n        ... on Ship {\n          __typename\n        }\n        ... on Pickup {\n          __typename\n        }\n      }\n      ...TransactionSummary_order\n      ...ShippingAndPaymentSummary_order\n      lineItems {\n        edges {\n          node {\n            fulfillments {\n              edges {\n                node {\n                  courier\n                  trackingId\n                  estimatedDelivery\n                }\n              }\n            }\n            artwork {\n              id\n              ...ItemReview_artwork\n            }\n          }\n        }\n      }\n    }\n  `\n)\n"]}]}