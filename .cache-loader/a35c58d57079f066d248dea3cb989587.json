{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--5-1!/Users/eve/development/reaction/src/Components/Publishing/Header/FeatureHeader.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/Header/FeatureHeader.tsx","mtime":1524678459000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1527877289000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FeatureHeader = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _resizer = require(\"../../../Utils/resizer\");\n\nvar _Responsive = require(\"../../../Utils/Responsive\");\n\nvar _track = require(\"../../../Utils/track\");\n\nvar _Helpers = require(\"../../Helpers\");\n\nvar _Byline = require(\"../Byline/Byline\");\n\nvar _Fonts = require(\"../../../Assets/Fonts\");\n\nvar _VerticalOrSeriesTitle = require(\"../Sections/VerticalOrSeriesTitle\");\n\nvar _PartnerInline = require(\"../Partner/PartnerInline\");\n\nvar _BasicHeader = require(\"./BasicHeader\");\n\nvar _dec, _dec2, _class, _class2;\n\nvar _templateObject = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n    .PartnerInline {\\n      padding: 20px 15px 20px;\\n    }\\n  \"], [\"\\n    .PartnerInline {\\n      padding: 20px 15px 20px;\\n    }\\n  \"]),\n    _templateObject2 = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n    align-items: flex-start;\\n    flex-direction: column;\\n  \"], [\"\\n    align-items: flex-start;\\n    flex-direction: column;\\n  \"]),\n    _templateObject3 = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n    \", \"\\n  \"], [\"\\n    \", \"\\n  \"]),\n    _templateObject4 = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n    margin-bottom: 28px;\\n    \", \"\\n  \"], [\"\\n    margin-bottom: 28px;\\n    \", \"\\n  \"]),\n    _templateObject5 = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n      \", \" {\\n        margin-bottom: 20px;\\n      }\\n      \", \" {\\n        width: 100%;\\n      }\\n      \", \" {\\n        width: 100%;\\n        position: relative;\\n        border: 0px;\\n        margin-bottom: 30px;\\n      }\\n      \", \" {\\n        width: 100%;\\n        position: relative;\\n        border: 0px;\\n        margin-bottom: 30px;\\n      }\\n      \", \" {\\n        width: 100%;\\n      }\\n    \"], [\"\\n      \", \" {\\n        margin-bottom: 20px;\\n      }\\n      \", \" {\\n        width: 100%;\\n      }\\n      \", \" {\\n        width: 100%;\\n        position: relative;\\n        border: 0px;\\n        margin-bottom: 30px;\\n      }\\n      \", \" {\\n        width: 100%;\\n        position: relative;\\n        border: 0px;\\n        margin-bottom: 30px;\\n      }\\n      \", \" {\\n        width: 100%;\\n      }\\n    \"]),\n    _templateObject6 = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n      \", \" {\\n        padding: 20px;\\n      }\\n    \"], [\"\\n      \", \" {\\n        padding: 20px;\\n      }\\n    \"]);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction renderFeatureAsset(url, layout, isMobile, title, imageChild) {\n  if (layout === \"fullscreen\") {\n    return _react.default.createElement(\"div\", null, renderAsset(url, title, imageChild), _react.default.createElement(Overlay, null));\n  } else if (layout === \"split\" && !isMobile) {\n    return renderAsset(url, title, imageChild);\n  } else {\n    return false;\n  }\n}\n\nfunction renderMobileSplitAsset(url, layout, isMobile, title, imageChild) {\n  if (layout === \"split\" && isMobile) {\n    return renderAsset(url, title, imageChild);\n  } else {\n    return false;\n  }\n}\n\nfunction renderAsset(url, title, imageChild) {\n  if (isVideo(url)) {\n    return _react.default.createElement(FeatureVideoContainer, null, imageChild, _react.default.createElement(FeatureVideo, {\n      src: url,\n      autoPlay: true,\n      controls: false,\n      loop: true,\n      muted: true,\n      playsInline: true\n    }));\n  } else {\n    var _src = url.length && (0, _resizer.resize)(url, {\n      width: 1600\n    });\n\n    var alt = url.length ? title : \"\";\n    return _react.default.createElement(FeatureImage, {\n      src: _src,\n      alt: alt\n    }, imageChild);\n  }\n}\n\nfunction renderTextLayoutAsset(url, layout, title, imageChild) {\n  if (layout === \"text\") {\n    if (isVideo(url)) {\n      return _react.default.createElement(TextAsset, null, imageChild, _react.default.createElement(\"video\", {\n        src: url,\n        autoPlay: true,\n        controls: false,\n        loop: true,\n        muted: true,\n        playsInline: true,\n        width: \"100%\"\n      }));\n    } else {\n      var alt = url.length ? title : \"\";\n\n      var _src2 = url.length && (0, _resizer.resize)(url, {\n        width: 1200\n      });\n\n      var _image = _react.default.createElement(Image, {\n        src: _src2,\n        alt: alt\n      });\n\n      return _react.default.createElement(TextAsset, null, imageChild, url.length && _image);\n    }\n  } else {\n    return false;\n  }\n}\n\nfunction isVideo(url) {\n  return url.includes(\"mp4\");\n}\n\nvar renderDeck = function renderDeck(deck) {\n  return deck ? _react.default.createElement(Deck, null, deck) : false;\n};\n\nvar FeatureHeaderComponent = (_dec = (0, _track.track)(), _dec2 = (0, _track.track)(function (props) {\n  return {\n    action: \"Click\",\n    label: \"Clicked primary partner logo\",\n    impression_type: \"sa_primary_logo\",\n    destination_path: props.article.super_article.partner_logo_link,\n    context_type: \"article_fixed\"\n  };\n}), _dec(_class = (_class2 =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FeatureHeaderComponent, _React$Component);\n\n  function FeatureHeaderComponent() {\n    _classCallCheck(this, FeatureHeaderComponent);\n\n    return _possibleConstructorReturn(this, (FeatureHeaderComponent.__proto__ || Object.getPrototypeOf(FeatureHeaderComponent)).apply(this, arguments));\n  }\n\n  _createClass(FeatureHeaderComponent, [{\n    key: \"onClickPartnerLink\",\n    value: function onClickPartnerLink() {// noop\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _props = this.props,\n          article = _props.article,\n          date = _props.date,\n          vertical = _props.vertical,\n          title = _props.title,\n          deck = _props.deck,\n          image = _props.image,\n          height = _props.height,\n          passedIsMobile = _props.isMobile;\n      var hero_section = article.hero_section;\n      var url = hero_section && hero_section.url || \"\";\n      var type = hero_section && hero_section.type || \"text\";\n\n      if (type === \"basic\") {\n        return _react.default.createElement(_BasicHeader.BasicHeader, {\n          article: article,\n          vertical: vertical,\n          title: title,\n          isMobile: passedIsMobile,\n          date: date && date\n        }); // Fullscreen, Text, Split\n      } else {\n        var super_article = article.super_article;\n        return _react.default.createElement(_Responsive.Responsive, {\n          initialState: {\n            isMobile: passedIsMobile\n          }\n        }, function (_ref) {\n          var isMobile = _ref.isMobile;\n          return _react.default.createElement(FeatureHeaderContainer, {\n            \"data-type\": type,\n            height: height\n          }, renderFeatureAsset(url, type, isMobile, article.title, image), _react.default.createElement(HeaderTextContainer, null, article.is_super_article && _react.default.createElement(_PartnerInline.PartnerInline, {\n            logo: super_article.partner_fullscreen_header_logo || super_article.partner_logo,\n            url: super_article.partner_logo_link,\n            color: \"white\"\n          }), _react.default.createElement(HeaderText, null, _react.default.createElement(_VerticalOrSeriesTitle.VerticalOrSeriesTitle, {\n            article: article,\n            vertical: vertical,\n            color: \"white\"\n          }), _react.default.createElement(Title, null, title), renderMobileSplitAsset(url, type, isMobile, article.title, image), _react.default.createElement(SubHeader, null, renderDeck(deck), _react.default.createElement(_Byline.Byline, {\n            article: article,\n            layout: type,\n            date: date && date\n          }))), renderTextLayoutAsset(url, type, article.title, image)));\n        });\n      }\n    }\n  }]);\n\n  return FeatureHeaderComponent;\n}(_react.default.Component), (_applyDecoratedDescriptor(_class2.prototype, \"onClickPartnerLink\", [_dec2], Object.getOwnPropertyDescriptor(_class2.prototype, \"onClickPartnerLink\"), _class2.prototype)), _class2)) || _class);\nObject.defineProperty(FeatureHeaderComponent, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    height: \"calc(100vh - 50px)\"\n  }\n});\n\nvar Div =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"FeatureHeader__Div\",\n  componentId: \"s6aooro-0\"\n})([\"width:100%;height:\", \";box-sizing:border-box;\"], function (props) {\n  return props.height || \"100%\";\n});\n\nvar Overlay =\n/*#__PURE__*/\n(0, _styledComponents.default)(Div).withConfig({\n  displayName: \"FeatureHeader__Overlay\",\n  componentId: \"s6aooro-1\"\n})([\"position:absolute;background-image:linear-gradient( to bottom,rgba(0,0,0,0),rgba(0,0,0,0.3) );\"]);\nvar HeaderTextContainer =\n/*#__PURE__*/\n(0, _styledComponents.default)(Div).withConfig({\n  displayName: \"FeatureHeader__HeaderTextContainer\",\n  componentId: \"s6aooro-2\"\n})([\"margin:auto;.PartnerInline{position:absolute;z-index:1;padding:45px 45px 50px;}\", \"{margin-bottom:10px;}\", \";\"], _VerticalOrSeriesTitle.Vertical, _Helpers.pMedia.xs(_templateObject));\nvar HeaderText =\n/*#__PURE__*/\n(0, _styledComponents.default)(Div).withConfig({\n  displayName: \"FeatureHeader__HeaderText\",\n  componentId: \"s6aooro-3\"\n})([\"position:relative;display:flex;flex-direction:column;width:100%;height:100%;padding:20px;color:#000;justify-content:flex-start;\"]);\nvar FeatureImage =\n/*#__PURE__*/\n(0, _styledComponents.default)(Div).withConfig({\n  displayName: \"FeatureHeader__FeatureImage\",\n  componentId: \"s6aooro-4\"\n})([\"position:absolute;background-image:url(\", \");background-size:cover;background-repeat:no-repeat;background-position:center;right:0;width:100%;\"], function (props) {\n  return props.src ? props.src : \"\";\n});\n\nvar FeatureVideo =\n/*#__PURE__*/\n_styledComponents.default.video.withConfig({\n  displayName: \"FeatureHeader__FeatureVideo\",\n  componentId: \"s6aooro-5\"\n})([\"width:100%;height:100%;object-fit:cover;\"]);\n\nvar FeatureVideoContainer =\n/*#__PURE__*/\n(0, _styledComponents.default)(Div).withConfig({\n  displayName: \"FeatureHeader__FeatureVideoContainer\",\n  componentId: \"s6aooro-6\"\n})([\"width:100%;height:100%;right:0;position:absolute;overflow:hidden;\"]);\n\nvar Image =\n/*#__PURE__*/\n_styledComponents.default.img.withConfig({\n  displayName: \"FeatureHeader__Image\",\n  componentId: \"s6aooro-7\"\n})([\"width:100%;height:auto;box-sizing:border-box;\"]);\n\nvar TextAsset =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"FeatureHeader__TextAsset\",\n  componentId: \"s6aooro-8\"\n})([\"width:100%;padding:20px;box-sizing:border-box;\"]);\n\nvar SubHeader =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"FeatureHeader__SubHeader\",\n  componentId: \"s6aooro-9\"\n})([\"\", \";display:flex;justify-content:space-between;align-items:flex-end;flex-direction:row;\", \";\"], (0, _Fonts.unica)(\"s19\", \"medium\"), _Helpers.pMedia.sm(_templateObject2));\n\nvar Title =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"FeatureHeader__Title\",\n  componentId: \"s6aooro-10\"\n})([\"\", \";margin-bottom:75px;letter-spacing:-0.035em;\", \" \", \" \", \";\"], (0, _Fonts.unica)(\"s100\"), _Helpers.pMedia.xl(_templateObject3, (0, _Fonts.unica)(\"s80\")), _Helpers.pMedia.md(_templateObject3, (0, _Fonts.unica)(\"s65\")), _Helpers.pMedia.xs(_templateObject3, (0, _Fonts.unica)(\"s45\")));\n\nvar Deck =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"FeatureHeader__Deck\",\n  componentId: \"s6aooro-11\"\n})([\"max-width:460px;margin-right:30px;\", \";line-height:1.4em;\", \";\"], (0, _Fonts.unica)(\"s16\", \"medium\"), _Helpers.pMedia.sm(_templateObject4, (0, _Fonts.unica)(\"s14\", \"medium\")));\n\nvar FeatureHeaderContainer =\n/*#__PURE__*/\n(0, _styledComponents.default)(Div).withConfig({\n  displayName: \"FeatureHeader__FeatureHeaderContainer\",\n  componentId: \"s6aooro-12\"\n})([\"width:100%;position:relative;height:\", \";&[data-type=\\\"text\\\"]{height:auto;\", \"{margin-bottom:150px;}}&[data-type=\\\"split\\\"]{\", \"{flex-grow:1;}\", \"{width:50%;}\", \"{border:20px solid white;width:50%;}\", \"{border:20px solid white;width:50%;}\", \"{width:50vw;}\", \"{align-items:flex-start;flex-direction:column;}\", \"{margin-bottom:30px;}\", \";}&[data-type=\\\"fullscreen\\\"]{\", \"{padding:50px;color:#fff;justify-content:flex-end;margin:auto;text-shadow:0 0 40px rgba(0,0,0,0.4);}\", \";}\"], function (props) {\n  return props.height;\n}, Title, Title, HeaderText, FeatureImage, FeatureVideoContainer, FeatureVideo, SubHeader, Deck, _Helpers.pMedia.xs(_templateObject5, Title, HeaderText, FeatureImage, FeatureVideoContainer, FeatureVideo), HeaderText, _Helpers.pMedia.sm(_templateObject6, HeaderText));\nvar FeatureHeader = FeatureHeaderComponent;\nexports.FeatureHeader = FeatureHeader;",{"version":3,"sources":["src/Components/Publishing/Header/FeatureHeader.tsx"],"names":["renderFeatureAsset","url","layout","isMobile","title","imageChild","renderAsset","renderMobileSplitAsset","isVideo","src","length","width","alt","renderTextLayoutAsset","image","includes","renderDeck","deck","FeatureHeaderComponent","action","label","impression_type","destination_path","props","article","super_article","partner_logo_link","context_type","date","vertical","height","passedIsMobile","hero_section","type","is_super_article","partner_fullscreen_header_logo","partner_logo","Component","Div","div","Overlay","HeaderTextContainer","xs","HeaderText","FeatureImage","FeatureVideo","video","FeatureVideoContainer","Image","img","TextAsset","SubHeader","sm","Title","xl","md","Deck","FeatureHeaderContainer","FeatureHeader"],"mappings":"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","file":"/Users/eve/development/reaction/src/Components/Publishing/Header/FeatureHeader.tsx","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import React from \"react\"\nimport styled from \"styled-components\"\nimport { resize } from \"../../../Utils/resizer\"\nimport { Responsive } from \"../../../Utils/Responsive\"\nimport { track } from \"../../../Utils/track\"\nimport { pMedia } from \"../../Helpers\"\nimport { Byline } from \"../Byline/Byline\"\nimport { unica } from \"Assets/Fonts\"\nimport {\n  VerticalOrSeriesTitle,\n  Vertical,\n} from \"../Sections/VerticalOrSeriesTitle\"\nimport { PartnerInline } from \"../Partner/PartnerInline\"\nimport { BasicHeader } from \"./BasicHeader\"\n\nfunction renderFeatureAsset(url, layout, isMobile, title, imageChild) {\n  if (layout === \"fullscreen\") {\n    return (\n      <div>\n        {renderAsset(url, title, imageChild)}\n        <Overlay />\n      </div>\n    )\n  } else if (layout === \"split\" && !isMobile) {\n    return renderAsset(url, title, imageChild)\n  } else {\n    return false\n  }\n}\n\nfunction renderMobileSplitAsset(url, layout, isMobile, title, imageChild) {\n  if (layout === \"split\" && isMobile) {\n    return renderAsset(url, title, imageChild)\n  } else {\n    return false\n  }\n}\n\nfunction renderAsset(url, title, imageChild) {\n  if (isVideo(url)) {\n    return (\n      <FeatureVideoContainer>\n        {imageChild}\n        <FeatureVideo\n          src={url}\n          autoPlay\n          controls={false}\n          loop\n          muted\n          playsInline\n        />\n      </FeatureVideoContainer>\n    )\n  } else {\n    const src = url.length && resize(url, { width: 1600 })\n    const alt = url.length ? title : \"\"\n    return (\n      <FeatureImage src={src} alt={alt}>\n        {imageChild}\n      </FeatureImage>\n    )\n  }\n}\n\nfunction renderTextLayoutAsset(url, layout, title, imageChild) {\n  if (layout === \"text\") {\n    if (isVideo(url)) {\n      return (\n        <TextAsset>\n          {imageChild}\n          <video\n            src={url}\n            autoPlay\n            controls={false}\n            loop\n            muted\n            playsInline\n            width=\"100%\"\n          />\n        </TextAsset>\n      )\n    } else {\n      const alt = url.length ? title : \"\"\n      const src = url.length && resize(url, { width: 1200 })\n      const image = <Image src={src} alt={alt} />\n\n      return (\n        <TextAsset>\n          {imageChild}\n          {url.length && image}\n        </TextAsset>\n      )\n    }\n  } else {\n    return false\n  }\n}\n\nfunction isVideo(url) {\n  return url.includes(\"mp4\")\n}\n\nconst renderDeck = deck => {\n  return deck ? <Deck>{deck}</Deck> : false\n}\n\ninterface FeatureHeaderProps {\n  article?: any\n  date?: string\n  vertical?: any\n  title: any\n  deck?: any\n  image?: any\n  height?: string\n  isMobile: boolean\n  size?: {\n    width: number\n  }\n}\n\ninterface DivProps extends React.HTMLProps<HTMLDivElement> {\n  height?: string\n  src?: string\n}\n\n@track()\nclass FeatureHeaderComponent extends React.Component<FeatureHeaderProps, any> {\n  static defaultProps = {\n    height: \"calc(100vh - 50px)\",\n  }\n\n  @track(props => ({\n    action: \"Click\",\n    label: \"Clicked primary partner logo\",\n    impression_type: \"sa_primary_logo\",\n    destination_path: props.article.super_article.partner_logo_link,\n    context_type: \"article_fixed\",\n  }))\n  onClickPartnerLink() {\n    // noop\n  }\n\n  render() {\n    const {\n      article,\n      date,\n      vertical,\n      title,\n      deck,\n      image,\n      height,\n      isMobile: passedIsMobile,\n    } = this.props\n    const { hero_section } = article\n    const url = (hero_section && hero_section.url) || \"\"\n    const type = (hero_section && hero_section.type) || \"text\"\n\n    if (type === \"basic\") {\n      return (\n        <BasicHeader\n          article={article}\n          vertical={vertical}\n          title={title}\n          isMobile={passedIsMobile}\n          date={date && date}\n        />\n      )\n      // Fullscreen, Text, Split\n    } else {\n      const { super_article } = article\n\n      return (\n        <Responsive initialState={{ isMobile: passedIsMobile }}>\n          {({ isMobile }) => (\n            <FeatureHeaderContainer data-type={type} height={height}>\n              {renderFeatureAsset(url, type, isMobile, article.title, image)}\n              <HeaderTextContainer>\n                {article.is_super_article && (\n                  <PartnerInline\n                    logo={\n                      super_article.partner_fullscreen_header_logo ||\n                      super_article.partner_logo\n                    }\n                    url={super_article.partner_logo_link}\n                    color={\"white\"}\n                  />\n                )}\n                <HeaderText>\n                  <VerticalOrSeriesTitle\n                    article={article}\n                    vertical={vertical}\n                    color=\"white\"\n                  />\n                  <Title>{title}</Title>\n                  {renderMobileSplitAsset(\n                    url,\n                    type,\n                    isMobile,\n                    article.title,\n                    image\n                  )}\n                  <SubHeader>\n                    {renderDeck(deck)}\n                    <Byline\n                      article={article}\n                      layout={type}\n                      date={date && date}\n                    />\n                  </SubHeader>\n                </HeaderText>\n                {renderTextLayoutAsset(url, type, article.title, image)}\n              </HeaderTextContainer>\n            </FeatureHeaderContainer>\n          )}\n        </Responsive>\n      )\n    }\n  }\n}\n\nconst Div = styled.div`\n  width: 100%;\n  height: ${(props: DivProps) => props.height || \"100%\"};\n  box-sizing: border-box;\n`\nconst Overlay = styled(Div)`\n  position: absolute;\n  background-image: linear-gradient(\n    to bottom,\n    rgba(0, 0, 0, 0),\n    rgba(0, 0, 0, 0.3)\n  );\n`\nconst HeaderTextContainer = styled(Div)`\n  margin: auto;\n  .PartnerInline {\n    position: absolute;\n    z-index: 1;\n    padding: 45px 45px 50px;\n  }\n  ${Vertical} {\n    margin-bottom: 10px;\n  }\n  ${pMedia.xs`\n    .PartnerInline {\n      padding: 20px 15px 20px;\n    }\n  `};\n`\nconst HeaderText = styled(Div)`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  padding: 20px;\n  color: #000;\n  justify-content: flex-start;\n`\nconst FeatureImage = styled(Div)`\n  position: absolute;\n  background-image: url(${(props: DivProps) => (props.src ? props.src : \"\")});\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  right: 0;\n  width: 100%;\n`\nconst FeatureVideo = styled.video`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n`\nconst FeatureVideoContainer = styled(Div)`\n  width: 100%;\n  height: 100%;\n  right: 0;\n  position: absolute;\n  overflow: hidden;\n`\nconst Image = styled.img`\n  width: 100%;\n  height: auto;\n  box-sizing: border-box;\n`\nconst TextAsset = styled.div`\n  width: 100%;\n  padding: 20px;\n  box-sizing: border-box;\n`\nconst SubHeader = styled.div`\n  ${unica(\"s19\", \"medium\")};\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  flex-direction: row;\n  ${pMedia.sm`\n    align-items: flex-start;\n    flex-direction: column;\n  `};\n`\nconst Title = styled.div`\n  ${unica(\"s100\")};\n  margin-bottom: 75px;\n  letter-spacing: -0.035em;\n  ${pMedia.xl`\n    ${unica(\"s80\")}\n  `} ${pMedia.md`\n    ${unica(\"s65\")}\n  `} ${pMedia.xs`\n    ${unica(\"s45\")}\n  `};\n`\nconst Deck = styled.div`\n  max-width: 460px;\n  margin-right: 30px;\n  ${unica(\"s16\", \"medium\")};\n  line-height: 1.4em;\n  ${pMedia.sm`\n    margin-bottom: 28px;\n    ${unica(\"s14\", \"medium\")}\n  `};\n`\nconst FeatureHeaderContainer = styled(Div)`\n  width: 100%;\n  position: relative;\n  height: ${(props: DivProps) => props.height};\n  &[data-type=\"text\"] {\n    height: auto;\n    ${Title} {\n      margin-bottom: 150px;\n    }\n  }\n  &[data-type=\"split\"] {\n    ${Title} {\n      flex-grow: 1;\n    }\n    ${HeaderText} {\n      width: 50%;\n    }\n    ${FeatureImage} {\n      border: 20px solid white;\n      width: 50%;\n    }\n    ${FeatureVideoContainer} {\n      border: 20px solid white;\n      width: 50%;\n    }\n    ${FeatureVideo} {\n      width: 50vw;\n    }\n    ${SubHeader} {\n      align-items: flex-start;\n      flex-direction: column;\n    }\n    ${Deck} {\n      margin-bottom: 30px;\n    }\n    ${pMedia.xs`\n      ${Title} {\n        margin-bottom: 20px;\n      }\n      ${HeaderText} {\n        width: 100%;\n      }\n      ${FeatureImage} {\n        width: 100%;\n        position: relative;\n        border: 0px;\n        margin-bottom: 30px;\n      }\n      ${FeatureVideoContainer} {\n        width: 100%;\n        position: relative;\n        border: 0px;\n        margin-bottom: 30px;\n      }\n      ${FeatureVideo} {\n        width: 100%;\n      }\n    `};\n  }\n  &[data-type=\"fullscreen\"] {\n    ${HeaderText} {\n      padding: 50px;\n      color: #fff;\n      justify-content: flex-end;\n      margin: auto;\n      text-shadow: 0 0 40px rgba(0, 0, 0, 0.4);\n    }\n    ${pMedia.sm`\n      ${HeaderText} {\n        padding: 20px;\n      }\n    `};\n  }\n`\n\nexport const FeatureHeader = FeatureHeaderComponent\n"]}]}