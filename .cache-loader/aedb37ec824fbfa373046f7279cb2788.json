{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Components/Publishing/Header/FeatureHeader.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/Header/FeatureHeader.tsx","mtime":1532717816000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1532461619000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FeatureHeader = void 0;\n\nvar _palette = require(\"@artsy/palette\");\n\nvar _Fonts = require(\"../../../Assets/Fonts\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactTracking = _interopRequireDefault(require(\"react-tracking\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _resizer = require(\"../../../Utils/resizer\");\n\nvar _ResponsiveDeprecated = require(\"../../../Utils/ResponsiveDeprecated\");\n\nvar _Helpers = require(\"../../Helpers\");\n\nvar _Byline = require(\"../Byline/Byline\");\n\nvar _PartnerInline = require(\"../Partner/PartnerInline\");\n\nvar _VerticalOrSeriesTitle = require(\"../Sections/VerticalOrSeriesTitle\");\n\nvar _BasicHeader = require(\"./BasicHeader\");\n\nvar _dec, _dec2, _class, _class2, _class3, _temp;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n      \", \" {\\n        padding: 20px;\\n      }\\n    \"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n      \", \" {\\n        margin-bottom: 20px;\\n      }\\n      \", \" {\\n        width: 100%;\\n      }\\n      \", \" {\\n        width: 100%;\\n        position: relative;\\n        border: 0px;\\n        margin-bottom: 30px;\\n      }\\n      \", \" {\\n        width: 100%;\\n        position: relative;\\n        border: 0px;\\n        margin-bottom: 30px;\\n      }\\n      \", \" {\\n        width: 100%;\\n      }\\n    \"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n    margin-bottom: 28px;\\n  \"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  max-width: 460px;\\n  margin-right: 30px;\\n  \", \";\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n    \", \"\\n  \"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n    \", \"\\n  \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n    \", \"\\n  \"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    align-items: flex-start;\\n    flex-direction: column;\\n  \"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    .PartnerInline {\\n      padding: 20px 15px 20px;\\n    }\\n  \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction renderFeatureAsset(url, layout, isMobile, title, imageChild) {\n  if (layout === \"fullscreen\") {\n    return _react.default.createElement(\"div\", null, renderAsset(url, title, imageChild), _react.default.createElement(Overlay, null));\n  } else if (layout === \"split\" && !isMobile) {\n    return renderAsset(url, title, imageChild);\n  } else {\n    return false;\n  }\n}\n\nfunction renderMobileSplitAsset(url, layout, isMobile, title, imageChild) {\n  if (layout === \"split\" && isMobile) {\n    return renderAsset(url, title, imageChild);\n  } else {\n    return false;\n  }\n}\n\nfunction renderAsset(url, title, imageChild) {\n  if (isVideo(url)) {\n    return _react.default.createElement(FeatureVideoContainer, null, imageChild, _react.default.createElement(FeatureVideo, {\n      src: url,\n      autoPlay: true,\n      controls: false,\n      loop: true,\n      muted: true,\n      playsInline: true\n    }));\n  } else {\n    var _src = url.length && (0, _resizer.resize)(url, {\n      width: 1600\n    });\n\n    return _react.default.createElement(FeatureImage, {\n      src: _src\n    }, imageChild);\n  }\n}\n\nfunction renderTextLayoutAsset(url, layout, title, imageChild) {\n  if (layout === \"text\") {\n    if (isVideo(url)) {\n      return _react.default.createElement(TextAsset, null, imageChild, _react.default.createElement(\"video\", {\n        src: url,\n        autoPlay: true,\n        controls: false,\n        loop: true,\n        muted: true,\n        playsInline: true,\n        width: \"100%\"\n      }));\n    } else {\n      var alt = url.length ? title : \"\";\n\n      var _src2 = url.length && (0, _resizer.resize)(url, {\n        width: 1200\n      });\n\n      var _image = _react.default.createElement(Image, {\n        src: _src2,\n        alt: alt\n      });\n\n      return _react.default.createElement(TextAsset, null, imageChild, url.length && _image);\n    }\n  } else {\n    return false;\n  }\n}\n\nfunction isVideo(url) {\n  return url.includes(\"mp4\");\n}\n\nvar FeatureHeaderComponent = (_dec = (0, _reactTracking.default)(), _dec2 = (0, _reactTracking.default)(function (props) {\n  return {\n    action: \"Click\",\n    label: \"Clicked primary partner logo\",\n    impression_type: \"sa_primary_logo\",\n    destination_path: props.article.super_article.partner_logo_link,\n    context_type: \"article_fixed\"\n  };\n}), _dec(_class = (_class2 = (_temp = _class3 =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FeatureHeaderComponent, _React$Component);\n\n  function FeatureHeaderComponent() {\n    _classCallCheck(this, FeatureHeaderComponent);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FeatureHeaderComponent).apply(this, arguments));\n  }\n\n  _createClass(FeatureHeaderComponent, [{\n    key: \"onClickPartnerLink\",\n    value: function onClickPartnerLink() {// noop\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          article = _this$props.article,\n          date = _this$props.date,\n          vertical = _this$props.vertical,\n          title = _this$props.title,\n          deck = _this$props.deck,\n          image = _this$props.image,\n          height = _this$props.height,\n          passedIsMobile = _this$props.isMobile;\n      var hero_section = article.hero_section;\n      var url = hero_section && hero_section.url || \"\";\n      var type = hero_section && hero_section.type || \"text\";\n\n      if (type === \"basic\") {\n        return _react.default.createElement(_BasicHeader.BasicHeader, {\n          article: article,\n          vertical: vertical,\n          title: title,\n          isMobile: passedIsMobile,\n          date: date && date,\n          deck: deck\n        }); // Fullscreen, Text, Split\n      } else {\n        var super_article = article.super_article;\n        return (// FIXME: Replace with new version of Responsive\n          _react.default.createElement(_ResponsiveDeprecated.ResponsiveDeprecated, {\n            initialState: {\n              isMobile: passedIsMobile\n            }\n          }, function (_ref) {\n            var isMobile = _ref.isMobile;\n            return _react.default.createElement(FeatureHeaderContainer, {\n              \"data-type\": type,\n              height: height\n            }, renderFeatureAsset(url, type, isMobile, article.title, image), _react.default.createElement(HeaderTextContainer, null, article.is_super_article && _react.default.createElement(_PartnerInline.PartnerInline, {\n              logo: super_article.partner_fullscreen_header_logo || super_article.partner_logo,\n              url: super_article.partner_logo_link,\n              color: \"white\"\n            }), _react.default.createElement(HeaderText, null, _react.default.createElement(_VerticalOrSeriesTitle.VerticalOrSeriesTitle, {\n              article: article,\n              vertical: vertical,\n              color: \"white\"\n            }), _react.default.createElement(Title, null, title), renderMobileSplitAsset(url, type, isMobile, article.title, image), _react.default.createElement(SubHeader, null, deck && _react.default.createElement(Deck, {\n              size: \"3t\",\n              weight: \"medium\"\n            }, deck), _react.default.createElement(_Byline.Byline, {\n              article: article,\n              layout: type,\n              date: date && date,\n              color: type === \"fullscreen\" ? \"white\" : undefined\n            }))), renderTextLayoutAsset(url, type, article.title, image)));\n          })\n        );\n      }\n    }\n  }]);\n\n  return FeatureHeaderComponent;\n}(_react.default.Component), _defineProperty(_class3, \"defaultProps\", {\n  height: \"calc(100vh - 50px)\"\n}), _temp), (_applyDecoratedDescriptor(_class2.prototype, \"onClickPartnerLink\", [_dec2], Object.getOwnPropertyDescriptor(_class2.prototype, \"onClickPartnerLink\"), _class2.prototype)), _class2)) || _class);\n\nvar Overlay = _styledComponents.default.div.withConfig({\n  displayName: \"FeatureHeader__Overlay\",\n  componentId: \"s6aooro-0\"\n})([\"position:absolute;background-image:linear-gradient( to bottom,rgba(0,0,0,0),rgba(0,0,0,0.3) );\"]);\n\nvar HeaderTextContainer = _styledComponents.default.div.withConfig({\n  displayName: \"FeatureHeader__HeaderTextContainer\",\n  componentId: \"s6aooro-1\"\n})([\"margin:auto;height:100%;.PartnerInline{position:absolute;z-index:1;padding:45px 45px 50px;}\", \"{margin-bottom:10px;}\", \";\"], _VerticalOrSeriesTitle.Vertical, _Helpers.pMedia.xs(_templateObject()));\n\nvar HeaderText = _styledComponents.default.div.withConfig({\n  displayName: \"FeatureHeader__HeaderText\",\n  componentId: \"s6aooro-2\"\n})([\"position:relative;display:flex;flex-direction:column;width:100%;height:100%;padding:20px;color:#000;justify-content:flex-start;\"]);\n\nvar FeatureImage = _styledComponents.default.div.attrs({}).withConfig({\n  displayName: \"FeatureHeader__FeatureImage\",\n  componentId: \"s6aooro-3\"\n})([\"position:absolute;background-image:url(\", \");background-size:cover;background-repeat:no-repeat;background-position:center;right:0;width:100%;height:100%;\"], function (props) {\n  return props.src ? props.src : \"\";\n});\n\nvar FeatureVideo = _styledComponents.default.video.withConfig({\n  displayName: \"FeatureHeader__FeatureVideo\",\n  componentId: \"s6aooro-4\"\n})([\"width:100%;height:100%;object-fit:cover;\"]);\n\nvar FeatureVideoContainer = _styledComponents.default.div.withConfig({\n  displayName: \"FeatureHeader__FeatureVideoContainer\",\n  componentId: \"s6aooro-5\"\n})([\"width:100%;height:100%;right:0;position:absolute;overflow:hidden;\"]);\n\nvar Image = _styledComponents.default.img.withConfig({\n  displayName: \"FeatureHeader__Image\",\n  componentId: \"s6aooro-6\"\n})([\"width:100%;height:auto;box-sizing:border-box;\"]);\n\nvar TextAsset = _styledComponents.default.div.withConfig({\n  displayName: \"FeatureHeader__TextAsset\",\n  componentId: \"s6aooro-7\"\n})([\"width:100%;padding:20px;box-sizing:border-box;\"]);\n\nvar SubHeader = _styledComponents.default.div.withConfig({\n  displayName: \"FeatureHeader__SubHeader\",\n  componentId: \"s6aooro-8\"\n})([\"display:flex;justify-content:space-between;align-items:flex-end;flex-direction:row;\", \";\"], _Helpers.pMedia.sm(_templateObject2()));\n\nvar Title = _styledComponents.default.div.withConfig({\n  displayName: \"FeatureHeader__Title\",\n  componentId: \"s6aooro-9\"\n})([\"\", \";margin-bottom:75px;letter-spacing:-0.035em;\", \" \", \" \", \";\"], (0, _Fonts.unica)(\"s100\"), _Helpers.pMedia.xl(_templateObject3(), (0, _Fonts.unica)(\"s80\")), _Helpers.pMedia.md(_templateObject4(), (0, _Fonts.unica)(\"s65\")), _Helpers.pMedia.xs(_templateObject5(), (0, _Fonts.unica)(\"s45\")));\n\nvar Deck = _palette.Sans.extend(_templateObject6(), _Helpers.pMedia.sm(_templateObject7()));\n\nvar FeatureHeaderContainer = _styledComponents.default.div.attrs({}).withConfig({\n  displayName: \"FeatureHeader__FeatureHeaderContainer\",\n  componentId: \"s6aooro-10\"\n})([\"width:100%;position:relative;height:\", \";&[data-type=\\\"text\\\"]{height:auto;\", \"{margin-bottom:150px;}}&[data-type=\\\"split\\\"]{\", \"{flex-grow:1;}\", \"{width:50%;}\", \"{border:20px solid white;width:50%;}\", \"{border:20px solid white;width:50%;}\", \"{width:50vw;}\", \"{align-items:flex-start;flex-direction:column;}\", \"{margin-bottom:30px;}\", \";}&[data-type=\\\"fullscreen\\\"]{\", \"{padding:50px;color:#fff;justify-content:flex-end;margin:auto;text-shadow:0 0 40px rgba(0,0,0,0.4);}\", \";}\"], function (props) {\n  return props.height;\n}, Title, Title, HeaderText, FeatureImage, FeatureVideoContainer, FeatureVideo, SubHeader, Deck, _Helpers.pMedia.xs(_templateObject8(), Title, HeaderText, FeatureImage, FeatureVideoContainer, FeatureVideo), HeaderText, _Helpers.pMedia.sm(_templateObject9(), HeaderText));\n\nvar FeatureHeader = FeatureHeaderComponent;\nexports.FeatureHeader = FeatureHeader;",{"version":3,"sources":["src/Components/Publishing/Header/FeatureHeader.tsx"],"names":["renderFeatureAsset","url","layout","isMobile","title","imageChild","renderAsset","renderMobileSplitAsset","isVideo","src","length","width","renderTextLayoutAsset","alt","image","includes","FeatureHeaderComponent","action","label","impression_type","destination_path","props","article","super_article","partner_logo_link","context_type","date","vertical","deck","height","passedIsMobile","hero_section","type","is_super_article","partner_fullscreen_header_logo","partner_logo","undefined","React","Component","Overlay","styled","div","HeaderTextContainer","Vertical","pMedia","xs","HeaderText","FeatureImage","attrs","FeatureVideo","video","FeatureVideoContainer","Image","img","TextAsset","SubHeader","sm","Title","xl","md","Deck","Sans","extend","FeatureHeaderContainer","FeatureHeader"],"mappings":"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","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import { Sans } from \"@artsy/palette\"\nimport { unica } from \"Assets/Fonts\"\nimport React from \"react\"\nimport track from \"react-tracking\"\nimport styled from \"styled-components\"\nimport { resize } from \"../../../Utils/resizer\"\nimport { ResponsiveDeprecated } from \"../../../Utils/ResponsiveDeprecated\"\nimport { pMedia } from \"../../Helpers\"\nimport { Byline } from \"../Byline/Byline\"\nimport { PartnerInline } from \"../Partner/PartnerInline\"\nimport {\n  Vertical,\n  VerticalOrSeriesTitle,\n} from \"../Sections/VerticalOrSeriesTitle\"\nimport { BasicHeader } from \"./BasicHeader\"\n\nfunction renderFeatureAsset(url, layout, isMobile, title, imageChild) {\n  if (layout === \"fullscreen\") {\n    return (\n      <div>\n        {renderAsset(url, title, imageChild)}\n        <Overlay />\n      </div>\n    )\n  } else if (layout === \"split\" && !isMobile) {\n    return renderAsset(url, title, imageChild)\n  } else {\n    return false\n  }\n}\n\nfunction renderMobileSplitAsset(url, layout, isMobile, title, imageChild) {\n  if (layout === \"split\" && isMobile) {\n    return renderAsset(url, title, imageChild)\n  } else {\n    return false\n  }\n}\n\nfunction renderAsset(url, title, imageChild) {\n  if (isVideo(url)) {\n    return (\n      <FeatureVideoContainer>\n        {imageChild}\n        <FeatureVideo\n          src={url}\n          autoPlay\n          controls={false}\n          loop\n          muted\n          playsInline\n        />\n      </FeatureVideoContainer>\n    )\n  } else {\n    const src = url.length && resize(url, { width: 1600 })\n\n    return <FeatureImage src={src}>{imageChild}</FeatureImage>\n  }\n}\n\nfunction renderTextLayoutAsset(url, layout, title, imageChild) {\n  if (layout === \"text\") {\n    if (isVideo(url)) {\n      return (\n        <TextAsset>\n          {imageChild}\n          <video\n            src={url}\n            autoPlay\n            controls={false}\n            loop\n            muted\n            playsInline\n            width=\"100%\"\n          />\n        </TextAsset>\n      )\n    } else {\n      const alt = url.length ? title : \"\"\n      const src = url.length && resize(url, { width: 1200 })\n      const image = <Image src={src} alt={alt} />\n\n      return (\n        <TextAsset>\n          {imageChild}\n          {url.length && image}\n        </TextAsset>\n      )\n    }\n  } else {\n    return false\n  }\n}\n\nfunction isVideo(url) {\n  return url.includes(\"mp4\")\n}\n\ninterface FeatureHeaderProps {\n  article?: any\n  date?: string\n  vertical?: any\n  title: any\n  deck?: any\n  image?: any\n  height?: string\n  isMobile: boolean\n  size?: {\n    width: number\n  }\n}\n\n@track()\nclass FeatureHeaderComponent extends React.Component<FeatureHeaderProps, any> {\n  static defaultProps = {\n    height: \"calc(100vh - 50px)\",\n  }\n\n  @track(props => ({\n    action: \"Click\",\n    label: \"Clicked primary partner logo\",\n    impression_type: \"sa_primary_logo\",\n    destination_path: props.article.super_article.partner_logo_link,\n    context_type: \"article_fixed\",\n  }))\n  onClickPartnerLink() {\n    // noop\n  }\n\n  render() {\n    const {\n      article,\n      date,\n      vertical,\n      title,\n      deck,\n      image,\n      height,\n      isMobile: passedIsMobile,\n    } = this.props\n    const { hero_section } = article\n    const url = (hero_section && hero_section.url) || \"\"\n    const type = (hero_section && hero_section.type) || \"text\"\n\n    if (type === \"basic\") {\n      return (\n        <BasicHeader\n          article={article}\n          vertical={vertical}\n          title={title}\n          isMobile={passedIsMobile}\n          date={date && date}\n          deck={deck}\n        />\n      )\n      // Fullscreen, Text, Split\n    } else {\n      const { super_article } = article\n\n      return (\n        // FIXME: Replace with new version of Responsive\n        <ResponsiveDeprecated initialState={{ isMobile: passedIsMobile }}>\n          {({ isMobile }) => (\n            <FeatureHeaderContainer data-type={type} height={height}>\n              {renderFeatureAsset(url, type, isMobile, article.title, image)}\n              <HeaderTextContainer>\n                {article.is_super_article && (\n                  <PartnerInline\n                    logo={\n                      super_article.partner_fullscreen_header_logo ||\n                      super_article.partner_logo\n                    }\n                    url={super_article.partner_logo_link}\n                    color={\"white\"}\n                  />\n                )}\n                <HeaderText>\n                  <VerticalOrSeriesTitle\n                    article={article}\n                    vertical={vertical}\n                    color=\"white\"\n                  />\n                  <Title>{title}</Title>\n                  {renderMobileSplitAsset(\n                    url,\n                    type,\n                    isMobile,\n                    article.title,\n                    image\n                  )}\n                  <SubHeader>\n                    {deck && (\n                      <Deck size=\"3t\" weight=\"medium\">\n                        {deck}\n                      </Deck>\n                    )}\n                    <Byline\n                      article={article}\n                      layout={type}\n                      date={date && date}\n                      color={type === \"fullscreen\" ? \"white\" : undefined}\n                    />\n                  </SubHeader>\n                </HeaderText>\n                {renderTextLayoutAsset(url, type, article.title, image)}\n              </HeaderTextContainer>\n            </FeatureHeaderContainer>\n          )}\n        </ResponsiveDeprecated>\n      )\n    }\n  }\n}\n\ninterface DivProps {\n  height?: string\n  src?: string\n}\n\nconst Overlay = styled.div`\n  position: absolute;\n  background-image: linear-gradient(\n    to bottom,\n    rgba(0, 0, 0, 0),\n    rgba(0, 0, 0, 0.3)\n  );\n`\nconst HeaderTextContainer = styled.div`\n  margin: auto;\n  height: 100%;\n  .PartnerInline {\n    position: absolute;\n    z-index: 1;\n    padding: 45px 45px 50px;\n  }\n  ${Vertical} {\n    margin-bottom: 10px;\n  }\n  ${pMedia.xs`\n    .PartnerInline {\n      padding: 20px 15px 20px;\n    }\n  `};\n`\nconst HeaderText = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  padding: 20px;\n  color: #000;\n  justify-content: flex-start;\n`\nconst FeatureImage = styled.div.attrs<DivProps>({})`\n  position: absolute;\n  background-image: url(${props => (props.src ? props.src : \"\")});\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  right: 0;\n  width: 100%;\n  height: 100%;\n`\nconst FeatureVideo = styled.video`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n`\nconst FeatureVideoContainer = styled.div`\n  width: 100%;\n  height: 100%;\n  right: 0;\n  position: absolute;\n  overflow: hidden;\n`\nconst Image = styled.img`\n  width: 100%;\n  height: auto;\n  box-sizing: border-box;\n`\nconst TextAsset = styled.div`\n  width: 100%;\n  padding: 20px;\n  box-sizing: border-box;\n`\nconst SubHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  flex-direction: row;\n  ${pMedia.sm`\n    align-items: flex-start;\n    flex-direction: column;\n  `};\n`\nconst Title = styled.div`\n  ${unica(\"s100\")};\n  margin-bottom: 75px;\n  letter-spacing: -0.035em;\n  ${pMedia.xl`\n    ${unica(\"s80\")}\n  `} ${pMedia.md`\n    ${unica(\"s65\")}\n  `} ${pMedia.xs`\n    ${unica(\"s45\")}\n  `};\n`\nconst Deck = Sans.extend`\n  max-width: 460px;\n  margin-right: 30px;\n  ${pMedia.sm`\n    margin-bottom: 28px;\n  `};\n`\nconst FeatureHeaderContainer = styled.div.attrs<DivProps>({})`\n  width: 100%;\n  position: relative;\n  height: ${props => props.height};\n\n  &[data-type=\"text\"] {\n    height: auto;\n    ${Title} {\n      margin-bottom: 150px;\n    }\n  }\n\n  &[data-type=\"split\"] {\n    ${Title} {\n      flex-grow: 1;\n    }\n    ${HeaderText} {\n      width: 50%;\n    }\n    ${FeatureImage} {\n      border: 20px solid white;\n      width: 50%;\n    }\n    ${FeatureVideoContainer} {\n      border: 20px solid white;\n      width: 50%;\n    }\n    ${FeatureVideo} {\n      width: 50vw;\n    }\n    ${SubHeader} {\n      align-items: flex-start;\n      flex-direction: column;\n    }\n    ${Deck} {\n      margin-bottom: 30px;\n    }\n    ${pMedia.xs`\n      ${Title} {\n        margin-bottom: 20px;\n      }\n      ${HeaderText} {\n        width: 100%;\n      }\n      ${FeatureImage} {\n        width: 100%;\n        position: relative;\n        border: 0px;\n        margin-bottom: 30px;\n      }\n      ${FeatureVideoContainer} {\n        width: 100%;\n        position: relative;\n        border: 0px;\n        margin-bottom: 30px;\n      }\n      ${FeatureVideo} {\n        width: 100%;\n      }\n    `};\n  }\n\n  &[data-type=\"fullscreen\"] {\n    ${HeaderText} {\n      padding: 50px;\n      color: #fff;\n      justify-content: flex-end;\n      margin: auto;\n      text-shadow: 0 0 40px rgba(0, 0, 0, 0.4);\n    }\n    ${pMedia.sm`\n      ${HeaderText} {\n        padding: 20px;\n      }\n    `};\n  }\n`\n\nexport const FeatureHeader = FeatureHeaderComponent\n"]}]}