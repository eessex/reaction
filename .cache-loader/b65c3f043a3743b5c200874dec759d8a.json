{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Components/Publishing/RelatedArticles/ArticleCards/ArticleCard.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/RelatedArticles/ArticleCards/ArticleCard.tsx","mtime":1537112679000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1537112679000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["var _dec, _class, _class2, _temp;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n    \", \"\\n  \"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n    svg {\\n      width: 30px;\\n    }\\n  \"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n    \", \"\\n    margin-bottom: 20px;\\n  \"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n    \", \"\\n  \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n    width: 100%;\\n    margin-bottom: 0;\\n  \"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    flex-direction: column-reverse;\\n    padding: 20px;\\n  \"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    width: 100%;\\n    margin-left: 0;\\n    margin-bottom: 10px;\\n  \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Sans } from \"@artsy/palette\";\nimport { garamond, unica } from \"../../../../Assets/Fonts\";\nimport React, { Component } from \"react\";\nimport track from \"react-tracking\";\nimport styled from \"styled-components\";\nimport { crop } from \"../../../../Utils/resizer\";\nimport { pMedia } from \"../../../Helpers\";\nimport { Byline } from \"../../Byline/Byline\";\nimport { Date } from \"../../Byline/Date\";\nimport { formatTime, getMediaDate } from \"../../Constants\";\nimport { IconVideoPlay } from \"../../Icon/IconVideoPlay\";\nexport var ArticleCard = (_dec = track(), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ArticleCard, _Component);\n\n  function ArticleCard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ArticleCard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ArticleCard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"isEditing\", function () {\n      var _this$props = _this.props,\n          editDate = _this$props.editDate,\n          editDescription = _this$props.editDescription,\n          editImage = _this$props.editImage,\n          editTitle = _this$props.editTitle,\n          editing = _this$props.editing;\n      return editing || editDate || editDescription || editImage || editTitle;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderDate\", function () {\n      var _this$props2 = _this.props,\n          article = _this$props2.article,\n          color = _this$props2.color,\n          editDate = _this$props2.editDate;\n      var media = article.media;\n\n      if (editDate) {\n        return React.createElement(MediaDate, {\n          size: \"3t\",\n          weight: \"medium\"\n        }, editDate);\n      } else if (media) {\n        return _this.renderMediaDate();\n      } else {\n        return React.createElement(Byline, {\n          article: article,\n          color: color,\n          size: \"3t\",\n          layout: \"condensed\"\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderMediaDate\", function () {\n      var article = _this.props.article;\n      var mediaDate = getMediaDate(article);\n      var date = article.layout === \"video\" ? mediaDate : article.published_at;\n\n      if (_this.isUnpublishedMedia()) {\n        return React.createElement(MediaDate, {\n          size: \"3t\",\n          weight: \"medium\"\n        }, React.createElement(\"span\", null, \"Available \"), React.createElement(Date, {\n          format: \"monthYear\",\n          date: mediaDate\n        }));\n      } else {\n        return React.createElement(Date, {\n          layout: \"condensed\",\n          size: \"3t\",\n          date: date\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderMediaCoverInfo\", function () {\n      var _this$props3 = _this.props,\n          article = _this$props3.article,\n          color = _this$props3.color;\n\n      if (_this.isUnpublishedMedia()) {\n        return React.createElement(MediaComingSoon, null, \"Coming Soon\");\n      } else {\n        return React.createElement(MediaPlay, null, React.createElement(IconVideoPlay, {\n          color: color\n        }), React.createElement(Sans, {\n          size: \"3t\",\n          weight: \"medium\"\n        }, formatTime(article.media.duration)));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"openLink\", function (e) {\n      e.preventDefault();\n\n      if (!_this.isUnpublishedMedia() && !_this.isEditing()) {\n        window.open(e.currentTarget.attributes.href.value);\n      }\n\n      _this.props.tracking.trackEvent({\n        action: \"Click\",\n        label: \"Related article card\"\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(ArticleCard, [{\n    key: \"isUnpublishedMedia\",\n    value: function isUnpublishedMedia() {\n      var _this$props$article = this.props.article,\n          media = _this$props$article.media,\n          layout = _this$props$article.layout;\n      return layout === \"video\" && media && !media.published;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          article = _this$props4.article,\n          color = _this$props4.color,\n          editDescription = _this$props4.editDescription,\n          editImage = _this$props4.editImage,\n          editTitle = _this$props4.editTitle,\n          series = _this$props4.series;\n      var layout = article.layout,\n          media = article.media;\n      var isUnpublishedMedia = this.isUnpublishedMedia();\n      var description = editDescription ? editDescription : article.description;\n      var title = editTitle ? editTitle : article.thumbnail_title || article.title;\n      return React.createElement(ArticleCardContainer, {\n        href: isUnpublishedMedia ? \"\" : article.slug,\n        color: color,\n        className: \"ArticleCard\",\n        published: !isUnpublishedMedia,\n        onClick: this.openLink\n      }, React.createElement(TextContainer, null, React.createElement(\"div\", null, series && React.createElement(SeriesTitle, {\n        size: \"3t\",\n        weight: \"medium\"\n      }, series.title), React.createElement(Title, null, title), React.createElement(Description, null, description)), this.renderDate()), React.createElement(ImageContainer, null, editImage ? editImage : React.createElement(Image, {\n        src: crop(article.thumbnail_image, {\n          width: 680,\n          height: 450\n        })\n      }), media && layout === \"video\" && this.renderMediaCoverInfo()));\n    }\n  }]);\n\n  return ArticleCard;\n}(Component), _defineProperty(_class2, \"defaultProps\", void 0), _temp)) || _class);\nArticleCard.defaultProps = {\n  color: \"black\"\n};\nvar Image = styled.img.withConfig({\n  displayName: \"ArticleCard__Image\",\n  componentId: \"nqsvxw-0\"\n})([\"width:100%;height:100%;object-fit:cover;object-position:center;transition:opacity 0.15s;display:block;\"]);\nvar ImageContainer = styled.div.withConfig({\n  displayName: \"ArticleCard__ImageContainer\",\n  componentId: \"nqsvxw-1\"\n})([\"position:relative;width:50%;height:inherit;margin-left:30px;\", \";\"], pMedia.md(_templateObject()));\nexport var ArticleCardContainer = styled.a.withConfig({\n  displayName: \"ArticleCard__ArticleCardContainer\",\n  componentId: \"nqsvxw-2\"\n})([\"display:block;border:1px solid;border-radius:2px;color:\", \";cursor:\", \";text-decoration:none;padding:30px;display:flex;\", \"{opacity:\", \";}&:hover{\", \"{opacity:0.7;}}\", \"{background:\", \";}\", \";\"], function (props) {\n  return props.color;\n}, function (props) {\n  return props.published ? \"pointer\" : \"default\";\n}, Image, function (props) {\n  return props.published ? \"1\" : \"0.7\";\n}, Image, ImageContainer, function (props) {\n  return props.color === \"white\" ? \"black\" : \"white\";\n}, pMedia.md(_templateObject2()));\nvar TextContainer = styled.div.withConfig({\n  displayName: \"ArticleCard__TextContainer\",\n  componentId: \"nqsvxw-3\"\n})([\"display:flex;flex-direction:column;justify-content:space-between;width:50%;margin-bottom:5px;\", \";\"], pMedia.md(_templateObject3()));\nvar Title = styled.div.withConfig({\n  displayName: \"ArticleCard__Title\",\n  componentId: \"nqsvxw-4\"\n})([\"\", \";margin-bottom:30px;\", \";\"], unica(\"s45\"), pMedia.md(_templateObject4(), unica(\"s32\")));\nvar SeriesTitle = styled(Sans).withConfig({\n  displayName: \"ArticleCard__SeriesTitle\",\n  componentId: \"nqsvxw-5\"\n})([\"margin-bottom:10px;\"]);\nvar Description = styled.div.withConfig({\n  displayName: \"ArticleCard__Description\",\n  componentId: \"nqsvxw-6\"\n})([\"\", \";\", \";\"], garamond(\"s23\"), pMedia.md(_templateObject5(), garamond(\"s19\")));\nvar MediaDate = styled(Sans).withConfig({\n  displayName: \"ArticleCard__MediaDate\",\n  componentId: \"nqsvxw-7\"\n})([\"display:flex;align-items:flex-end;span{margin-right:5px;}\"]);\nvar Media = styled.div.withConfig({\n  displayName: \"ArticleCard__Media\",\n  componentId: \"nqsvxw-8\"\n})([\"position:absolute;left:20px;bottom:20px;right:20px;display:flex;justify-content:space-between;align-items:flex-end;\"]);\nvar MediaPlay = styled(Media).withConfig({\n  displayName: \"ArticleCard__MediaPlay\",\n  componentId: \"nqsvxw-9\"\n})([\"svg{width:40px;}\", \";\"], pMedia.md(_templateObject6()));\nvar MediaComingSoon = styled(Media).withConfig({\n  displayName: \"ArticleCard__MediaComingSoon\",\n  componentId: \"nqsvxw-10\"\n})([\"\", \";\", \";\"], unica(\"s45\"), pMedia.md(_templateObject7(), unica(\"s32\")));",{"version":3,"sources":["/Users/eve/development/reaction/src/Components/Publishing/RelatedArticles/ArticleCards/ArticleCard.tsx"],"names":["Sans","garamond","unica","React","Component","track","styled","crop","pMedia","Byline","Date","formatTime","getMediaDate","IconVideoPlay","ArticleCard","props","editDate","editDescription","editImage","editTitle","editing","article","color","media","renderMediaDate","mediaDate","date","layout","published_at","isUnpublishedMedia","duration","e","preventDefault","isEditing","window","open","currentTarget","attributes","href","value","tracking","trackEvent","action","label","published","series","description","title","thumbnail_title","slug","openLink","renderDate","thumbnail_image","width","height","renderMediaCoverInfo","defaultProps","Image","img","ImageContainer","div","md","ArticleCardContainer","a","TextContainer","Title","SeriesTitle","Description","MediaDate","Media","MediaPlay","MediaComingSoon"],"mappings":"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","sourcesContent":["import { Sans } from \"@artsy/palette\"\nimport { garamond, unica } from \"Assets/Fonts\"\nimport React, { Component } from \"react\"\nimport track from \"react-tracking\"\nimport styled from \"styled-components\"\nimport { crop } from \"../../../../Utils/resizer\"\nimport { pMedia } from \"../../../Helpers\"\nimport { Byline } from \"../../Byline/Byline\"\nimport { Date } from \"../../Byline/Date\"\nimport { formatTime, getMediaDate } from \"../../Constants\"\nimport { IconVideoPlay } from \"../../Icon/IconVideoPlay\"\n\ninterface Props {\n  article?: any\n  color?: string\n  editing?: boolean\n  editDate?: any\n  editDescription?: any\n  editTitle?: any\n  editImage?: any\n  series?: any\n  tracking?: any\n}\n\ninterface LinkProps extends Props, React.HTMLProps<HTMLLinkElement> {\n  published: boolean\n}\n\n@track()\nexport class ArticleCard extends Component<Props, null> {\n  public static defaultProps: Partial<Props>\n\n  isUnpublishedMedia() {\n    const { media, layout } = this.props.article\n    return layout === \"video\" && media && !media.published\n  }\n\n  isEditing = () => {\n    const {\n      editDate,\n      editDescription,\n      editImage,\n      editTitle,\n      editing,\n    } = this.props\n\n    return editing || editDate || editDescription || editImage || editTitle\n  }\n\n  renderDate = () => {\n    const { article, color, editDate } = this.props\n    const { media } = article\n\n    if (editDate) {\n      return (\n        <MediaDate size=\"3t\" weight=\"medium\">\n          {editDate}\n        </MediaDate>\n      )\n    } else if (media) {\n      return this.renderMediaDate()\n    } else {\n      return (\n        <Byline article={article} color={color} size=\"3t\" layout=\"condensed\" />\n      )\n    }\n  }\n\n  renderMediaDate = () => {\n    const { article } = this.props\n    const mediaDate = getMediaDate(article)\n    const date = article.layout === \"video\" ? mediaDate : article.published_at\n\n    if (this.isUnpublishedMedia()) {\n      return (\n        <MediaDate size=\"3t\" weight=\"medium\">\n          <span>Available </span>\n          <Date format=\"monthYear\" date={mediaDate} />\n        </MediaDate>\n      )\n    } else {\n      return <Date layout=\"condensed\" size=\"3t\" date={date} />\n    }\n  }\n\n  renderMediaCoverInfo = () => {\n    const { article, color } = this.props\n\n    if (this.isUnpublishedMedia()) {\n      return <MediaComingSoon>Coming Soon</MediaComingSoon>\n    } else {\n      return (\n        <MediaPlay>\n          <IconVideoPlay color={color} />\n          <Sans size=\"3t\" weight=\"medium\">\n            {formatTime(article.media.duration)}\n          </Sans>\n        </MediaPlay>\n      )\n    }\n  }\n\n  openLink = e => {\n    e.preventDefault()\n\n    if (!this.isUnpublishedMedia() && !this.isEditing()) {\n      window.open(e.currentTarget.attributes.href.value)\n    }\n\n    this.props.tracking.trackEvent({\n      action: \"Click\",\n      label: \"Related article card\",\n    })\n  }\n\n  render() {\n    const {\n      article,\n      color,\n      editDescription,\n      editImage,\n      editTitle,\n      series,\n    } = this.props\n    const { layout, media } = article\n    const isUnpublishedMedia = this.isUnpublishedMedia()\n\n    const description = editDescription ? editDescription : article.description\n\n    const title = editTitle\n      ? editTitle\n      : article.thumbnail_title || article.title\n\n    return (\n      <ArticleCardContainer\n        href={isUnpublishedMedia ? \"\" : article.slug}\n        color={color}\n        className=\"ArticleCard\"\n        published={!isUnpublishedMedia}\n        onClick={this.openLink}\n      >\n        <TextContainer>\n          <div>\n            {series && (\n              <SeriesTitle size=\"3t\" weight=\"medium\">\n                {series.title}\n              </SeriesTitle>\n            )}\n            <Title>{title}</Title>\n\n            <Description>{description}</Description>\n          </div>\n          {this.renderDate()}\n        </TextContainer>\n\n        <ImageContainer>\n          {editImage ? (\n            editImage\n          ) : (\n            <Image\n              src={crop(article.thumbnail_image, { width: 680, height: 450 })}\n            />\n          )}\n          {media && layout === \"video\" && this.renderMediaCoverInfo()}\n        </ImageContainer>\n      </ArticleCardContainer>\n    )\n  }\n}\n\nArticleCard.defaultProps = {\n  color: \"black\",\n}\n\nconst Image = styled.img`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  object-position: center;\n  transition: opacity 0.15s;\n  display: block;\n`\n\nconst ImageContainer = styled.div`\n  position: relative;\n  width: 50%;\n  height: inherit;\n  margin-left: 30px;\n  ${pMedia.md`\n    width: 100%;\n    margin-left: 0;\n    margin-bottom: 10px;\n  `};\n`\n\nexport const ArticleCardContainer = styled.a`\n  display: block;\n  border: 1px solid;\n  border-radius: 2px;\n  color: ${(props: LinkProps) => props.color};\n  cursor: ${(props: LinkProps) => (props.published ? \"pointer\" : \"default\")};\n  text-decoration: none;\n  padding: 30px;\n  display: flex;\n  ${Image} {\n    opacity: ${(props: LinkProps) => (props.published ? \"1\" : \"0.7\")};\n  }\n  &:hover {\n    ${Image} {\n      opacity: 0.7;\n    }\n  }\n  ${ImageContainer} {\n    background: ${(props: LinkProps) =>\n      props.color === \"white\" ? \"black\" : \"white\"};\n  }\n  ${pMedia.md`\n    flex-direction: column-reverse;\n    padding: 20px;\n  `};\n`\n\nconst TextContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  width: 50%;\n  margin-bottom: 5px;\n  ${pMedia.md`\n    width: 100%;\n    margin-bottom: 0;\n  `};\n`\n\nconst Title = styled.div`\n  ${unica(\"s45\")};\n  margin-bottom: 30px;\n  ${pMedia.md`\n    ${unica(\"s32\")}\n  `};\n`\n\nconst SeriesTitle = styled(Sans)`\n  margin-bottom: 10px;\n`\n\nconst Description = styled.div`\n  ${garamond(\"s23\")};\n  ${pMedia.md`\n    ${garamond(\"s19\")}\n    margin-bottom: 20px;\n  `};\n`\n\nconst MediaDate = styled(Sans)`\n  display: flex;\n  align-items: flex-end;\n  span {\n    margin-right: 5px;\n  }\n`\n\nconst Media = styled.div`\n  position: absolute;\n  left: 20px;\n  bottom: 20px;\n  right: 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n`\n\nconst MediaPlay = styled(Media)`\n  svg {\n    width: 40px;\n  }\n  ${pMedia.md`\n    svg {\n      width: 30px;\n    }\n  `};\n`\n\nconst MediaComingSoon = styled(Media)`\n  ${unica(\"s45\")};\n  ${pMedia.md`\n    ${unica(\"s32\")}\n  `};\n`\n"]}]}