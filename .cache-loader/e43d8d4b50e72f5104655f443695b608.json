{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Components/Publishing/RelatedArticles/Canvas/RelatedArticlesCanvas.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/RelatedArticles/Canvas/RelatedArticlesCanvas.tsx","mtime":1537112679000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1537112679000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _once from \"lodash/once\";\nimport _map from \"lodash/map\";\n\nvar _dec, _dec2, _class, _class2;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n      &:first-child {\\n        margin-left: 20px;\\n      }\\n    \"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n      margin: 0 10px;\\n      &:first-child {\\n        margin-left: 40px;\\n      }\\n      &:last-child {\\n        border-right: 20px solid white;\\n      }\\n    \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n    display: block;\\n  \"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    margin-left: 20px;\\n  \"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    margin: 0 20px 30px 40px;\\n  \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nimport { Sans } from \"@artsy/palette\";\nimport { track } from \"../../../../Artsy/Analytics\";\nimport * as Schema from \"../../../../Artsy/Analytics/Schema\";\nimport React from \"react\";\nimport Waypoint from \"react-waypoint\";\nimport styled from \"styled-components\";\nimport { pMedia } from \"../../../Helpers\";\nimport { RelatedArticleCanvasLink } from \"./RelatedArticleCanvasLink\";\nexport var RelatedArticlesCanvas = (_dec = track({\n  // TODO: reevalutate double naming of context/schema\n  context_module: Schema.Context.FurtherReading,\n  subject: Schema.Subject.FurtherReading\n}), _dec2 = track(function () {\n  return {\n    action_type: Schema.ActionType.Impression\n  };\n}), _dec(_class = (_class2 =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(RelatedArticlesCanvas, _React$Component);\n\n  function RelatedArticlesCanvas() {\n    _classCallCheck(this, RelatedArticlesCanvas);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(RelatedArticlesCanvas).apply(this, arguments));\n  }\n\n  _createClass(RelatedArticlesCanvas, [{\n    key: \"trackRelatedImpression\",\n    value: function trackRelatedImpression() {// noop\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          articles = _this$props.articles,\n          isMobile = _this$props.isMobile,\n          vertical = _this$props.vertical;\n      return React.createElement(RelatedArticlesContainer, null, getTitle(vertical), React.createElement(Waypoint, {\n        onEnter: _once(this.trackRelatedImpression.bind(this))\n      }), React.createElement(ArticlesWrapper, {\n        isMobile: isMobile\n      }, _map(articles, function (article, i) {\n        return React.createElement(RelatedArticleCanvasLink, {\n          article: article,\n          key: \"related-article-figure-\".concat(i)\n        });\n      })));\n    }\n  }]);\n\n  return RelatedArticlesCanvas;\n}(React.Component), (_applyDecoratedDescriptor(_class2.prototype, \"trackRelatedImpression\", [_dec2], Object.getOwnPropertyDescriptor(_class2.prototype, \"trackRelatedImpression\"), _class2.prototype)), _class2)) || _class);\n\nvar getTitle = function getTitle(vertical) {\n  if (vertical) {\n    return React.createElement(Title, {\n      size: \"8\"\n    }, \"Further Reading in \", React.createElement(VerticalSpan, null, vertical.name));\n  } else {\n    return React.createElement(Title, {\n      size: \"8\"\n    }, \"More from Artsy Editorial\");\n  }\n};\n\nvar RelatedArticlesContainer = styled.div.withConfig({\n  displayName: \"RelatedArticlesCanvas__RelatedArticlesContainer\",\n  componentId: \"s1ho76zd-0\"\n})([\"display:flex;flex-direction:column;max-width:1250px;margin:40px auto 80px auto;\"]);\nvar Title = styled(Sans).withConfig({\n  displayName: \"RelatedArticlesCanvas__Title\",\n  componentId: \"s1ho76zd-1\"\n})([\"margin-bottom:20px;\", \";\", \";\"], pMedia.xl(_templateObject()), pMedia.sm(_templateObject2()));\nvar VerticalSpan = styled.span.withConfig({\n  displayName: \"RelatedArticlesCanvas__VerticalSpan\",\n  componentId: \"s1ho76zd-2\"\n})([\"\", \";\"], pMedia.sm(_templateObject3()));\nvar ArticlesWrapper = styled.div.attrs({}).withConfig({\n  displayName: \"RelatedArticlesCanvas__ArticlesWrapper\",\n  componentId: \"s1ho76zd-3\"\n})([\"display:flex;justify-content:space-between;overflow-x:scroll;::-webkit-scrollbar{display:none;}a{margin-right:30px;&:last-child{margin-right:0;}\", \" \", \";}\", \";\"], pMedia.xl(_templateObject4()), pMedia.sm(_templateObject5()), function (props) {\n  return props.isMobile && \"-webkit-overflow-scrolling: touch;\";\n});",{"version":3,"sources":["/Users/eve/development/reaction/src/Components/Publishing/RelatedArticles/Canvas/RelatedArticlesCanvas.tsx"],"names":["Sans","track","Schema","React","Waypoint","styled","pMedia","RelatedArticleCanvasLink","RelatedArticlesCanvas","context_module","Context","FurtherReading","subject","Subject","action_type","ActionType","Impression","props","articles","isMobile","vertical","getTitle","trackRelatedImpression","bind","article","i","Component","name","RelatedArticlesContainer","div","Title","xl","sm","VerticalSpan","span","ArticlesWrapper","attrs"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,IAAT,QAAqB,gBAArB;AACA,SAASC,KAAT;AACA,OAAO,KAAKC,MAAZ;AAGA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,MAAT;AACA,SAASC,wBAAT;AAqBA,WAAaC,qBAAb,WALCP,KAAK,CAAC;AACL;AACAQ,EAAAA,cAAc,EAAEP,MAAM,CAACQ,OAAP,CAAeC,cAF1B;AAGLC,EAAAA,OAAO,EAAEV,MAAM,CAACW,OAAP,CAAeF;AAHnB,CAAD,CAKN,UAGGV,KAAK,CAAC;AAAA,SAAO;AAAEa,IAAAA,WAAW,EAAEZ,MAAM,CAACa,UAAP,CAAkBC;AAAjC,GAAP;AAAA,CAAD,CAHR;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,6CAI2B,CACvB;AACD;AANH;AAAA;AAAA,6BAQW;AAAA,wBACkC,KAAKC,KADvC;AAAA,UACCC,QADD,eACCA,QADD;AAAA,UACWC,QADX,eACWA,QADX;AAAA,UACqBC,QADrB,eACqBA,QADrB;AAGP,aACE,oBAAC,wBAAD,QACGC,QAAQ,CAACD,QAAD,CADX,EAEE,oBAAC,QAAD;AAAU,QAAA,OAAO,EAAE,MAAK,KAAKE,sBAAL,CAA4BC,IAA5B,CAAiC,IAAjC,CAAL;AAAnB,QAFF,EAGE,oBAAC,eAAD;AAAiB,QAAA,QAAQ,EAAEJ;AAA3B,SACG,KAAID,QAAJ,EAAc,UAACM,OAAD,EAAUC,CAAV,EAAgB;AAC7B,eACE,oBAAC,wBAAD;AACE,UAAA,OAAO,EAAED,OADX;AAEE,UAAA,GAAG,mCAA4BC,CAA5B;AAFL,UADF;AAMD,OAPA,CADH,CAHF,CADF;AAgBD;AA3BH;;AAAA;AAAA,EAA2CtB,KAAK,CAACuB,SAAjD;;AA8BA,IAAML,QAAQ,GAAG,SAAXA,QAAW,CAAAD,QAAQ,EAAI;AAC3B,MAAIA,QAAJ,EAAc;AACZ,WACE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC;AAAZ,8BACqB,oBAAC,YAAD,QAAeA,QAAQ,CAACO,IAAxB,CADrB,CADF;AAKD,GAND,MAMO;AACL,WAAO,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC;AAAZ,mCAAP;AACD;AACF,CAVD;;AAYA,IAAMC,wBAAwB,GAAGvB,MAAM,CAACwB,GAAV;AAAA;AAAA;AAAA,uFAA9B;AAOA,IAAMC,KAAK,GAAGzB,MAAM,CAACL,IAAD,CAAT;AAAA;AAAA;AAAA,sCAEPM,MAAM,CAACyB,EAFA,qBAKPzB,MAAM,CAAC0B,EALA,qBAAX;AASA,IAAMC,YAAY,GAAG5B,MAAM,CAAC6B,IAAV;AAAA;AAAA;AAAA,cACd5B,MAAM,CAAC0B,EADO,qBAAlB;AAKA,IAAMG,eAAe,GAAG9B,MAAM,CAACwB,GAAP,CAAWO,KAAX,CAA0C,EAA1C,CAAH;AAAA;AAAA;AAAA,yKAYf9B,MAAM,CAACyB,EAZQ,sBAoBZzB,MAAM,CAAC0B,EApBK,sBA0BjB,UAAAf,KAAK;AAAA,SAAIA,KAAK,CAACE,QAAN,IAAkB,oCAAtB;AAAA,CA1BY,CAArB","sourcesContent":["import { Sans } from \"@artsy/palette\"\nimport { track } from \"Artsy/Analytics\"\nimport * as Schema from \"Artsy/Analytics/Schema\"\nimport { RelatedArticleCanvasData } from \"Components/Publishing/Typings\"\nimport { map, once } from \"lodash\"\nimport React from \"react\"\nimport Waypoint from \"react-waypoint\"\nimport styled from \"styled-components\"\nimport { pMedia } from \"../../../Helpers\"\nimport { RelatedArticleCanvasLink } from \"./RelatedArticleCanvasLink\"\n\nexport interface RelatedArticlesCanvasProps\n  extends React.HTMLProps<HTMLDivElement> {\n  vertical?: {\n    name: string\n    id?: string\n  }\n  articles: RelatedArticleCanvasData[]\n  isMobile?: boolean\n}\n\ninterface ScrollingContainerProps {\n  isMobile?: boolean\n}\n\n@track({\n  // TODO: reevalutate double naming of context/schema\n  context_module: Schema.Context.FurtherReading,\n  subject: Schema.Subject.FurtherReading,\n})\nexport class RelatedArticlesCanvas extends React.Component<\n  RelatedArticlesCanvasProps\n> {\n  @track(() => ({ action_type: Schema.ActionType.Impression }))\n  trackRelatedImpression() {\n    // noop\n  }\n\n  render() {\n    const { articles, isMobile, vertical } = this.props\n\n    return (\n      <RelatedArticlesContainer>\n        {getTitle(vertical)}\n        <Waypoint onEnter={once(this.trackRelatedImpression.bind(this))} />\n        <ArticlesWrapper isMobile={isMobile}>\n          {map(articles, (article, i) => {\n            return (\n              <RelatedArticleCanvasLink\n                article={article}\n                key={`related-article-figure-${i}`}\n              />\n            )\n          })}\n        </ArticlesWrapper>\n      </RelatedArticlesContainer>\n    )\n  }\n}\n\nconst getTitle = vertical => {\n  if (vertical) {\n    return (\n      <Title size=\"8\">\n        Further Reading in <VerticalSpan>{vertical.name}</VerticalSpan>\n      </Title>\n    )\n  } else {\n    return <Title size=\"8\">More from Artsy Editorial</Title>\n  }\n}\n\nconst RelatedArticlesContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  max-width: 1250px;\n  margin: 40px auto 80px auto;\n`\n\nconst Title = styled(Sans)`\n  margin-bottom: 20px;\n  ${pMedia.xl`\n    margin: 0 20px 30px 40px;\n  `};\n  ${pMedia.sm`\n    margin-left: 20px;\n  `};\n`\nconst VerticalSpan = styled.span`\n  ${pMedia.sm`\n    display: block;\n  `};\n`\nconst ArticlesWrapper = styled.div.attrs<ScrollingContainerProps>({})`\n  display: flex;\n  justify-content: space-between;\n  overflow-x: scroll;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  a {\n    margin-right: 30px;\n    &:last-child {\n      margin-right: 0;\n    }\n    ${pMedia.xl`\n      margin: 0 10px;\n      &:first-child {\n        margin-left: 40px;\n      }\n      &:last-child {\n        border-right: 20px solid white;\n      }\n    `} ${pMedia.sm`\n      &:first-child {\n        margin-left: 20px;\n      }\n    `};\n  }\n  ${props => props.isMobile && \"-webkit-overflow-scrolling: touch;\"};\n`\n"]}]}