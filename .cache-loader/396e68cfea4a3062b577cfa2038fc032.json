{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Components/Publishing/Sections/FullscreenViewer/FullscreenViewer.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/Sections/FullscreenViewer/FullscreenViewer.tsx","mtime":1532717816000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1537112679000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _map from \"lodash/map\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    display: none;\\n  \"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  position: absolute;\\n  height: 100vh;\\n  top: 0;\\n  box-sizing: border-box;\\n  \", \";\\n  \", \";\\n  \", \" {\\n    z-index: 10;\\n    cursor: pointer;\\n    padding: 60px;\\n  };\\n  \", \";\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport Slider from \"react-slick\";\nimport styled from \"styled-components\";\nimport { pMedia } from \"../../../Helpers\";\nimport Icon from \"../../../Icon\";\nimport { Slide } from \"./Slide\";\nexport var FullscreenViewer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FullscreenViewer, _Component);\n\n  function FullscreenViewer(props) {\n    var _this;\n\n    _classCallCheck(this, FullscreenViewer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FullscreenViewer).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"slider\", void 0);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleKeydown\", function (e) {\n      if (e.keyCode === 27) {\n        _this.close(e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"toggleCaption\", function () {\n      _this.setState({\n        isCaptionOpen: !_this.state.isCaptionOpen\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"close\", function (e) {\n      _this.props.onClose();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderImageComponents\", function () {\n      var images = _this.props.images;\n      return _map(images, function (section, i) {\n        return React.createElement(Slide, {\n          isCaptionOpen: _this.state.isCaptionOpen,\n          section: section,\n          index: i + 1,\n          total: images.length,\n          key: i\n        });\n      });\n    });\n\n    _this.state = {\n      isCaptionOpen: false\n    };\n    return _this;\n  }\n\n  _createClass(FullscreenViewer, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.slider) {\n        this.slider.innerSlider.list.setAttribute(\"tabindex\", 0);\n        this.slider.innerSlider.list.focus();\n      }\n    }\n  }, {\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      return {\n        onToggleCaption: this.toggleCaption\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var sliderSettings = {\n        dots: false,\n        infinite: false,\n        slidesToShow: 1,\n        slidesToScroll: 1,\n        accessibility: true,\n        lazyLoad: true,\n        draggable: true,\n        nextArrow: React.createElement(RightArrow, null),\n        prevArrow: React.createElement(LeftArrow, null),\n        initialSlide: this.props.slideIndex\n      };\n      return React.createElement(\"div\", null, this.props.show && React.createElement(FullscreenViewerContainer, {\n        onKeyDown: this.handleKeydown\n      }, React.createElement(Slider, _extends({}, sliderSettings, {\n        ref: function ref(slider) {\n          return _this2.slider = slider;\n        }\n      }), this.renderImageComponents()), React.createElement(Close, {\n        onClick: this.close\n      }, React.createElement(Icon, {\n        name: \"close\",\n        color: \"gray\",\n        fontSize: \"24px\"\n      }))));\n    }\n  }]);\n\n  return FullscreenViewer;\n}(Component);\n\n_defineProperty(FullscreenViewer, \"childContextTypes\", {\n  onToggleCaption: PropTypes.func\n});\n\nvar LeftArrow = function LeftArrow(props) {\n  return React.createElement(NavArrow, {\n    direction: \"left\",\n    onClick: props.onClick\n  }, React.createElement(Icon, {\n    name: \"chevron-left\",\n    color: \"black\",\n    fontSize: \"24px\"\n  }));\n};\n\nvar RightArrow = function RightArrow(props) {\n  return React.createElement(NavArrow, {\n    direction: \"right\",\n    onClick: props.onClick\n  }, React.createElement(Icon, {\n    name: \"chevron-right\",\n    color: \"black\",\n    fontSize: \"24px\"\n  }));\n};\n\nexport var FullscreenViewerContainer = styled.div.withConfig({\n  displayName: \"FullscreenViewer__FullscreenViewerContainer\",\n  componentId: \"wa7mcn-0\"\n})([\"width:100vw;height:100vh;overflow:hidden;position:fixed;z-index:1070;top:0;left:0;background-color:white;\"]);\nvar Close = styled.div.withConfig({\n  displayName: \"FullscreenViewer__Close\",\n  componentId: \"wa7mcn-1\"\n})([\"position:absolute;right:0;top:0;margin:20px;cursor:pointer;\"]);\nvar div = styled.div;\nvar NavArrow = div(_templateObject(), function (props) {\n  return props.direction === \"left\" ? \"left: 0px;\" : \"\";\n}, function (props) {\n  return props.direction === \"right\" ? \"right: 0px;\" : \"\";\n}, Icon, pMedia.sm(_templateObject2()));",{"version":3,"sources":["/Users/eve/development/reaction/src/Components/Publishing/Sections/FullscreenViewer/FullscreenViewer.tsx"],"names":["PropTypes","React","Component","Slider","styled","pMedia","Icon","Slide","FullscreenViewer","props","e","keyCode","close","setState","isCaptionOpen","state","onClose","images","section","i","length","slider","innerSlider","list","setAttribute","focus","onToggleCaption","toggleCaption","sliderSettings","dots","infinite","slidesToShow","slidesToScroll","accessibility","lazyLoad","draggable","nextArrow","prevArrow","initialSlide","slideIndex","show","handleKeydown","renderImageComponents","func","LeftArrow","onClick","RightArrow","FullscreenViewerContainer","div","Close","NavArrow","direction","sm"],"mappings":"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","sourcesContent":["import { map } from \"lodash\"\nimport PropTypes from \"prop-types\"\nimport React, { Component, HTMLProps } from \"react\"\nimport Slider from \"react-slick\"\nimport styled, { StyledFunction } from \"styled-components\"\nimport { pMedia } from \"../../../Helpers\"\nimport Icon from \"../../../Icon\"\nimport { Slide } from \"./Slide\"\n\ninterface FullscreenViewerProps extends HTMLProps<HTMLDivElement> {\n  images: any\n  show: boolean\n  onClose: () => void\n  slideIndex?: number\n}\n\ninterface FullscreenViewerState {\n  isCaptionOpen: boolean\n}\n\nexport class FullscreenViewer extends Component<\n  FullscreenViewerProps,\n  FullscreenViewerState\n> {\n  static childContextTypes = {\n    onToggleCaption: PropTypes.func,\n  }\n\n  private slider: any\n\n  constructor(props) {\n    super(props)\n    this.state = { isCaptionOpen: false }\n  }\n\n  componentDidUpdate() {\n    if (this.slider) {\n      this.slider.innerSlider.list.setAttribute(\"tabindex\", 0)\n      this.slider.innerSlider.list.focus()\n    }\n  }\n\n  handleKeydown = e => {\n    if (e.keyCode === 27) {\n      this.close(e)\n    }\n  }\n\n  getChildContext() {\n    return { onToggleCaption: this.toggleCaption }\n  }\n\n  toggleCaption = () => {\n    this.setState({ isCaptionOpen: !this.state.isCaptionOpen })\n  }\n\n  close = e => {\n    this.props.onClose()\n  }\n\n  renderImageComponents = () => {\n    const images = this.props.images\n    return map(images, (section, i) => {\n      return (\n        <Slide\n          isCaptionOpen={this.state.isCaptionOpen}\n          section={section}\n          index={i + 1}\n          total={images.length}\n          key={i}\n        />\n      )\n    })\n  }\n\n  render() {\n    const sliderSettings = {\n      dots: false,\n      infinite: false,\n      slidesToShow: 1,\n      slidesToScroll: 1,\n      accessibility: true,\n      lazyLoad: true,\n      draggable: true,\n      nextArrow: <RightArrow />,\n      prevArrow: <LeftArrow />,\n      initialSlide: this.props.slideIndex,\n    }\n    return (\n      <div>\n        {this.props.show && (\n          <FullscreenViewerContainer onKeyDown={this.handleKeydown}>\n            <Slider {...sliderSettings} ref={slider => (this.slider = slider)}>\n              {this.renderImageComponents()}\n            </Slider>\n            <Close onClick={this.close}>\n              <Icon name=\"close\" color=\"gray\" fontSize=\"24px\" />\n            </Close>\n          </FullscreenViewerContainer>\n        )}\n      </div>\n    )\n  }\n}\n\nconst LeftArrow = props => {\n  return (\n    <NavArrow direction=\"left\" onClick={props.onClick}>\n      <Icon name=\"chevron-left\" color=\"black\" fontSize=\"24px\" />\n    </NavArrow>\n  )\n}\n\nconst RightArrow = props => {\n  return (\n    <NavArrow direction=\"right\" onClick={props.onClick}>\n      <Icon name=\"chevron-right\" color=\"black\" fontSize=\"24px\" />\n    </NavArrow>\n  )\n}\n\nexport const FullscreenViewerContainer = styled.div`\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden;\n  position: fixed;\n  z-index: 1070;\n  top: 0;\n  left: 0;\n  background-color: white;\n`\nconst Close = styled.div`\n  position: absolute;\n  right: 0;\n  top: 0;\n  margin: 20px;\n  cursor: pointer;\n`\ninterface NavArrowProps extends React.HTMLProps<HTMLDivElement> {\n  direction: string\n}\nconst div: StyledFunction<NavArrowProps> = styled.div\nconst NavArrow = div`\n  display: flex;\n  align-items: center;\n  position: absolute;\n  height: 100vh;\n  top: 0;\n  box-sizing: border-box;\n  ${props => (props.direction === \"left\" ? \"left: 0px;\" : \"\")};\n  ${props => (props.direction === \"right\" ? \"right: 0px;\" : \"\")};\n  ${Icon} {\n    z-index: 10;\n    cursor: pointer;\n    padding: 60px;\n  };\n  ${pMedia.sm`\n    display: none;\n  `};\n`\n"]}]}