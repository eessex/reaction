{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--5-1!/Users/eve/development/reaction/src/Components/Publishing/Sections/FullscreenViewer/FullScreenProvider.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/Sections/FullscreenViewer/FullScreenProvider.tsx","mtime":1519658991000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1527877289000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FullScreenProvider = void 0;\n\nvar _lodash = require(\"lodash\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = require(\"react\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nvar FullScreenProvider =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FullScreenProvider, _Component);\n\n  function FullScreenProvider() {\n    var _ref;\n\n    var _temp, _this;\n\n    _classCallCheck(this, FullScreenProvider);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _possibleConstructorReturn(_this, (_temp = _this = _possibleConstructorReturn(this, (_ref = FullScreenProvider.__proto__ || Object.getPrototypeOf(FullScreenProvider)).call.apply(_ref, [this].concat(args))), Object.defineProperty(_assertThisInitialized(_this), \"state\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: {\n        slideIndex: 0,\n        viewerIsOpen: false\n      }\n    }), Object.defineProperty(_assertThisInitialized(_this), \"openViewer\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value(index) {\n        var body = document.getElementsByTagName(\"BODY\")[0];\n        body.setAttribute(\"style\", \"overflow: hidden;\");\n\n        _this.setState({\n          viewerIsOpen: true,\n          slideIndex: index\n        });\n      }\n    }), Object.defineProperty(_assertThisInitialized(_this), \"closeViewer\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value() {\n        var body = document.getElementsByTagName(\"BODY\")[0];\n        body.setAttribute(\"style\", \"overflow: scroll;\");\n\n        _this.setState({\n          viewerIsOpen: false,\n          slideIndex: 0 // go to beginning on close\n\n        });\n      }\n    }), _temp));\n  }\n\n  _createClass(FullScreenProvider, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      return {\n        closeViewer: this.closeViewer,\n        onViewFullscreen: this.openViewer,\n        openViewer: this.openViewer,\n        slideIndex: this.state.slideIndex,\n        viewerIsOpen: this.state.viewerIsOpen\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      var _state = this.state,\n          slideIndex = _state.slideIndex,\n          viewerIsOpen = _state.viewerIsOpen;\n\n      if ((0, _lodash.isFunction)(children)) {\n        return children({\n          closeViewer: this.closeViewer,\n          onViewFullscreen: this.openViewer,\n          openViewer: this.openViewer,\n          slideIndex: slideIndex,\n          viewerIsOpen: viewerIsOpen\n        });\n      } else {\n        return children;\n      }\n    }\n  }]);\n\n  return FullScreenProvider;\n}(_react.Component);\n\nexports.FullScreenProvider = FullScreenProvider;\nObject.defineProperty(FullScreenProvider, \"childContextTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    closeViewer: _propTypes.default.func.isRequired,\n    onViewFullscreen: _propTypes.default.func.isRequired,\n    openViewer: _propTypes.default.func.isRequired,\n    slideIndex: _propTypes.default.number.isRequired,\n    viewerIsOpen: _propTypes.default.bool.isRequired\n  }\n});",{"version":3,"sources":["src/Components/Publishing/Sections/FullscreenViewer/FullScreenProvider.tsx"],"names":["FullScreenProvider","slideIndex","viewerIsOpen","body","document","getElementsByTagName","setAttribute","setState","index","closeViewer","onViewFullscreen","openViewer","state","children","props","func","isRequired","number","bool"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;;;;;;;;;IAWaA,kB;;;;;;;;;;;;;;;;;;;;aACH;AACNC,oBAAY,CADN;AAENC,sBAAc;AAFR;;;;;aAuBK,sBAAS;AACpB,YAAMC,OAAOC,SAASC,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAb;AACAF,aAAKG,YAAL,CAAkB,OAAlB,EAA2B,mBAA3B;;AAEA,cAAKC,QAAL,CAAc;AACZL,wBAAc,IADF;AAEZD,sBAAYO;AAFA,SAAd;AAID;;;;;aAEa,iBAAM;AAClB,YAAML,OAAOC,SAASC,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAb;AACAF,aAAKG,YAAL,CAAkB,OAAlB,EAA2B,mBAA3B;;AAEA,cAAKC,QAAL,CAAc;AACZL,wBAAc,KADF;AAEZD,sBAAY,CAFA,CAEG;;AAFH,SAAd;AAID;;;;;;sCA5BiB;AAChB,aAAO;AACLQ,qBAAa,KAAKA,WADb;AAELC,0BAAkB,KAAKC,UAFlB;AAGLA,oBAAY,KAAKA,UAHZ;AAILV,oBAAY,KAAKW,KAAL,CAAWX,UAJlB;AAKLC,sBAAc,KAAKU,KAAL,CAAWV;AALpB,OAAP;AAOD;;;6BAsBQ;AAAA,UACCW,QADD,GACc,KAAKC,KADnB,CACCD,QADD;AAAA,mBAE8B,KAAKD,KAFnC;AAAA,UAECX,UAFD,UAECA,UAFD;AAAA,UAEaC,YAFb,UAEaA,YAFb;;AAIP,UAAI,wBAAWW,QAAX,CAAJ,EAA0B;AACxB,eAAOA,SAAS;AACdJ,uBAAa,KAAKA,WADJ;AAEdC,4BAAkB,KAAKC,UAFT;AAGdA,sBAAY,KAAKA,UAHH;AAIdV,gCAJc;AAKdC;AALc,SAAT,CAAP;AAOD,OARD,MAQO;AACL,eAAOW,QAAP;AACD;AACF;;;;;;;sBA3DUb,kB;;;;SAMgB;AACzBS,iBAAa,mBAAUM,IAAV,CAAeC,UADH;AAEzBN,sBAAkB,mBAAUK,IAAV,CAAeC,UAFR;AAGzBL,gBAAY,mBAAUI,IAAV,CAAeC,UAHF;AAIzBf,gBAAY,mBAAUgB,MAAV,CAAiBD,UAJJ;AAKzBd,kBAAc,mBAAUgB,IAAV,CAAeF;AALJ","file":"/Users/eve/development/reaction/src/Components/Publishing/Sections/FullscreenViewer/FullScreenProvider.tsx","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import { isFunction } from \"lodash\"\nimport PropTypes from \"prop-types\"\nimport { Component } from \"react\"\n\ninterface Props {\n  children: any\n}\n\ninterface State {\n  viewerIsOpen: boolean\n  slideIndex: number\n}\n\nexport class FullScreenProvider extends Component<Props, State> {\n  state = {\n    slideIndex: 0,\n    viewerIsOpen: false,\n  }\n\n  static childContextTypes = {\n    closeViewer: PropTypes.func.isRequired,\n    onViewFullscreen: PropTypes.func.isRequired,\n    openViewer: PropTypes.func.isRequired,\n    slideIndex: PropTypes.number.isRequired,\n    viewerIsOpen: PropTypes.bool.isRequired,\n  }\n\n  getChildContext() {\n    return {\n      closeViewer: this.closeViewer,\n      onViewFullscreen: this.openViewer,\n      openViewer: this.openViewer,\n      slideIndex: this.state.slideIndex,\n      viewerIsOpen: this.state.viewerIsOpen,\n    }\n  }\n\n  openViewer = index => {\n    const body = document.getElementsByTagName(\"BODY\")[0]\n    body.setAttribute(\"style\", \"overflow: hidden;\")\n\n    this.setState({\n      viewerIsOpen: true,\n      slideIndex: index,\n    })\n  }\n\n  closeViewer = () => {\n    const body = document.getElementsByTagName(\"BODY\")[0]\n    body.setAttribute(\"style\", \"overflow: scroll;\")\n\n    this.setState({\n      viewerIsOpen: false,\n      slideIndex: 0, // go to beginning on close\n    })\n  }\n\n  render() {\n    const { children } = this.props\n    const { slideIndex, viewerIsOpen } = this.state\n\n    if (isFunction(children)) {\n      return children({\n        closeViewer: this.closeViewer,\n        onViewFullscreen: this.openViewer,\n        openViewer: this.openViewer,\n        slideIndex,\n        viewerIsOpen,\n      })\n    } else {\n      return children\n    }\n  }\n}\n"]}]}