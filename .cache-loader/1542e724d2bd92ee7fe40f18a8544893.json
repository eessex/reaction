{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Components/Artwork/Contact.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Artwork/Contact.tsx","mtime":1537275186000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1537112679000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React from \"react\";\nimport { createFragmentContainer, graphql } from \"react-relay\";\nimport TextLink from \"../TextLink\";\nexport var Contact =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Contact, _React$Component);\n\n  function Contact() {\n    _classCallCheck(this, Contact);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Contact).apply(this, arguments));\n  }\n\n  _createClass(Contact, [{\n    key: \"contactLine\",\n    value: function contactLine() {\n      var artwork = this.props.artwork;\n\n      if (artwork.sale && artwork.sale.is_auction) {\n        return this.auctionLine();\n      } else if (artwork.is_inquireable) {\n        return this.contactPartnerLine();\n      }\n    }\n  }, {\n    key: \"auctionLine\",\n    value: function auctionLine() {\n      var artwork = this.props.artwork;\n\n      if (artwork.sale.is_live_open) {\n        return React.createElement(TextLink, {\n          href: artwork.href,\n          underline: true\n        }, \"Enter Live Auction\");\n      } else if (artwork.sale.is_open) {\n        var sa = artwork.sale_artwork;\n        var bids = sa && sa.counts && sa.counts.bidder_positions;\n\n        if (bids && bids > 0) {\n          var s = bids > 1 ? \"s\" : \"\";\n          return React.createElement(\"span\", null, sa.highest_bid.display, \" (\", bids, \" bid\", s, \")\");\n        } else {\n          return React.createElement(\"span\", null, sa.opening_bid.display);\n        }\n      } else if (artwork.sale.is_closed) {\n        return React.createElement(\"span\", null, \"Auction closed\");\n      } else {\n        return React.createElement(\"span\", null);\n      }\n    }\n  }, {\n    key: \"contactPartnerLine\",\n    value: function contactPartnerLine() {\n      var partner = this.props.artwork.partner && this.props.artwork.partner.type.toLocaleLowerCase();\n      return React.createElement(TextLink, {\n        href: this.props.artwork.href,\n        underline: true\n      }, \"Contact \", partner);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", null, this.contactLine());\n    }\n  }]);\n\n  return Contact;\n}(React.Component);\nexport default createFragmentContainer(Contact, {\n  artwork: function artwork() {\n    var node = require(\"../../__generated__/Contact_artwork.graphql\");\n\n    if (node.hash && node.hash !== \"15c2a7973aeb8fd0202f593635e2bbf2\") {\n      console.error(\"The definition of 'Contact_artwork' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\");\n    }\n\n    return require(\"../../__generated__/Contact_artwork.graphql\");\n  }\n});",{"version":3,"sources":["/Users/eve/development/reaction/src/Components/Artwork/Contact.tsx"],"names":["React","createFragmentContainer","graphql","TextLink","Contact","artwork","props","sale","is_auction","auctionLine","is_inquireable","contactPartnerLine","is_live_open","href","is_open","sa","sale_artwork","bids","counts","bidder_positions","s","highest_bid","display","opening_bid","is_closed","partner","type","toLocaleLowerCase","contactLine","Component"],"mappings":";;;;;;;;;;;;;;;;;;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,uBAAT,EAAkCC,OAAlC,QAAiD,aAAjD;AACA,OAAOC,QAAP;AAMA,WAAaC,OAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCACgB;AAAA,UACJC,OADI,GACQ,KAAKC,KADb,CACJD,OADI;;AAEZ,UAAIA,OAAO,CAACE,IAAR,IAAgBF,OAAO,CAACE,IAAR,CAAaC,UAAjC,EAA6C;AAC3C,eAAO,KAAKC,WAAL,EAAP;AACD,OAFD,MAEO,IAAIJ,OAAO,CAACK,cAAZ,EAA4B;AACjC,eAAO,KAAKC,kBAAL,EAAP;AACD;AACF;AARH;AAAA;AAAA,kCAUgB;AAAA,UACJN,OADI,GACQ,KAAKC,KADb,CACJD,OADI;;AAEZ,UAAIA,OAAO,CAACE,IAAR,CAAaK,YAAjB,EAA+B;AAC7B,eACE,oBAAC,QAAD;AAAU,UAAA,IAAI,EAAEP,OAAO,CAACQ,IAAxB;AAA8B,UAAA,SAAS;AAAvC,gCADF;AAKD,OAND,MAMO,IAAIR,OAAO,CAACE,IAAR,CAAaO,OAAjB,EAA0B;AAC/B,YAAMC,EAAE,GAAGV,OAAO,CAACW,YAAnB;AACA,YAAMC,IAAI,GAAGF,EAAE,IAAIA,EAAE,CAACG,MAAT,IAAmBH,EAAE,CAACG,MAAH,CAAUC,gBAA1C;;AACA,YAAIF,IAAI,IAAIA,IAAI,GAAG,CAAnB,EAAsB;AACpB,cAAMG,CAAC,GAAGH,IAAI,GAAG,CAAP,GAAW,GAAX,GAAiB,EAA3B;AACA,iBACE,kCACGF,EAAE,CAACM,WAAH,CAAeC,OADlB,QAC6BL,IAD7B,UACuCG,CADvC,MADF;AAKD,SAPD,MAOO;AACL,iBAAO,kCAAOL,EAAE,CAACQ,WAAH,CAAeD,OAAtB,CAAP;AACD;AACF,OAbM,MAaA,IAAIjB,OAAO,CAACE,IAAR,CAAaiB,SAAjB,EAA4B;AACjC,eAAO,mDAAP;AACD,OAFM,MAEA;AACL,eAAO,iCAAP;AACD;AACF;AApCH;AAAA;AAAA,yCAsCuB;AACnB,UAAMC,OAAO,GACX,KAAKnB,KAAL,CAAWD,OAAX,CAAmBoB,OAAnB,IACA,KAAKnB,KAAL,CAAWD,OAAX,CAAmBoB,OAAnB,CAA2BC,IAA3B,CAAgCC,iBAAhC,EAFF;AAIA,aACE,oBAAC,QAAD;AAAU,QAAA,IAAI,EAAE,KAAKrB,KAAL,CAAWD,OAAX,CAAmBQ,IAAnC;AAAyC,QAAA,SAAS;AAAlD,qBACWY,OADX,CADF;AAKD;AAhDH;AAAA;AAAA,6BAkDW;AACP,aAAO,iCAAM,KAAKG,WAAL,EAAN,CAAP;AACD;AApDH;;AAAA;AAAA,EAA6B5B,KAAK,CAAC6B,SAAnC;AAuDA,eAAe5B,uBAAuB,CACpCG,OADoC;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,EAAtC","sourcesContent":["import { Contact_artwork } from \"__generated__/Contact_artwork.graphql\"\nimport React from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport TextLink from \"../TextLink\"\n\nexport interface ContactProps extends React.HTMLProps<Contact> {\n  artwork: Contact_artwork\n}\n\nexport class Contact extends React.Component<ContactProps, null> {\n  contactLine() {\n    const { artwork } = this.props\n    if (artwork.sale && artwork.sale.is_auction) {\n      return this.auctionLine()\n    } else if (artwork.is_inquireable) {\n      return this.contactPartnerLine()\n    }\n  }\n\n  auctionLine() {\n    const { artwork } = this.props\n    if (artwork.sale.is_live_open) {\n      return (\n        <TextLink href={artwork.href} underline>\n          Enter Live Auction\n        </TextLink>\n      )\n    } else if (artwork.sale.is_open) {\n      const sa = artwork.sale_artwork\n      const bids = sa && sa.counts && sa.counts.bidder_positions\n      if (bids && bids > 0) {\n        const s = bids > 1 ? \"s\" : \"\"\n        return (\n          <span>\n            {sa.highest_bid.display} ({bids} bid{s})\n          </span>\n        )\n      } else {\n        return <span>{sa.opening_bid.display}</span>\n      }\n    } else if (artwork.sale.is_closed) {\n      return <span>Auction closed</span>\n    } else {\n      return <span />\n    }\n  }\n\n  contactPartnerLine() {\n    const partner =\n      this.props.artwork.partner &&\n      this.props.artwork.partner.type.toLocaleLowerCase()\n\n    return (\n      <TextLink href={this.props.artwork.href} underline>\n        Contact {partner}\n      </TextLink>\n    )\n  }\n\n  render() {\n    return <div>{this.contactLine()}</div>\n  }\n}\n\nexport default createFragmentContainer(\n  Contact,\n  graphql`\n    fragment Contact_artwork on Artwork {\n      _id\n      href\n      is_inquireable\n      sale {\n        is_auction\n        is_live_open\n        is_open\n        is_closed\n      }\n      partner(shallow: true) {\n        type\n      }\n      sale_artwork {\n        highest_bid {\n          display\n        }\n        opening_bid {\n          display\n        }\n        counts {\n          bidder_positions\n        }\n      }\n    }\n  `\n)\n"]}]}