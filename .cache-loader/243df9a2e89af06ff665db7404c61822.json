{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Apps/Order/Components/Summary.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Apps/Order/Components/Summary.tsx","mtime":1534252031000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1532461619000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SummaryFragmentContainer = void 0;\n\nvar _palette = require(\"@artsy/palette\");\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactRelay = require(\"react-relay\");\n\nvar _Spacer = require(\"../../../Styleguide/Elements/Spacer\");\n\nvar _Placeholder = require(\"../../../Styleguide/Utils/Placeholder\");\n\nvar _state = require(\"../../../Router/state\");\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _unstated = require(\"unstated\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Summary =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Summary, _Component);\n\n  function Summary() {\n    _classCallCheck(this, Summary);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Summary).apply(this, arguments));\n  }\n\n  _createClass(Summary, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var lineItems = this.props.order.lineItems;\n      var initialLineItem = lineItems && lineItems.edges && lineItems.edges[0];\n      var artworkId = initialLineItem ? initialLineItem.node.artwork.id : null;\n      return _react.default.createElement(_unstated.Subscribe, {\n        to: [_state.AppState]\n      }, function (_ref) {\n        var state = _ref.state;\n        var mediator = state.mediator;\n        return _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_Placeholder.Placeholder, {\n          height: \"390px\",\n          name: \"Sidebar\"\n        }), _this.props.children, _react.default.createElement(Helper, {\n          mediator: mediator,\n          artworkId: artworkId\n        }));\n      });\n    }\n  }]);\n\n  return Summary;\n}(_react.Component);\n\nvar Link = _styledComponents.default.a.withConfig({\n  displayName: \"Summary__Link\",\n  componentId: \"s1g0c6b2-0\"\n})([\"text-decoration:underline;\"]);\n\nvar Helper = function Helper(_ref2) {\n  var mediator = _ref2.mediator,\n      artworkId = _ref2.artworkId;\n  return _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_Spacer.Spacer, {\n    mt: 2,\n    mb: 2\n  }), _react.default.createElement(_palette.Sans, {\n    size: \"2\",\n    color: \"black60\"\n  }, \"Have a question?\", \" \", _react.default.createElement(Link, {\n    onClick: function onClick() {\n      mediator && mediator.trigger(\"openOrdersBuyerFAQModal\");\n    }\n  }, \"Read our FAQ\"), \" \", \"or\", \" \", _react.default.createElement(Link, {\n    onClick: function onClick() {\n      return mediator && mediator.trigger(\"openOrdersContactArtsyModal\", {\n        artworkId: artworkId\n      });\n    }\n  }, \"ask an Artsy Specialist\"), \".\"));\n};\n\nvar SummaryFragmentContainer = (0, _reactRelay.createFragmentContainer)(Summary, {\n  order: function order() {\n    var node = require(\"../../../__generated__/Summary_order.graphql\");\n\n    if (node.hash && node.hash !== \"7f65c18384a5ea9e12796d2fb0284f65\") {\n      console.error(\"The definition of 'Summary_order' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\");\n    }\n\n    return require(\"../../../__generated__/Summary_order.graphql\");\n  }\n});\nexports.SummaryFragmentContainer = SummaryFragmentContainer;",{"version":3,"sources":["src/Apps/Order/Components/Summary.tsx"],"names":["Summary","lineItems","props","order","initialLineItem","edges","artworkId","node","artwork","id","AppState","state","mediator","children","Component","Link","styled","a","Helper","trigger","SummaryFragmentContainer"],"mappings":";;;;;;;AAAA;;AAEA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;IAWMA,O;;;;;;;;;;;;;6BACK;AAAA;;AAAA,UAEIC,SAFJ,GAGH,KAAKC,KAHF,CAELC,KAFK,CAEIF,SAFJ;AAKP,UAAMG,kBAAkBH,aAAaA,UAAUI,KAAvB,IAAgCJ,UAAUI,KAAV,CAAgB,CAAhB,CAAxD;AACA,UAAMC,YAAYF,kBAAkBA,gBAAgBG,IAAhB,CAAqBC,OAArB,CAA6BC,EAA/C,GAAoD,IAAtE;AAEA,aACE,6BAAC,mBAAD;AAAW,YAAI,CAACC,eAAD;AAAf,SACG,gBAAe;AAAA,YAAZC,KAAY,QAAZA,KAAY;AAAA,YACNC,QADM,GACOD,KADP,CACNC,QADM;AAGd,eACE,4DACE,6BAAC,wBAAD;AAAa,kBAAO,OAApB;AAA4B,gBAAK;AAAjC,UADF,EAEG,MAAKV,KAAL,CAAWW,QAFd,EAGE,6BAAC,MAAD;AAAQ,oBAAUD,QAAlB;AAA4B,qBAAWN;AAAvC,UAHF,CADF;AAOD,OAXH,CADF;AAeD;;;;EAxBmBQ,gB;;AA2BtB,IAAMC,OAAOC,0BAAOC,CAAd;AAAA;AAAA;AAAA,kCAAN;;AASA,IAAMC,SAAiC,SAAjCA,MAAiC;AAAA,MAAGN,QAAH,SAAGA,QAAH;AAAA,MAAaN,SAAb,SAAaA,SAAb;AAAA,SACrC,4DACE,6BAAC,cAAD;AAAQ,QAAI,CAAZ;AAAe,QAAI;AAAnB,IADF,EAEE,6BAAC,aAAD;AAAM,UAAK,GAAX;AAAe,WAAM;AAArB,yBACmB,GADnB,EAEE,6BAAC,IAAD;AACE,aAAS,mBAAM;AACbM,kBAAYA,SAASO,OAAT,CAAiB,yBAAjB,CAAZ;AACD;AAHH,oBAFF,EAQU,GARV,QASK,GATL,EAUE,6BAAC,IAAD;AACE,aAAS;AAAA,aACPP,YACAA,SAASO,OAAT,CAAiB,6BAAjB,EAAgD;AAC9Cb;AAD8C,OAAhD,CAFO;AAAA;AADX,+BAVF,MAFF,CADqC;AAAA,CAAvC;;AA2BO,IAAMc,2BAA2B,yCACtCpB,OADsC;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,EAAjC","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import { Sans } from \"@artsy/palette\"\nimport { Summary_order } from \"__generated__/Summary_order.graphql\"\nimport React, { Component } from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport { Spacer } from \"Styleguide/Elements/Spacer\"\nimport { Placeholder } from \"Styleguide/Utils/Placeholder\"\n\nimport { AppState } from \"Router/state\"\nimport styled from \"styled-components\"\nimport { Subscribe } from \"unstated\"\n\ntype Mediator = {\n  trigger: (action: string, config?: object) => void\n}\n\ninterface SummaryProps {\n  order: Summary_order\n  mediator?: Mediator\n}\n\nclass Summary extends Component<SummaryProps> {\n  render() {\n    const {\n      order: { lineItems },\n    } = this.props\n\n    const initialLineItem = lineItems && lineItems.edges && lineItems.edges[0]\n    const artworkId = initialLineItem ? initialLineItem.node.artwork.id : null\n\n    return (\n      <Subscribe to={[AppState]}>\n        {({ state }) => {\n          const { mediator } = state\n\n          return (\n            <>\n              <Placeholder height=\"390px\" name=\"Sidebar\" />\n              {this.props.children}\n              <Helper mediator={mediator} artworkId={artworkId} />\n            </>\n          )\n        }}\n      </Subscribe>\n    )\n  }\n}\n\nconst Link = styled.a`\n  text-decoration: underline;\n`\n\ninterface HelperProps {\n  artworkId: string | null\n  mediator?: Mediator\n}\n\nconst Helper: React.SFC<HelperProps> = ({ mediator, artworkId }) => (\n  <>\n    <Spacer mt={2} mb={2} />\n    <Sans size=\"2\" color=\"black60\">\n      Have a question?{\" \"}\n      <Link\n        onClick={() => {\n          mediator && mediator.trigger(\"openOrdersBuyerFAQModal\")\n        }}\n      >\n        Read our FAQ\n      </Link>{\" \"}\n      or{\" \"}\n      <Link\n        onClick={() =>\n          mediator &&\n          mediator.trigger(\"openOrdersContactArtsyModal\", {\n            artworkId,\n          })\n        }\n      >\n        ask an Artsy Specialist\n      </Link>.\n    </Sans>\n  </>\n)\n\nexport const SummaryFragmentContainer = createFragmentContainer(\n  Summary,\n  graphql`\n    fragment Summary_order on Order {\n      lineItems {\n        edges {\n          node {\n            artwork {\n              id\n            }\n          }\n        }\n      }\n    }\n  `\n)\n"]}]}