{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Components/Onboarding/Steps/CollectorIntent.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Onboarding/Steps/CollectorIntent.tsx","mtime":1535727457000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1537112679000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["var _graphql;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    width: 100%;\\n    margin-bottom: 20px;\\n  \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nimport React from \"react\";\nimport { commitMutation, graphql } from \"react-relay\";\nimport styled from \"styled-components\";\nimport { withContext } from \"../../../Artsy/SystemContext\";\nimport Colors from \"../../../Assets/Colors\";\nimport { MultiButtonState } from \"../../Buttons/MultiStateButton\";\nimport { media } from \"../../Helpers\";\nimport SelectableToggle from \"../SelectableToggle\";\nimport { Layout } from \"./Layout\";\nvar OptionsContainer = styled.div.withConfig({\n  displayName: \"CollectorIntent__OptionsContainer\",\n  componentId: \"s2y2pg2-0\"\n})([\"width:450px;margin:0 auto 100px;&:last-child{border-bottom:1px solid \", \";}\", \";\"], Colors.grayRegular, media.sm(_templateObject()));\nexport var CollectorIntentComponent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CollectorIntentComponent, _React$Component);\n\n  function CollectorIntentComponent(props) {\n    var _this;\n\n    _classCallCheck(this, CollectorIntentComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CollectorIntentComponent).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onOptionSelected\", function (index) {\n      var selectedOptions = Object.assign({}, _this.state.selectedOptions);\n      selectedOptions[index] = !selectedOptions[index];\n\n      _this.setState({\n        selectedOptions: selectedOptions\n      });\n    });\n\n    _this.state = {\n      selectedOptions: {}\n    };\n    return _this;\n  }\n\n  _createClass(CollectorIntentComponent, [{\n    key: \"selectedIntents\",\n    value: function selectedIntents() {\n      var _this2 = this;\n\n      var intents = Object.values(CollectorIntentComponent.intentEnum).filter(function (_, index) {\n        return _this2.state.selectedOptions[index];\n      });\n      return intents;\n    }\n  }, {\n    key: \"submit\",\n    value: function submit() {\n      commitMutation(this.props.relayEnvironment, {\n        mutation: _graphql || (_graphql = function _graphql() {\n          var node = require(\"../../../__generated__/CollectorIntentUpdateCollectorProfileMutation.graphql\");\n\n          if (node.hash && node.hash !== \"7587732c7a2cfaaf18f92a3330980598\") {\n            console.error(\"The definition of 'CollectorIntentUpdateCollectorProfileMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\");\n          }\n\n          return require(\"../../../__generated__/CollectorIntentUpdateCollectorProfileMutation.graphql\");\n        }),\n        variables: {\n          input: {\n            intents: this.selectedIntents()\n          }\n        }\n      });\n      this.props.onNextButtonPressed();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var options = Object.keys(CollectorIntentComponent.intentEnum).map(function (text, index) {\n        return React.createElement(SelectableToggle, {\n          key: index,\n          text: text,\n          onSelect: _this3.onOptionSelected.bind(_this3, index),\n          selected: _this3.state.selectedOptions[index]\n        });\n      });\n      return React.createElement(Layout, {\n        title: \"How would you like to use Artsy?\",\n        subtitle: \"Select all that apply\",\n        onNextButtonPressed: this.submit.bind(this),\n        buttonState: this.selectedIntents().length > 0 ? MultiButtonState.Highlighted : MultiButtonState.Default\n      }, React.createElement(OptionsContainer, null, options));\n    }\n  }]);\n\n  return CollectorIntentComponent;\n}(React.Component);\n\n_defineProperty(CollectorIntentComponent, \"slug\", \"interests\");\n\n_defineProperty(CollectorIntentComponent, \"intentEnum\", {\n  \"buy art & design\": \"BUY_ART_AND_DESIGN\",\n  \"sell art & design\": \"SELL_ART_AND_DESIGN\",\n  \"research art prices\": \"RESEARCH_ART_PRICES\",\n  \"learn about art\": \"LEARN_ABOUT_ART\",\n  \"find out about new exhibitions\": \"FIND_ART_EXHIBITS\",\n  \"read art market news\": \"READ_ART_MARKET_NEWS\"\n});\n\nvar CollectorIntent = withContext(CollectorIntentComponent); // tslint:disable:no-string-literal\n\nCollectorIntent[\"slug\"] = CollectorIntentComponent.slug;\nexport default CollectorIntent;",{"version":3,"sources":["/Users/eve/development/reaction/src/Components/Onboarding/Steps/CollectorIntent.tsx"],"names":["React","commitMutation","graphql","styled","withContext","Colors","MultiButtonState","media","SelectableToggle","Layout","OptionsContainer","div","grayRegular","sm","CollectorIntentComponent","props","index","selectedOptions","Object","assign","state","setState","intents","values","intentEnum","filter","_","relayEnvironment","mutation","variables","input","selectedIntents","onNextButtonPressed","options","keys","map","text","onOptionSelected","bind","submit","length","Highlighted","Default","Component","CollectorIntent","slug"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { commitMutation, graphql } from \"react-relay\"\nimport styled from \"styled-components\"\n\nimport {\n  CollectorIntentUpdateCollectorProfileMutation,\n  Intents,\n} from \"__generated__/CollectorIntentUpdateCollectorProfileMutation.graphql\"\nimport { ContextProps, withContext } from \"Artsy/SystemContext\"\nimport Colors from \"../../../Assets/Colors\"\nimport { MultiButtonState } from \"../../Buttons/MultiStateButton\"\nimport { media } from \"../../Helpers\"\nimport SelectableToggle from \"../SelectableToggle\"\nimport { StepProps } from \"../Types\"\nimport { Layout } from \"./Layout\"\n\nconst OptionsContainer = styled.div`\n  width: 450px;\n  margin: 0 auto 100px;\n  &:last-child {\n    border-bottom: 1px solid ${Colors.grayRegular};\n  }\n  ${media.sm`\n    width: 100%;\n    margin-bottom: 20px;\n  `};\n`\n\ntype Props = StepProps & ContextProps\n\ninterface State {\n  selectedOptions: { [option: string]: boolean }\n  error?: string\n}\n\nexport class CollectorIntentComponent extends React.Component<Props, State> {\n  static slug: \"interests\" = \"interests\"\n\n  static intentEnum = {\n    \"buy art & design\": \"BUY_ART_AND_DESIGN\",\n    \"sell art & design\": \"SELL_ART_AND_DESIGN\",\n    \"research art prices\": \"RESEARCH_ART_PRICES\",\n    \"learn about art\": \"LEARN_ABOUT_ART\",\n    \"find out about new exhibitions\": \"FIND_ART_EXHIBITS\",\n    \"read art market news\": \"READ_ART_MARKET_NEWS\",\n  }\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      selectedOptions: {},\n    }\n  }\n\n  onOptionSelected = index => {\n    const selectedOptions = Object.assign({}, this.state.selectedOptions)\n    selectedOptions[index] = !selectedOptions[index]\n\n    this.setState({\n      selectedOptions,\n    })\n  }\n\n  selectedIntents() {\n    const intents = Object.values(CollectorIntentComponent.intentEnum).filter(\n      (_, index) => this.state.selectedOptions[index]\n    ) as Intents[]\n\n    return intents\n  }\n\n  submit() {\n    commitMutation<CollectorIntentUpdateCollectorProfileMutation>(\n      this.props.relayEnvironment,\n      {\n        mutation: graphql`\n          mutation CollectorIntentUpdateCollectorProfileMutation(\n            $input: UpdateCollectorProfileInput!\n          ) {\n            updateCollectorProfile(input: $input) {\n              intents\n            }\n          }\n        `,\n        variables: {\n          input: {\n            intents: this.selectedIntents(),\n          },\n        },\n      }\n    )\n\n    this.props.onNextButtonPressed()\n  }\n\n  render() {\n    const options = Object.keys(CollectorIntentComponent.intentEnum).map(\n      (text, index) => (\n        <SelectableToggle\n          key={index}\n          text={text}\n          onSelect={this.onOptionSelected.bind(this, index)}\n          selected={this.state.selectedOptions[index]}\n        />\n      )\n    )\n\n    return (\n      <Layout\n        title=\"How would you like to use Artsy?\"\n        subtitle=\"Select all that apply\"\n        onNextButtonPressed={this.submit.bind(this)}\n        buttonState={\n          this.selectedIntents().length > 0\n            ? MultiButtonState.Highlighted\n            : MultiButtonState.Default\n        }\n      >\n        <OptionsContainer>{options}</OptionsContainer>\n      </Layout>\n    )\n  }\n}\n\nconst CollectorIntent = withContext(CollectorIntentComponent)\n// tslint:disable:no-string-literal\nCollectorIntent[\"slug\"] = CollectorIntentComponent.slug\n\nexport default CollectorIntent\n"]}]}