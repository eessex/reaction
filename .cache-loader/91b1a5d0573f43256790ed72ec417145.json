{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Components/Publishing/Sections/ImageSetPreviewClassic.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/Sections/ImageSetPreviewClassic.tsx","mtime":1535727457000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1537112679000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  left: \", \";\\n  top: 14px;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { avantgarde } from \"../../../Assets/Fonts\";\nimport React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { resize } from \"../../../Utils/resizer\";\nimport { IconImageSet } from \"../Icon/IconImageSet\";\nvar Wrapper = styled.div.withConfig({\n  displayName: \"ImageSetPreviewClassic__Wrapper\",\n  componentId: \"s1euixc4-0\"\n})([\"max-width:580px;width:100%;height:150px;display:flex;\"]);\nvar Text = styled.div.withConfig({\n  displayName: \"ImageSetPreviewClassic__Text\",\n  componentId: \"s1euixc4-1\"\n})([\"\", \";line-height:1.35em;margin:0;\"], avantgarde(\"s11\"));\nvar Remaining = styled.div.withConfig({\n  displayName: \"ImageSetPreviewClassic__Remaining\",\n  componentId: \"s1euixc4-2\"\n})([\"min-width:50px;padding:10px;flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;border:1px solid #e5e5e5;text-align:center;\"]);\nvar IconContainer = styled.div.withConfig({\n  displayName: \"ImageSetPreviewClassic__IconContainer\",\n  componentId: \"s1euixc4-3\"\n})([\"width:32px;margin-bottom:10px;position:relative;\"]);\nvar container = 560;\nvar containerHeight = 150;\nvar iconContainer = 50;\nvar margin = 10;\nexport var ImageSetPreviewClassic =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ImageSetPreviewClassic, _Component);\n\n  function ImageSetPreviewClassic(props) {\n    var _this;\n\n    _classCallCheck(this, ImageSetPreviewClassic);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ImageSetPreviewClassic).call(this, props));\n    _this.state = {\n      visibleImages: _this.getVisibleImages(_this.props.images)\n    };\n    return _this;\n  }\n\n  _createClass(ImageSetPreviewClassic, [{\n    key: \"getVisibleImages\",\n    value: function getVisibleImages(images) {\n      var widths = [];\n      var hidden = 0;\n      images.map(function (item, i) {\n        var adjustedWidth = containerHeight * item.width / item.height;\n        widths.push(adjustedWidth);\n        var total = widths.reduce(function (a, b) {\n          return a + b;\n        }, 0);\n        var margins = widths.length * margin;\n\n        if (total + margins + iconContainer > container) {\n          hidden = hidden + 1;\n        }\n      });\n      return widths.length - hidden;\n    }\n  }, {\n    key: \"renderImages\",\n    value: function renderImages(images) {\n      var _this2 = this;\n\n      var items = images.slice(0, 4).map(function (item, i) {\n        var src = resize(item.image || item.url || \"\", {\n          width: 500\n        });\n        var alt = item.caption ? item.caption.replace(/<[^>]*>/g, \"\") : item.title || \"\";\n\n        if (i < _this2.state.visibleImages) {\n          return React.createElement(\"img\", {\n            key: \"imageset-\" + i,\n            src: src,\n            height: containerHeight,\n            className: \"imageset-preview__image\",\n            style: {\n              marginRight: margin\n            },\n            alt: alt\n          });\n        }\n      }, this);\n      return items;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var images = this.props.images;\n      return React.createElement(Wrapper, {\n        className: \"imageset-preview\"\n      }, React.createElement(\"div\", {\n        className: \"imageset-preview__container\",\n        style: {\n          display: \"flex\"\n        }\n      }, this.renderImages(images)), React.createElement(Remaining, {\n        className: \"imageset-preview__remaining\"\n      }, React.createElement(IconContainer, {\n        className: \"imageset-preview__icon-container\"\n      }, React.createElement(IconImageSet, null), React.createElement(Length, {\n        className: \"imageset-preview__length\",\n        imgLength: images.length\n      }, React.createElement(Text, null, images.length))), React.createElement(Text, {\n        className: \"imageset-preview__text\"\n      }, \"Enter Slideshow\")));\n    }\n  }]);\n\n  return ImageSetPreviewClassic;\n}(Component);\nvar Div = styled.div;\nvar Length = Div(_templateObject(), function (props) {\n  return props.imgLength > 9 ? \"4px\" : \"8px\";\n});",{"version":3,"sources":["/Users/eve/development/reaction/src/Components/Publishing/Sections/ImageSetPreviewClassic.tsx"],"names":["avantgarde","React","Component","styled","resize","IconImageSet","Wrapper","div","Text","Remaining","IconContainer","container","containerHeight","iconContainer","margin","ImageSetPreviewClassic","props","state","visibleImages","getVisibleImages","images","widths","hidden","map","item","i","adjustedWidth","width","height","push","total","reduce","a","b","margins","length","items","slice","src","image","url","alt","caption","replace","title","marginRight","display","renderImages","Div","Length","imgLength"],"mappings":"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","sourcesContent":["import { avantgarde } from \"Assets/Fonts\"\nimport React, { Component } from \"react\"\nimport styled, { StyledFunction } from \"styled-components\"\nimport { resize } from \"../../../Utils/resizer\"\nimport { IconImageSet } from \"../Icon/IconImageSet\"\n\ninterface LengthProps extends React.HTMLProps<HTMLDivElement> {\n  imgLength: number\n}\n\nconst Wrapper = styled.div`\n  max-width: 580px;\n  width: 100%;\n  height: 150px;\n  display: flex;\n`\nconst Text = styled.div`\n  ${avantgarde(\"s11\")};\n  line-height: 1.35em;\n  margin: 0;\n`\nconst Remaining = styled.div`\n  min-width: 50px;\n  padding: 10px;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid #e5e5e5;\n  text-align: center;\n`\nconst IconContainer = styled.div`\n  width: 32px;\n  margin-bottom: 10px;\n  position: relative;\n`\nconst container = 560\nconst containerHeight = 150\nconst iconContainer = 50\nconst margin = 10\n\nexport class ImageSetPreviewClassic extends Component<any, any> {\n  constructor(props) {\n    super(props)\n    this.state = {\n      visibleImages: this.getVisibleImages(this.props.images),\n    }\n  }\n\n  getVisibleImages(images) {\n    const widths = []\n    let hidden = 0\n    images.map((item, i) => {\n      const adjustedWidth = (containerHeight * item.width) / item.height\n      widths.push(adjustedWidth)\n      const total = widths.reduce((a, b) => a + b, 0)\n      const margins = widths.length * margin\n      if (total + margins + iconContainer > container) {\n        hidden = hidden + 1\n      }\n    })\n    return widths.length - hidden\n  }\n\n  renderImages(images) {\n    const items = images.slice(0, 4).map((item, i) => {\n      const src = resize(item.image || item.url || \"\", { width: 500 })\n      const alt = item.caption\n        ? item.caption.replace(/<[^>]*>/g, \"\")\n        : item.title || \"\"\n      if (i < this.state.visibleImages) {\n        return (\n          <img\n            key={\"imageset-\" + i}\n            src={src}\n            height={containerHeight}\n            className=\"imageset-preview__image\"\n            style={{ marginRight: margin }}\n            alt={alt}\n          />\n        )\n      }\n    }, this)\n    return items\n  }\n\n  render() {\n    const { images } = this.props\n\n    return (\n      <Wrapper className=\"imageset-preview\">\n        <div\n          className=\"imageset-preview__container\"\n          style={{ display: \"flex\" }}\n        >\n          {this.renderImages(images)}\n        </div>\n        <Remaining className=\"imageset-preview__remaining\">\n          <IconContainer className=\"imageset-preview__icon-container\">\n            <IconImageSet />\n            <Length\n              className=\"imageset-preview__length\"\n              imgLength={images.length}\n            >\n              <Text>{images.length}</Text>\n            </Length>\n          </IconContainer>\n          <Text className=\"imageset-preview__text\">Enter Slideshow</Text>\n        </Remaining>\n      </Wrapper>\n    )\n  }\n}\n\nconst Div: StyledFunction<LengthProps> = styled.div\nconst Length = Div`\n  position: absolute;\n  left: ${props => (props.imgLength > 9 ? \"4px\" : \"8px\")};\n  top: 14px;\n`\n"]}]}