{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--5-1!/Users/eve/development/reaction/src/Components/Publishing/Layouts/StandardLayout.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/Layouts/StandardLayout.tsx","mtime":1527880681000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1527877289000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StandardLayoutParent = exports.StandardLayout = void 0;\n\nvar _lodash = require(\"lodash\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _Colors = _interopRequireDefault(require(\"../../../Assets/Colors\"));\n\nvar _Responsive = require(\"../../../Utils/Responsive\");\n\nvar _Helpers = require(\"../../Helpers\");\n\nvar _Canvas = require(\"../Display/Canvas\");\n\nvar _DisplayPanel = require(\"../Display/DisplayPanel\");\n\nvar _Header = require(\"../Header/Header\");\n\nvar _ReadMoreButton = require(\"../ReadMore/ReadMoreButton\");\n\nvar _ReadMoreWrapper = require(\"../ReadMore/ReadMoreWrapper\");\n\nvar _RelatedArticlesCanvas = require(\"../RelatedArticles/RelatedArticlesCanvas\");\n\nvar _Sections = require(\"../Sections/Sections\");\n\nvar _Sidebar = require(\"./Components/Sidebar\");\n\nvar _Constants = require(\"../Constants\");\n\nvar _templateObject = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n    margin: 0 0 100px 0;\\n  \"], [\"\\n    margin: 0 0 100px 0;\\n  \"]),\n    _templateObject2 = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n    margin: 0 20px;\\n  \"], [\"\\n    margin: 0 20px;\\n  \"]);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nvar StandardLayout =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(StandardLayout, _React$Component);\n\n  function StandardLayout(props) {\n    var _this;\n\n    _classCallCheck(this, StandardLayout);\n\n    _this = _possibleConstructorReturn(this, (StandardLayout.__proto__ || Object.getPrototypeOf(StandardLayout)).call(this, props));\n    Object.defineProperty(_assertThisInitialized(_this), \"removeTruncation\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value() {\n        _this.setState({\n          isTruncated: false\n        });\n      }\n    });\n    _this.state = {\n      isTruncated: props.isTruncated || false\n    };\n    return _this;\n  }\n\n  _createClass(StandardLayout, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          article = _props.article,\n          display = _props.display,\n          emailSignupUrl = _props.emailSignupUrl,\n          relatedArticlesForCanvas = _props.relatedArticlesForCanvas,\n          relatedArticlesForPanel = _props.relatedArticlesForPanel,\n          showToolTips = _props.showToolTips,\n          showToolTipMarketData = _props.showToolTipMarketData;\n      var isTruncated = this.state.isTruncated;\n      var campaign = (0, _lodash.omit)(display, \"panel\", \"canvas\");\n      var displayOverflows = display && display.canvas.layout === \"slideshow\";\n      var renderTime = (0, _Constants.getCurrentUnixTimestamp)();\n      return _react.default.createElement(_Responsive.Responsive, {\n        initialState: {\n          isMobile: this.props.isMobile\n        }\n      }, function (_ref) {\n        var isMobile = _ref.isMobile,\n            xs = _ref.xs,\n            sm = _ref.sm,\n            md = _ref.md;\n        var hasPanel = (0, _lodash.get)(display, \"panel\", false);\n        var isMobileAd = Boolean(isMobile || xs || sm || md);\n\n        var DisplayPanelAd = function DisplayPanelAd() {\n          return hasPanel && _react.default.createElement(_DisplayPanel.DisplayPanel, {\n            isMobile: isMobileAd,\n            unit: display.panel,\n            campaign: campaign,\n            article: article,\n            renderTime: renderTime\n          });\n        };\n\n        return _react.default.createElement(\"div\", null, _react.default.createElement(_ReadMoreWrapper.ReadMoreWrapper, {\n          isTruncated: isTruncated,\n          hideButton: _this2.removeTruncation\n        }, _react.default.createElement(_Header.Header, {\n          article: article,\n          isMobile: isMobile\n        }), _react.default.createElement(StandardLayoutParent, null, _react.default.createElement(StandardLayoutContainer, null, _react.default.createElement(_Sections.Sections, {\n          DisplayPanel: DisplayPanelAd,\n          article: article,\n          isMobile: isMobile,\n          showToolTips: showToolTips,\n          showToolTipMarketData: showToolTipMarketData\n        }), _react.default.createElement(_Sidebar.Sidebar, {\n          emailSignupUrl: emailSignupUrl,\n          DisplayPanel: DisplayPanelAd,\n          relatedArticlesForPanel: relatedArticlesForPanel\n        }))), relatedArticlesForCanvas && _react.default.createElement(\"div\", null, _react.default.createElement(LineBreak, null), _react.default.createElement(_RelatedArticlesCanvas.RelatedArticlesCanvas, {\n          articles: relatedArticlesForCanvas,\n          isMobile: isMobile,\n          vertical: article.vertical\n        }))), isTruncated && _react.default.createElement(_ReadMoreButton.ReadMore, {\n          onClick: _this2.removeTruncation\n        }), display && _react.default.createElement(\"div\", null, _react.default.createElement(LineBreak, null), displayOverflows ? _react.default.createElement(\"div\", null, _react.default.createElement(_Canvas.DisplayCanvas, {\n          unit: display.canvas,\n          campaign: campaign,\n          article: article,\n          renderTime: renderTime\n        })) : _react.default.createElement(FooterContainer, null, _react.default.createElement(_Canvas.DisplayCanvas, {\n          unit: display.canvas,\n          campaign: campaign,\n          article: article,\n          renderTime: renderTime\n        }))));\n      });\n    }\n  }]);\n\n  return StandardLayout;\n}(_react.default.Component);\n\nexports.StandardLayout = StandardLayout;\nObject.defineProperty(StandardLayout, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    isMobile: false,\n    isSuper: false,\n    article: {},\n    isTruncated: false\n  }\n});\n\nvar StandardLayoutParent =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"StandardLayout__StandardLayoutParent\",\n  componentId: \"s9dvpk1-0\"\n})([\"margin:0 40px 100px 40px;\", \";\"], _Helpers.pMedia.sm(_templateObject));\n\nexports.StandardLayoutParent = StandardLayoutParent;\n\nvar StandardLayoutContainer =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"StandardLayout__StandardLayoutContainer\",\n  componentId: \"s9dvpk1-1\"\n})([\"max-width:1250px;display:flex;margin:auto;justify-content:space-between;\"]);\n\nvar LineBreak =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"StandardLayout__LineBreak\",\n  componentId: \"s9dvpk1-2\"\n})([\"border-top:1px solid \", \";width:100%;\"], _Colors.default.grayRegular);\n\nvar FooterContainer =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"StandardLayout__FooterContainer\",\n  componentId: \"s9dvpk1-3\"\n})([\"margin:0 40px;\", \";\"], _Helpers.pMedia.sm(_templateObject2));",{"version":3,"sources":["src/Components/Publishing/Layouts/StandardLayout.tsx"],"names":["StandardLayout","props","setState","isTruncated","state","article","display","emailSignupUrl","relatedArticlesForCanvas","relatedArticlesForPanel","showToolTips","showToolTipMarketData","campaign","displayOverflows","canvas","layout","renderTime","isMobile","xs","sm","md","hasPanel","isMobileAd","Boolean","DisplayPanelAd","panel","removeTruncation","vertical","Component","isSuper","StandardLayoutParent","div","StandardLayoutContainer","LineBreak","grayRegular","FooterContainer"],"mappings":"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","file":"/Users/eve/development/reaction/src/Components/Publishing/Layouts/StandardLayout.tsx","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import { get, omit } from \"lodash\"\nimport React from \"react\"\nimport styled from \"styled-components\"\nimport Colors from \"../../../Assets/Colors\"\nimport { Responsive } from \"../../../Utils/Responsive\"\nimport { pMedia } from \"../../Helpers\"\nimport { DisplayCanvas } from \"../Display/Canvas\"\nimport { DisplayPanel } from \"../Display/DisplayPanel\"\nimport { Header } from \"../Header/Header\"\nimport { ReadMore } from \"../ReadMore/ReadMoreButton\"\nimport { ReadMoreWrapper } from \"../ReadMore/ReadMoreWrapper\"\nimport { RelatedArticlesCanvas } from \"../RelatedArticles/RelatedArticlesCanvas\"\nimport { Sections } from \"../Sections/Sections\"\nimport { Sidebar } from \"./Components/Sidebar\"\nimport { ArticleProps } from \"../Article\"\nimport { getCurrentUnixTimestamp } from \"../Constants\"\n\ninterface ArticleState {\n  isTruncated: boolean\n}\n\nexport class StandardLayout extends React.Component<\n  ArticleProps,\n  ArticleState\n> {\n  static defaultProps = {\n    isMobile: false,\n    isSuper: false,\n    article: {},\n    isTruncated: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      isTruncated: props.isTruncated || false,\n    }\n  }\n\n  removeTruncation = () => {\n    this.setState({ isTruncated: false })\n  }\n\n  render() {\n    const {\n      article,\n      display,\n      emailSignupUrl,\n      relatedArticlesForCanvas,\n      relatedArticlesForPanel,\n      showToolTips,\n      showToolTipMarketData,\n    } = this.props\n    const { isTruncated } = this.state\n\n    const campaign = omit(display, \"panel\", \"canvas\")\n    const displayOverflows = display && display.canvas.layout === \"slideshow\"\n    const renderTime = getCurrentUnixTimestamp()\n\n    return (\n      <Responsive initialState={{ isMobile: this.props.isMobile }}>\n        {({ isMobile, xs, sm, md }) => {\n          const hasPanel = get(display, \"panel\", false)\n          const isMobileAd = Boolean(isMobile || xs || sm || md)\n\n          const DisplayPanelAd = () => {\n            return (\n              hasPanel && (\n                <DisplayPanel\n                  isMobile={isMobileAd}\n                  unit={display.panel}\n                  campaign={campaign}\n                  article={article}\n                  renderTime={renderTime}\n                />\n              )\n            )\n          }\n          return (\n            <div>\n              <ReadMoreWrapper\n                isTruncated={isTruncated}\n                hideButton={this.removeTruncation}\n              >\n                <Header article={article} isMobile={isMobile} />\n\n                <StandardLayoutParent>\n                  <StandardLayoutContainer>\n                    <Sections\n                      DisplayPanel={DisplayPanelAd}\n                      article={article}\n                      isMobile={isMobile}\n                      showToolTips={showToolTips}\n                      showToolTipMarketData={showToolTipMarketData}\n                    />\n                    <Sidebar\n                      emailSignupUrl={emailSignupUrl}\n                      DisplayPanel={DisplayPanelAd}\n                      relatedArticlesForPanel={relatedArticlesForPanel}\n                    />\n                  </StandardLayoutContainer>\n                </StandardLayoutParent>\n\n                {/*\n                  Canvas: Related Articles\n                */}\n                {relatedArticlesForCanvas && (\n                  <div>\n                    <LineBreak />\n                    <RelatedArticlesCanvas\n                      articles={relatedArticlesForCanvas}\n                      isMobile={isMobile}\n                      vertical={article.vertical}\n                    />\n                  </div>\n                )}\n              </ReadMoreWrapper>\n\n              {/*\n                Read More Button\n              */}\n              {isTruncated && <ReadMore onClick={this.removeTruncation} />}\n\n              {/*\n                Footer\n              */}\n              {display && (\n                <div>\n                  <LineBreak />\n\n                  {displayOverflows ? (\n                    <div>\n                      <DisplayCanvas\n                        unit={display.canvas}\n                        campaign={campaign}\n                        article={article}\n                        renderTime={renderTime}\n                      />\n                    </div>\n                  ) : (\n                    <FooterContainer>\n                      <DisplayCanvas\n                        unit={display.canvas}\n                        campaign={campaign}\n                        article={article}\n                        renderTime={renderTime}\n                      />\n                    </FooterContainer>\n                  )}\n                </div>\n              )}\n            </div>\n          )\n        }}\n      </Responsive>\n    )\n  }\n}\n\nexport const StandardLayoutParent = styled.div`\n  margin: 0 40px 100px 40px;\n  ${pMedia.sm`\n    margin: 0 0 100px 0;\n  `};\n`\n\nconst StandardLayoutContainer = styled.div`\n  max-width: 1250px;\n  display: flex;\n  margin: auto;\n  justify-content: space-between;\n`\n\nconst LineBreak = styled.div`\n  border-top: 1px solid ${Colors.grayRegular};\n  width: 100%;\n`\n\nconst FooterContainer = styled.div`\n  margin: 0 40px;\n  ${pMedia.sm`\n    margin: 0 20px;\n  `};\n`\n"]}]}