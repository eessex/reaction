{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--5-1!/Users/eve/development/reaction/src/Components/Publishing/News/NewsSections.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/News/NewsSections.tsx","mtime":1522865193000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1527877289000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NewsSectionContainer = exports.NewsSections = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _Helpers = require(\"../../Helpers\");\n\nvar _NewsByline = require(\"../Byline/NewsByline\");\n\nvar _ImageCollection = require(\"../Sections/ImageCollection\");\n\nvar _SocialEmbed = require(\"../Sections/SocialEmbed\");\n\nvar _Text = require(\"../Sections/Text\");\n\nvar _Truncator = require(\"../Sections/Truncator\");\n\nvar _templateObject = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n    margin: 0 0 15px 0;\\n    padding: 0;\\n  \"], [\"\\n    margin: 0 0 15px 0;\\n    padding: 0;\\n  \"]),\n    _templateObject2 = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n    margin: 30px 0 0 0;\\n    padding: 0px;\\n  \"], [\"\\n    margin: 30px 0 0 0;\\n    padding: 0px;\\n  \"]);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NewsSections =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NewsSections, _Component);\n\n  function NewsSections() {\n    _classCallCheck(this, NewsSections);\n\n    return _possibleConstructorReturn(this, (NewsSections.__proto__ || Object.getPrototypeOf(NewsSections)).apply(this, arguments));\n  }\n\n  _createClass(NewsSections, [{\n    key: \"getSection\",\n    value: function getSection(section, index) {\n      var _props = this.props,\n          article = _props.article,\n          isMobile = _props.isMobile,\n          isTruncated = _props.isTruncated;\n      var sections = {\n        image_collection: _react.default.createElement(_ImageCollection.ImageCollection, {\n          sectionLayout: section.layout,\n          articleLayout: article.layout,\n          images: section.images,\n          targetHeight: 500,\n          gutter: 10\n        }),\n        social_embed: _react.default.createElement(_SocialEmbed.SocialEmbed, {\n          section: section\n        }),\n        text: _react.default.createElement(_Text.Text, {\n          html: section.body,\n          layout: this.props.article.layout\n        }),\n        default: false\n      };\n      var sectionComponent = sections[section.type] || sections.default;\n\n      if (section.type === \"text\" && isTruncated) {\n        return _react.default.createElement(_Truncator.Truncator, {\n          maxLineCount: isMobile ? 3 : 2\n        }, sectionComponent);\n      }\n\n      return sectionComponent;\n    }\n  }, {\n    key: \"renderSections\",\n    value: function renderSections() {\n      var _this = this;\n\n      var _props2 = this.props,\n          sections = _props2.article.sections,\n          isTruncated = _props2.isTruncated;\n      var hasMainImage = sections[0].type === \"image_collection\";\n      var limit;\n\n      if (isTruncated) {\n        limit = hasMainImage ? 2 : 1;\n      } else {\n        limit = sections.length;\n      }\n\n      var renderedSections = sections.slice(0, limit).map(function (section, index) {\n        var child = _this.getSection(section, index);\n\n        if (child) {\n          return _react.default.createElement(NewsSectionContainer, {\n            key: index,\n            type: section.type\n          }, child);\n        }\n      });\n      return renderedSections;\n    }\n  }, {\n    key: \"renderByline\",\n    value: function renderByline() {\n      var _props$article = this.props.article,\n          authors = _props$article.authors,\n          published_at = _props$article.published_at;\n\n      if (authors || published_at) {\n        return _react.default.createElement(BylineContainer, null, _react.default.createElement(_NewsByline.NewsByline, this.props));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react.default.createElement(\"div\", null, this.renderSections(), this.renderByline());\n    }\n  }]);\n\n  return NewsSections;\n}(_react.Component);\n\nexports.NewsSections = NewsSections;\n\nvar getMaxWidth = function getMaxWidth(type) {\n  if (type === \"image_collection\") {\n    return \"\";\n  } else {\n    return \"max-width: 660px;\";\n  }\n};\n\nvar NewsSectionContainer =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"NewsSections__NewsSectionContainer\",\n  componentId: \"sk8dx2-0\"\n})([\"\", \";margin-bottom:20px;\", \";\"], function (props) {\n  return getMaxWidth(props.type);\n}, _Helpers.pMedia.sm(_templateObject));\n\nexports.NewsSectionContainer = NewsSectionContainer;\n\nvar BylineContainer =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"NewsSections__BylineContainer\",\n  componentId: \"sk8dx2-1\"\n})([\"max-width:780px;margin-top:30px;\", \";\"], _Helpers.pMedia.sm(_templateObject2));",{"version":3,"sources":["src/Components/Publishing/News/NewsSections.tsx"],"names":["NewsSections","section","index","props","article","isMobile","isTruncated","sections","image_collection","layout","images","social_embed","text","body","default","sectionComponent","type","hasMainImage","limit","length","renderedSections","slice","map","child","getSection","authors","published_at","renderSections","renderByline","getMaxWidth","NewsSectionContainer","div","sm","BylineContainer"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;IAaaA,Y;;;;;;;;;;;;;+BACAC,O,EAAsBC,K,EAAe;AAAA,mBACH,KAAKC,KADF;AAAA,UACtCC,OADsC,UACtCA,OADsC;AAAA,UAC7BC,QAD6B,UAC7BA,QAD6B;AAAA,UACnBC,WADmB,UACnBA,WADmB;AAG9C,UAAMC,WAAW;AACfC,0BACE;AACE,yBAAeP,QAAQQ,MADzB;AAEE,yBAAeL,QAAQK,MAFzB;AAGE,kBAAQR,QAAQS,MAHlB;AAIE,wBAAc,GAJhB;AAKE,kBAAQ;AALV,UAFa;AAUfC,sBAAc;AAAa,mBAASV;AAAtB,UAVC;AAWfW,cAAM;AAAM,gBAAMX,QAAQY,IAApB;AAA0B,kBAAQ,KAAKV,KAAL,CAAWC,OAAX,CAAmBK;AAArD,UAXS;AAYfK,iBAAS;AAZM,OAAjB;AAeA,UAAMC,mBAAmBR,SAASN,QAAQe,IAAjB,KAA0BT,SAASO,OAA5D;;AACA,UAAIb,QAAQe,IAAR,KAAiB,MAAjB,IAA2BV,WAA/B,EAA4C;AAC1C,eACE;AAAW,wBAAcD,WAAW,CAAX,GAAe;AAAxC,WACGU,gBADH,CADF;AAKD;;AACD,aAAOA,gBAAP;AACD;;;qCAEgB;AAAA;;AAAA,oBACgC,KAAKZ,KADrC;AAAA,UACII,QADJ,WACPH,OADO,CACIG,QADJ;AAAA,UACgBD,WADhB,WACgBA,WADhB;AAEf,UAAMW,eAAeV,SAAS,CAAT,EAAYS,IAAZ,KAAqB,kBAA1C;AAEA,UAAIE,KAAJ;;AACA,UAAIZ,WAAJ,EAAiB;AACfY,gBAAQD,eAAe,CAAf,GAAmB,CAA3B;AACD,OAFD,MAEO;AACLC,gBAAQX,SAASY,MAAjB;AACD;;AAED,UAAMC,mBAAmBb,SAASc,KAAT,CAAe,CAAf,EAAkBH,KAAlB,EAAyBI,GAAzB,CAA6B,UAACrB,OAAD,EAAUC,KAAV,EAAoB;AACxE,YAAMqB,QAAQ,MAAKC,UAAL,CAAgBvB,OAAhB,EAAyBC,KAAzB,CAAd;;AAEA,YAAIqB,KAAJ,EAAW;AACT,iBACE,6BAAC,oBAAD;AAAsB,iBAAKrB,KAA3B;AAAkC,kBAAMD,QAAQe;AAAhD,aACGO,KADH,CADF;AAKD;AACF,OAVwB,CAAzB;AAYA,aAAOH,gBAAP;AACD;;;mCAEc;AAAA,2BACkC,KAAKjB,KADvC,CACLC,OADK;AAAA,UACMqB,OADN,kBACMA,OADN;AAAA,UACeC,YADf,kBACeA,YADf;;AAGb,UAAID,WAAWC,YAAf,EAA6B;AAC3B,eACE,6BAAC,eAAD,QACE,qDAAgB,KAAKvB,KAArB,CADF,CADF;AAKD;AACF;;;6BAEQ;AACP,aACE,0CACG,KAAKwB,cAAL,EADH,EAEG,KAAKC,YAAL,EAFH,CADF;AAMD;;;;;;;;AAGH,IAAMC,cAAc,SAAdA,WAAc,OAAQ;AAC1B,MAAIb,SAAS,kBAAb,EAAiC;AAC/B,WAAO,EAAP;AACD,GAFD,MAEO;AACL,WAAO,mBAAP;AACD;AACF,CAND;;AAQO,IAAMc;AAAA;AAAuB,0BAAOC,GAA9B;AAAA;AAAA;AAAA,sCACT,UAAC5B,KAAD;AAAA,SAA0B0B,YAAY1B,MAAMa,IAAlB,CAA1B;AAAA,CADS,EAIT,gBAAOgB,EAJE,kBAAN;;;;AAUP,IAAMC;AAAA;AAAkB,0BAAOF,GAAzB;AAAA;AAAA;AAAA,8CAIF,gBAAOC,EAJL,mBAAN","file":"/Users/eve/development/reaction/src/Components/Publishing/News/NewsSections.tsx","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import React, { Component } from \"react\"\nimport styled from \"styled-components\"\nimport { pMedia } from \"../../Helpers\"\nimport { NewsByline } from \"../Byline/NewsByline\"\nimport { ImageCollection } from \"../Sections/ImageCollection\"\nimport { SocialEmbed } from \"../Sections/SocialEmbed\"\nimport { Text } from \"../Sections/Text\"\nimport { Truncator } from \"../Sections/Truncator\"\nimport { ArticleData, SectionData } from \"../Typings\"\n\ninterface Props {\n  article: ArticleData\n  isMobile?: boolean\n  isTruncated: boolean\n}\n\ninterface ContainerProp {\n  type: string\n}\n\nexport class NewsSections extends Component<Props> {\n  getSection(section: SectionData, index: number) {\n    const { article, isMobile, isTruncated } = this.props\n\n    const sections = {\n      image_collection: (\n        <ImageCollection\n          sectionLayout={section.layout}\n          articleLayout={article.layout}\n          images={section.images}\n          targetHeight={500}\n          gutter={10}\n        />\n      ),\n      social_embed: <SocialEmbed section={section} />,\n      text: <Text html={section.body} layout={this.props.article.layout} />,\n      default: false,\n    }\n\n    const sectionComponent = sections[section.type] || sections.default\n    if (section.type === \"text\" && isTruncated) {\n      return (\n        <Truncator maxLineCount={isMobile ? 3 : 2}>\n          {sectionComponent}\n        </Truncator>\n      )\n    }\n    return sectionComponent\n  }\n\n  renderSections() {\n    const { article: { sections }, isTruncated } = this.props\n    const hasMainImage = sections[0].type === \"image_collection\"\n\n    let limit\n    if (isTruncated) {\n      limit = hasMainImage ? 2 : 1\n    } else {\n      limit = sections.length\n    }\n\n    const renderedSections = sections.slice(0, limit).map((section, index) => {\n      const child = this.getSection(section, index)\n\n      if (child) {\n        return (\n          <NewsSectionContainer key={index} type={section.type}>\n            {child}\n          </NewsSectionContainer>\n        )\n      }\n    })\n\n    return renderedSections\n  }\n\n  renderByline() {\n    const { article: { authors, published_at } } = this.props\n\n    if (authors || published_at) {\n      return (\n        <BylineContainer>\n          <NewsByline {...this.props} />\n        </BylineContainer>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {this.renderSections()}\n        {this.renderByline()}\n      </div>\n    )\n  }\n}\n\nconst getMaxWidth = type => {\n  if (type === \"image_collection\") {\n    return \"\"\n  } else {\n    return \"max-width: 660px;\"\n  }\n}\n\nexport const NewsSectionContainer = styled.div`\n  ${(props: ContainerProp) => getMaxWidth(props.type)};\n  margin-bottom: 20px;\n\n  ${pMedia.sm`\n    margin: 0 0 15px 0;\n    padding: 0;\n  `};\n`\n\nconst BylineContainer = styled.div`\n  max-width: 780px;\n  margin-top: 30px;\n\n  ${pMedia.sm`\n    margin: 30px 0 0 0;\n    padding: 0px;\n  `};\n`\n"]}]}