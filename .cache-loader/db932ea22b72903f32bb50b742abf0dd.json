{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Components/Gene/GeneArtworks.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Gene/GeneArtworks.tsx","mtime":1535727435000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1537112679000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport * as React from \"react\";\nimport { createFragmentContainer, graphql } from \"react-relay\";\nimport styled from \"styled-components\";\nimport { ButtonState } from \"../Buttons/Default\";\nimport Button from \"../Buttons/Ghost\";\nimport Dropdown from \"../ArtworkFilter/Dropdown\";\nimport ForSaleCheckbox from \"../ArtworkFilter/ForSaleCheckbox\";\nimport Headline from \"../ArtworkFilter/Headline\";\nimport TotalCount from \"../ArtworkFilter/TotalCount\";\nimport BorderedPulldown from \"../BorderedPulldown\";\nimport GeneArtworksContent from \"./GeneArtworksContent\";\nvar FilterBar = styled.div.withConfig({\n  displayName: \"GeneArtworks__FilterBar\",\n  componentId: \"e04ktc-0\"\n})([\"vertical-align:middle;text-align:center;> div{display:inline-block;}\"]);\nvar SubFilterBar = styled.div.withConfig({\n  displayName: \"GeneArtworks__SubFilterBar\",\n  componentId: \"e04ktc-1\"\n})([\"display:flex;justify-content:space-between;padding:40px 0 20px;align-items:center;\"]);\nvar ArtistFilterButtons = styled.div.withConfig({\n  displayName: \"GeneArtworks__ArtistFilterButtons\",\n  componentId: \"e04ktc-2\"\n})([\"margin-right:10px;button{height:52px;padding:16px;}\"]);\nexport var GeneArtworks =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(GeneArtworks, _React$Component);\n\n  function GeneArtworks() {\n    _classCallCheck(this, GeneArtworks);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(GeneArtworks).apply(this, arguments));\n  }\n\n  _createClass(GeneArtworks, [{\n    key: \"renderDropdown\",\n    value: function renderDropdown() {\n      var _this = this;\n\n      return this.props.gene.filtered_artworks.aggregations.map(function (aggregation) {\n        return React.createElement(Dropdown, {\n          aggregation: aggregation,\n          key: aggregation.slice,\n          selected: aggregation.slice && _this.props[aggregation.slice.toLowerCase()],\n          onSelected: _this.props.onDropdownSelected\n        });\n      });\n    }\n  }, {\n    key: \"renderArtistsModeToggle\",\n    value: function renderArtistsModeToggle() {\n      return React.createElement(ArtistFilterButtons, null, React.createElement(\"span\", null, \"By Artists:\"), React.createElement(Button, {\n        onClick: this.props.onArtistModeToggleSelected,\n        state: ButtonState.Default\n      }, \"All Artists\"), React.createElement(\"span\", null, \"By Work:\"));\n    }\n  }, {\n    key: \"renderForSaleToggle\",\n    value: function renderForSaleToggle() {\n      return React.createElement(ForSaleCheckbox, {\n        checked: this.props.for_sale,\n        onChange: this.props.onForSaleToggleSelected\n      });\n    }\n  }, {\n    key: \"renderArtworks\",\n    value: function renderArtworks() {\n      var _this2 = this;\n\n      var pulldownOptions = [{\n        val: \"-partner_updated_at\",\n        name: \"Recently Updated\"\n      }, {\n        val: \"-year\",\n        name: \"Artwork Year (desc.)\"\n      }, {\n        val: \"year\",\n        name: \"Artwork Year (asc.)\"\n      }];\n      var selectedSort = pulldownOptions.find(function (sort) {\n        return sort.val === _this2.props.sort;\n      });\n      return React.createElement(\"div\", null, React.createElement(SubFilterBar, null, React.createElement(\"div\", null, React.createElement(Headline, {\n        medium: this.props.medium,\n        price_range: this.props.price_range,\n        dimension_range: this.props.dimension_range,\n        for_sale: this.props.for_sale,\n        facet: this.props.gene.filtered_artworks.facet,\n        aggregations: this.props.gene.filtered_artworks.aggregations\n      }), React.createElement(TotalCount, {\n        filter_artworks: this.props.gene.filtered_artworks\n      })), React.createElement(BorderedPulldown, {\n        defaultValue: \"Recently Updated\",\n        selectedName: selectedSort && selectedSort.name,\n        options: pulldownOptions,\n        onChange: this.props.onSortSelected\n      })), React.createElement(GeneArtworksContent, {\n        geneID: this.props.gene.id,\n        filtered_artworks: this.props.gene.filtered_artworks\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", null, React.createElement(FilterBar, null, this.renderArtistsModeToggle(), this.renderForSaleToggle(), this.renderDropdown()), this.renderArtworks());\n    }\n  }]);\n\n  return GeneArtworks;\n}(React.Component);\nexport default createFragmentContainer(GeneArtworks, {\n  gene: function gene() {\n    var node = require(\"../../__generated__/GeneArtworks_gene.graphql\");\n\n    if (node.hash && node.hash !== \"1d17472b70abefaa13a7b3d87aecf9b4\") {\n      console.error(\"The definition of 'GeneArtworks_gene' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\");\n    }\n\n    return require(\"../../__generated__/GeneArtworks_gene.graphql\");\n  }\n});",{"version":3,"sources":["/Users/eve/development/reaction/src/Components/Gene/GeneArtworks.tsx"],"names":["React","createFragmentContainer","graphql","styled","ButtonState","Button","Dropdown","ForSaleCheckbox","Headline","TotalCount","BorderedPulldown","GeneArtworksContent","FilterBar","div","SubFilterBar","ArtistFilterButtons","GeneArtworks","props","gene","filtered_artworks","aggregations","map","aggregation","slice","toLowerCase","onDropdownSelected","onArtistModeToggleSelected","Default","for_sale","onForSaleToggleSelected","pulldownOptions","val","name","selectedSort","find","sort","medium","price_range","dimension_range","facet","onSortSelected","id","renderArtistsModeToggle","renderForSaleToggle","renderDropdown","renderArtworks","Component"],"mappings":"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","sourcesContent":["import * as React from \"react\"\nimport {\n  createFragmentContainer,\n  graphql,\n  RelayPaginationProp,\n} from \"react-relay\"\nimport styled from \"styled-components\"\n\nimport { ButtonState } from \"../Buttons/Default\"\nimport Button from \"../Buttons/Ghost\"\n\nimport Dropdown from \"../ArtworkFilter/Dropdown\"\nimport ForSaleCheckbox from \"../ArtworkFilter/ForSaleCheckbox\"\n\nimport Headline from \"../ArtworkFilter/Headline\"\nimport TotalCount from \"../ArtworkFilter/TotalCount\"\n\nimport BorderedPulldown from \"../BorderedPulldown\"\n\nimport { GeneArtworks_gene } from \"__generated__/GeneArtworks_gene.graphql\"\nimport GeneArtworksContent from \"./GeneArtworksContent\"\n\ninterface Filters {\n  for_sale?: boolean\n  dimension_range?: string\n  price_range?: string\n  medium?: string\n}\n\ninterface Props extends Filters {\n  relay: RelayPaginationProp\n  gene: GeneArtworks_gene\n  onDropdownSelected: (slice: string, value: string) => void\n  onSortSelected: (sort: string) => void\n  onForSaleToggleSelected: () => void\n  onArtistModeToggleSelected: () => void\n  sort?: string\n}\n\nconst FilterBar = styled.div`\n  vertical-align: middle;\n  text-align: center;\n\n  > div {\n    display: inline-block;\n  }\n`\n\nconst SubFilterBar = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 40px 0 20px;\n  align-items: center;\n`\n\nconst ArtistFilterButtons = styled.div`\n  margin-right: 10px;\n\n  button {\n    height: 52px;\n    padding: 16px;\n  }\n`\n\nexport class GeneArtworks extends React.Component<Props, null> {\n  renderDropdown() {\n    return this.props.gene.filtered_artworks.aggregations.map(aggregation => {\n      return (\n        <Dropdown\n          aggregation={aggregation}\n          key={aggregation.slice}\n          selected={\n            aggregation.slice && this.props[aggregation.slice.toLowerCase()]\n          }\n          onSelected={this.props.onDropdownSelected}\n        />\n      )\n    })\n  }\n\n  renderArtistsModeToggle() {\n    return (\n      <ArtistFilterButtons>\n        <span>By Artists:</span>\n        <Button\n          onClick={this.props.onArtistModeToggleSelected}\n          state={ButtonState.Default}\n        >\n          All Artists\n        </Button>\n        <span>By Work:</span>\n      </ArtistFilterButtons>\n    )\n  }\n\n  renderForSaleToggle() {\n    return (\n      <ForSaleCheckbox\n        checked={this.props.for_sale}\n        onChange={this.props.onForSaleToggleSelected}\n      />\n    )\n  }\n\n  renderArtworks() {\n    const pulldownOptions = [\n      { val: \"-partner_updated_at\", name: \"Recently Updated\" },\n      { val: \"-year\", name: \"Artwork Year (desc.)\" },\n      { val: \"year\", name: \"Artwork Year (asc.)\" },\n    ]\n    const selectedSort = pulldownOptions.find(\n      sort => sort.val === this.props.sort\n    )\n    return (\n      <div>\n        <SubFilterBar>\n          <div>\n            <Headline\n              medium={this.props.medium}\n              price_range={this.props.price_range}\n              dimension_range={this.props.dimension_range}\n              for_sale={this.props.for_sale}\n              facet={this.props.gene.filtered_artworks.facet}\n              aggregations={this.props.gene.filtered_artworks.aggregations}\n            />\n            <TotalCount filter_artworks={this.props.gene.filtered_artworks} />\n          </div>\n          <BorderedPulldown\n            defaultValue=\"Recently Updated\"\n            selectedName={selectedSort && selectedSort.name}\n            options={pulldownOptions}\n            onChange={this.props.onSortSelected}\n          />\n        </SubFilterBar>\n        <GeneArtworksContent\n          geneID={this.props.gene.id}\n          filtered_artworks={this.props.gene.filtered_artworks}\n        />\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div>\n        <FilterBar>\n          {this.renderArtistsModeToggle()}\n          {this.renderForSaleToggle()}\n          {this.renderDropdown()}\n        </FilterBar>\n        {this.renderArtworks()}\n      </div>\n    )\n  }\n}\n\nexport default createFragmentContainer(GeneArtworks, {\n  gene: graphql`\n    fragment GeneArtworks_gene on Gene\n      @argumentDefinitions(\n        for_sale: { type: \"Boolean\" }\n        medium: { type: \"String\", defaultValue: \"*\" }\n        aggregations: {\n          type: \"[ArtworkAggregation]\"\n          defaultValue: [MEDIUM, TOTAL, PRICE_RANGE, DIMENSION_RANGE]\n        }\n        price_range: { type: \"String\", defaultValue: \"*\" }\n        dimension_range: { type: \"String\", defaultValue: \"*\" }\n      ) {\n      id\n      filtered_artworks(\n        aggregations: $aggregations\n        for_sale: $for_sale\n        medium: $medium\n        price_range: $price_range\n        dimension_range: $dimension_range\n        size: 0\n        include_medium_filter_in_aggregation: true\n      ) {\n        ...TotalCount_filter_artworks\n        ...GeneArtworksContent_filtered_artworks\n        aggregations {\n          slice\n          counts {\n            name\n            id\n          }\n          ...Dropdown_aggregation\n        }\n        facet {\n          ...Headline_facet\n        }\n      }\n    }\n  `,\n})\n"]}]}