{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--5-1!/Users/eve/development/reaction/src/Components/Publishing/Layouts/VideoLayout.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/Layouts/VideoLayout.tsx","mtime":1524249962000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1527877289000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VideoLayout = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _Events = _interopRequireDefault(require(\"../../../Utils/Events\"));\n\nvar _track = require(\"../../../Utils/track\");\n\nvar _Helpers = require(\"../../Helpers\");\n\nvar _Constants = require(\"../Constants\");\n\nvar _Nav = require(\"../Nav/Nav\");\n\nvar _VideoPlayer = require(\"../Video/Player/VideoPlayer\");\n\nvar _Shared = require(\"../Video/Shared\");\n\nvar _VideoAbout = require(\"../Video/VideoAbout\");\n\nvar _VideoCover = require(\"../Video/VideoCover\");\n\nvar _Block = require(\"../RelatedArticles/ArticleCards/Block\");\n\nvar _dec, _class;\n\nvar _templateObject = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n    \", \" {\\n      margin: 40px 0 100px 0;\\n    }\\n  \"], [\"\\n    \", \" {\\n      margin: 40px 0 100px 0;\\n    }\\n  \"]);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nvar VideoLayout = (_dec = (0, _track.track)(function (props) {\n  return {\n    page: \"Article\",\n    entity_type: \"article\",\n    entity_id: props.article.id\n  };\n}, {\n  dispatch: function dispatch(data) {\n    return _Events.default.postEvent(data);\n  }\n}), _dec(_class =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(VideoLayout, _Component);\n\n  function VideoLayout() {\n    var _ref;\n\n    var _temp, _this;\n\n    _classCallCheck(this, VideoLayout);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _possibleConstructorReturn(_this, (_temp = _this = _possibleConstructorReturn(this, (_ref = VideoLayout.__proto__ || Object.getPrototypeOf(VideoLayout)).call.apply(_ref, [this].concat(args))), Object.defineProperty(_assertThisInitialized(_this), \"state\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: {\n        isPlaying: false,\n        hideCover: false\n      }\n    }), Object.defineProperty(_assertThisInitialized(_this), \"playVideo\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value() {\n        _this.setState({\n          isPlaying: true,\n          hideCover: true\n        });\n      }\n    }), Object.defineProperty(_assertThisInitialized(_this), \"onPlayToggle\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value(isPlaying) {\n        if (!isPlaying) {\n          _this.setState({\n            isPlaying: isPlaying\n          });\n\n          setTimeout(_this.setHideCover.bind(_assertThisInitialized(_this)), 30000);\n        } else {\n          _this.setState({\n            isPlaying: isPlaying,\n            hideCover: true\n          });\n        }\n      }\n    }), Object.defineProperty(_assertThisInitialized(_this), \"setHideCover\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value() {\n        if (!_this.state.isPlaying) {\n          _this.setState({\n            hideCover: false\n          });\n        }\n      }\n    }), _temp));\n  }\n\n  _createClass(VideoLayout, [{\n    key: \"render\",\n    value: function render() {\n      var _props = this.props,\n          article = _props.article,\n          relatedArticles = _props.relatedArticles;\n      var media = article.media,\n          seriesArticle = article.seriesArticle;\n      var sponsor = seriesArticle ? seriesArticle.sponsor : article.sponsor;\n      var seriesLink = seriesArticle && (0, _Constants.getEditorialHref)(\"series\", seriesArticle.slug);\n      return _react.default.createElement(VideoLayoutContainer, null, _react.default.createElement(_Nav.Nav, {\n        transparent: true,\n        sponsor: sponsor,\n        canFix: false\n      }), _react.default.createElement(VideoPlayerContainer, null, _react.default.createElement(_VideoPlayer.VideoPlayer, {\n        url: media.url,\n        title: media.title,\n        forcePlay: this.state.isPlaying,\n        notifyPlayToggle: this.onPlayToggle\n      }), _react.default.createElement(_VideoCover.VideoCover, {\n        article: article,\n        media: media,\n        seriesTitle: seriesArticle && seriesArticle.title,\n        seriesLink: seriesLink,\n        playVideo: this.playVideo,\n        hideCover: this.state.hideCover\n      })), _react.default.createElement(_Shared.MaxRow, null, _react.default.createElement(_VideoAbout.VideoAbout, {\n        article: article,\n        color: \"white\"\n      })), (relatedArticles || seriesArticle) && _react.default.createElement(_Block.ArticleCardsBlock, _extends({}, this.props, {\n        color: \"white\"\n      })));\n    }\n  }]);\n\n  return VideoLayout;\n}(_react.Component)) || _class);\nexports.VideoLayout = VideoLayout;\n\nvar VideoLayoutContainer =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"VideoLayout__VideoLayoutContainer\",\n  componentId: \"s1b6hdnr-0\"\n})([\"background:black;color:white;margin:auto;\", \"{position:absolute;top:0;}\", \"{margin:60px 0 100px 0;}\", \";\"], _Nav.Nav, _VideoAbout.VideoAboutContainer, _Helpers.media.sm(_templateObject, _VideoAbout.VideoAboutContainer));\n\nvar VideoPlayerContainer =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"VideoLayout__VideoPlayerContainer\",\n  componentId: \"s1b6hdnr-1\"\n})([\"position:relative;width:100vw;height:100vh;\", \"{position:absolute;top:0;}\"], _VideoPlayer.VideoContainer);",{"version":3,"sources":["src/Components/Publishing/Layouts/VideoLayout.tsx"],"names":["VideoLayout","page","entity_type","entity_id","props","article","id","dispatch","postEvent","data","isPlaying","hideCover","setState","setTimeout","setHideCover","bind","state","relatedArticles","media","seriesArticle","sponsor","seriesLink","slug","url","title","onPlayToggle","playVideo","VideoLayoutContainer","div","sm","VideoPlayerContainer"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAyBaA,W,WAZZ,kBACC,iBAAS;AACP,SAAO;AACLC,UAAM,SADD;AAELC,iBAAa,SAFR;AAGLC,eAAWC,MAAMC,OAAN,CAAcC;AAHpB,GAAP;AAKD,CAPF,EAQC;AACEC,YAAU;AAAA,WAAQ,gBAAOC,SAAP,CAAiBC,IAAjB,CAAR;AAAA;AADZ,CARD,C;;;;;;;;;;;;;;;;;;;;aAaS;AACNC,mBAAW,KADL;AAENC,mBAAW;AAFL;;;;;aAKI,iBAAM;AAChB,cAAKC,QAAL,CAAc;AACZF,qBAAW,IADC;AAEZC,qBAAW;AAFC,SAAd;AAID;;;;;aAEc,0BAAa;AAC1B,YAAI,CAACD,SAAL,EAAgB;AACd,gBAAKE,QAAL,CAAc;AACZF;AADY,WAAd;;AAGAG,qBAAW,MAAKC,YAAL,CAAkBC,IAAlB,+BAAX,EAAyC,KAAzC;AACD,SALD,MAKO;AACL,gBAAKH,QAAL,CAAc;AACZF,gCADY;AAEZC,uBAAW;AAFC,WAAd;AAID;AACF;;;;;aAEc,iBAAM;AACnB,YAAI,CAAC,MAAKK,KAAL,CAAWN,SAAhB,EAA2B;AACzB,gBAAKE,QAAL,CAAc;AACZD,uBAAW;AADC,WAAd;AAGD;AACF;;;;;;6BAEQ;AAAA,mBAC8B,KAAKP,KADnC;AAAA,UACCC,OADD,UACCA,OADD;AAAA,UACUY,eADV,UACUA,eADV;AAAA,UAECC,KAFD,GAE0Bb,OAF1B,CAECa,KAFD;AAAA,UAEQC,aAFR,GAE0Bd,OAF1B,CAEQc,aAFR;AAGP,UAAMC,UAAUD,gBAAgBA,cAAcC,OAA9B,GAAwCf,QAAQe,OAAhE;AACA,UAAMC,aACJF,iBAAiB,iCAAiB,QAAjB,EAA2BA,cAAcG,IAAzC,CADnB;AAEA,aACE,6BAAC,oBAAD,QACE;AAAK,yBAAL;AAAiB,iBAASF,OAA1B;AAAmC,gBAAQ;AAA3C,QADF,EAEE,6BAAC,oBAAD,QACE;AACE,aAAKF,MAAMK,GADb;AAEE,eAAOL,MAAMM,KAFf;AAGE,mBAAW,KAAKR,KAAL,CAAWN,SAHxB;AAIE,0BAAkB,KAAKe;AAJzB,QADF,EAOE;AACE,iBAASpB,OADX;AAEE,eAAOa,KAFT;AAGE,qBAAaC,iBAAiBA,cAAcK,KAH9C;AAIE,oBAAYH,UAJd;AAKE,mBAAW,KAAKK,SALlB;AAME,mBAAW,KAAKV,KAAL,CAAWL;AANxB,QAPF,CAFF,EAkBE,mDACE;AAAY,iBAASN,OAArB;AAA8B,eAAM;AAApC,QADF,CAlBF,EAqBG,CAACY,mBAAmBE,aAApB,KACC,oEAAuB,KAAKf,KAA5B;AAAmC,eAAM;AAAzC,SAtBJ,CADF;AA2BD;;;;;;;AAGH,IAAMuB;AAAA;AAAuB,0BAAOC,GAA9B;AAAA;AAAA;AAAA,4JAcF,eAAMC,EAdJ,mDAAN;;AAqBA,IAAMC;AAAA;AAAuB,0BAAOF,GAA9B;AAAA;AAAA;AAAA,8GAAN","file":"/Users/eve/development/reaction/src/Components/Publishing/Layouts/VideoLayout.tsx","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import React, { Component } from \"react\"\nimport styled from \"styled-components\"\nimport Events from \"../../../Utils/Events\"\nimport { track } from \"../../../Utils/track\"\nimport { media } from \"../../Helpers\"\nimport { getEditorialHref } from \"../Constants\"\nimport { Nav } from \"../Nav/Nav\"\nimport { ArticleData } from \"../Typings\"\nimport { VideoContainer, VideoPlayer } from \"../Video/Player/VideoPlayer\"\nimport { MaxRow } from \"../Video/Shared\"\nimport { VideoAbout, VideoAboutContainer } from \"../Video/VideoAbout\"\nimport { VideoCover } from \"../Video/VideoCover\"\nimport { ArticleCardsBlock } from \"../RelatedArticles/ArticleCards/Block\"\n\ninterface Props {\n  article: ArticleData\n  seriesArticle?: ArticleData\n  relatedArticles?: any\n}\n\ninterface State {\n  isPlaying: boolean\n  hideCover: boolean\n}\n\n@track(\n  props => {\n    return {\n      page: \"Article\",\n      entity_type: \"article\",\n      entity_id: props.article.id,\n    }\n  },\n  {\n    dispatch: data => Events.postEvent(data),\n  }\n)\nexport class VideoLayout extends Component<Props, State> {\n  state = {\n    isPlaying: false,\n    hideCover: false,\n  }\n\n  playVideo = () => {\n    this.setState({\n      isPlaying: true,\n      hideCover: true,\n    })\n  }\n\n  onPlayToggle = isPlaying => {\n    if (!isPlaying) {\n      this.setState({\n        isPlaying,\n      })\n      setTimeout(this.setHideCover.bind(this), 30000)\n    } else {\n      this.setState({\n        isPlaying,\n        hideCover: true,\n      })\n    }\n  }\n\n  setHideCover = () => {\n    if (!this.state.isPlaying) {\n      this.setState({\n        hideCover: false,\n      })\n    }\n  }\n\n  render() {\n    const { article, relatedArticles } = this.props\n    const { media, seriesArticle } = article\n    const sponsor = seriesArticle ? seriesArticle.sponsor : article.sponsor\n    const seriesLink =\n      seriesArticle && getEditorialHref(\"series\", seriesArticle.slug)\n    return (\n      <VideoLayoutContainer>\n        <Nav transparent sponsor={sponsor} canFix={false} />\n        <VideoPlayerContainer>\n          <VideoPlayer\n            url={media.url}\n            title={media.title}\n            forcePlay={this.state.isPlaying}\n            notifyPlayToggle={this.onPlayToggle}\n          />\n          <VideoCover\n            article={article}\n            media={media}\n            seriesTitle={seriesArticle && seriesArticle.title}\n            seriesLink={seriesLink}\n            playVideo={this.playVideo}\n            hideCover={this.state.hideCover}\n          />\n        </VideoPlayerContainer>\n        <MaxRow>\n          <VideoAbout article={article} color=\"white\" />\n        </MaxRow>\n        {(relatedArticles || seriesArticle) && (\n          <ArticleCardsBlock {...this.props} color=\"white\" />\n        )}\n      </VideoLayoutContainer>\n    )\n  }\n}\n\nconst VideoLayoutContainer = styled.div`\n  background: black;\n  color: white;\n  margin: auto;\n\n  ${Nav} {\n    position: absolute;\n    top: 0;\n  }\n\n  ${VideoAboutContainer} {\n    margin: 60px 0 100px 0;\n  }\n\n  ${media.sm`\n    ${VideoAboutContainer} {\n      margin: 40px 0 100px 0;\n    }\n  `};\n`\n\nconst VideoPlayerContainer = styled.div`\n  position: relative;\n  width: 100vw;\n  height: 100vh;\n\n  ${VideoContainer} {\n    position: absolute;\n    top: 0;\n  }\n`\n"]}]}