{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Apps/Artist/Components/ArtistHeader.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Apps/Artist/Components/ArtistHeader.tsx","mtime":1537112679000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1537112679000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["var _dec, _class, _dec2, _dec3, _class2, _class3, _dec4, _dec5, _class4, _class5;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { Box, Flex, Image, Serif, Spacer } from \"@artsy/palette\";\nimport { track } from \"../../../Artsy/Analytics\";\nimport * as Schema from \"../../../Artsy/Analytics/Schema\";\nimport { ContextConsumer } from \"../../../Artsy/SystemContext\";\nimport FollowArtistButton from \"../../../Components/FollowButton/FollowArtistButton\";\nimport React, { Component, Fragment } from \"react\";\nimport { createFragmentContainer, graphql } from \"react-relay\";\nimport { Carousel } from \"../../../Styleguide/Components\";\nimport { Responsive } from \"../../../Utils/Responsive\";\nvar carouselSlideTrack = track;\nexport var ArtistHeader = (_dec = track(function (props) {\n  return {\n    context_module: \"Header\",\n    // TODO: Old schema for the Follow button\n    modelName: \"artist\",\n    entity_slug: props.artist.id,\n    entity_id: props.artist._id\n  };\n}), _dec(_class =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ArtistHeader, _Component);\n\n  function ArtistHeader() {\n    _classCallCheck(this, ArtistHeader);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ArtistHeader).apply(this, arguments));\n  }\n\n  _createClass(ArtistHeader, [{\n    key: \"render\",\n    value: function render() {\n      var props = this.props;\n      return React.createElement(ContextConsumer, null, function (_ref) {\n        var mediator = _ref.mediator,\n            user = _ref.user;\n        return React.createElement(Responsive, null, function (_ref2) {\n          var xs = _ref2.xs;\n\n          if (xs) {\n            return React.createElement(SmallArtistHeader, _extends({\n              mediator: mediator,\n              user: user\n            }, props));\n          } else {\n            return React.createElement(LargeArtistHeader, _extends({\n              mediator: mediator,\n              user: user\n            }, props));\n          }\n        });\n      });\n    }\n  }]);\n\n  return ArtistHeader;\n}(Component)) || _class);\nexport var LargeArtistHeader = (_dec2 = track(), _dec3 = carouselSlideTrack(function (_props, _state, _ref3) {\n  var _ref4 = _slicedToArray(_ref3, 1),\n      slide = _ref4[0];\n\n  return {\n    action_type: Schema.ActionType.Click,\n    // TODO: Or keep using ‘thumbnail’ as per old Force schema\n    subject: \"carouselSlide\",\n    // TODO: Are you sure this is no longer needed? Like, do we not need to\n    //       identify the specific slide?\n    destination_path: slide.href\n  };\n}), _dec2(_class2 = (_class3 =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(LargeArtistHeader, _Component2);\n\n  function LargeArtistHeader() {\n    _classCallCheck(this, LargeArtistHeader);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(LargeArtistHeader).apply(this, arguments));\n  }\n\n  _createClass(LargeArtistHeader, [{\n    key: \"onClickSlide\",\n    value: function onClickSlide(slide) {// no-op\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var props = this.props;\n      var carousel = props.artist.carousel,\n          user = props.user;\n      var hasImages = carousel && carousel.images;\n      return React.createElement(Box, {\n        width: \"100%\"\n      }, hasImages && React.createElement(Fragment, null, React.createElement(Carousel, {\n        height: 200,\n        data: carousel.images,\n        render: function render(slide) {\n          return React.createElement(\"a\", {\n            href: slide.href,\n            onClick: function onClick() {\n              return _this.onClickSlide(slide);\n            }\n          }, React.createElement(Image, {\n            px: 5,\n            src: slide.resized.url,\n            width: slide.resized.width,\n            height: slide.resized.height\n          }));\n        }\n      }), React.createElement(Spacer, {\n        my: 2\n      })), React.createElement(\"span\", {\n        id: \"jumpto-ArtistHeader\"\n      }), React.createElement(Flex, {\n        justifyContent: \"space-between\"\n      }, React.createElement(Box, null, React.createElement(Serif, {\n        size: \"10\"\n      }, props.artist.name), React.createElement(Flex, null, React.createElement(Serif, {\n        size: \"3\"\n      }, props.artist.nationality && \"\".concat(props.artist.nationality, \", \"), props.artist.years), React.createElement(Spacer, {\n        mr: 2\n      }), props.artist.counts.follows > 50 && React.createElement(Serif, {\n        size: \"3\"\n      }, props.artist.counts.follows.toLocaleString(), \" followers\"))), React.createElement(FollowArtistButton, {\n        useDeprecatedButtonStyle: false,\n        artist: props.artist,\n        buttonProps: {\n          width: \"100px\",\n          // FIXME: Hack to get around fixed with and centered text\n          paddingLeft: 0,\n          paddingRight: 0\n        },\n        user: user,\n        onOpenAuthModal: function onOpenAuthModal() {\n          props.mediator.trigger(\"open:auth\", {\n            mode: \"signup\",\n            copy: \"Sign up to follow \".concat(props.artist.name),\n            signupIntent: \"follow artist\",\n            afterSignUpAction: {\n              kind: \"artist\",\n              action: \"follow\",\n              objectId: props.artist.id\n            }\n          });\n        }\n      }, \"Follow\")));\n    }\n  }]);\n\n  return LargeArtistHeader;\n}(Component), (_applyDecoratedDescriptor(_class3.prototype, \"onClickSlide\", [_dec3], Object.getOwnPropertyDescriptor(_class3.prototype, \"onClickSlide\"), _class3.prototype)), _class3)) || _class2);\nexport var SmallArtistHeader = (_dec4 = track(), _dec5 = carouselSlideTrack(function (_props, _state, _ref5) {\n  var _ref6 = _slicedToArray(_ref5, 1),\n      slide = _ref6[0];\n\n  return {\n    action_type: Schema.ActionType.Click,\n    // TODO: Or keep using ‘thumbnail’ as per old Force schema\n    subject: \"carouselSlide\",\n    // TODO: Are you sure this is no longer needed? Like, do we not need to\n    //       identify the specific slide?\n    destination_path: slide.href\n  };\n}), _dec4(_class4 = (_class5 =\n/*#__PURE__*/\nfunction (_Component3) {\n  _inherits(SmallArtistHeader, _Component3);\n\n  function SmallArtistHeader() {\n    _classCallCheck(this, SmallArtistHeader);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SmallArtistHeader).apply(this, arguments));\n  }\n\n  _createClass(SmallArtistHeader, [{\n    key: \"onClickSlide\",\n    value: function onClickSlide(slide) {// no-op\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var props = this.props;\n      var carousel = props.artist.carousel,\n          user = props.user;\n      var hasImages = carousel && carousel.images;\n      return React.createElement(Flex, {\n        flexDirection: \"column\"\n      }, hasImages && React.createElement(Fragment, null, React.createElement(Carousel, {\n        data: carousel.images,\n        render: function render(slide) {\n          return React.createElement(\"a\", {\n            href: slide.href,\n            onClick: function onClick() {\n              return _this2.onClickSlide(slide);\n            }\n          }, React.createElement(Image, {\n            px: 5,\n            src: slide.resized.url,\n            width: slide.resized.width,\n            height: slide.resized.height\n          }));\n        }\n      }), React.createElement(Spacer, {\n        my: 2\n      })), React.createElement(\"span\", {\n        id: \"jumpto-ArtistHeader\"\n      }), React.createElement(Flex, {\n        flexDirection: \"column\",\n        alignItems: \"center\"\n      }, React.createElement(Serif, {\n        size: \"5\"\n      }, props.artist.name), React.createElement(Flex, null, React.createElement(Box, {\n        mx: 1\n      }, React.createElement(Serif, {\n        size: \"2\"\n      }, props.artist.nationality && \"\".concat(props.artist.nationality, \", \"), props.artist.years)), props.artist.counts.follows > 50 && React.createElement(Serif, {\n        size: \"2\"\n      }, props.artist.counts.follows.toLocaleString(), \" followers\"))), React.createElement(Box, {\n        my: 2\n      }, React.createElement(FollowArtistButton, {\n        artist: props.artist,\n        useDeprecatedButtonStyle: false,\n        buttonProps: {\n          width: \"100%\"\n        },\n        user: user,\n        onOpenAuthModal: function onOpenAuthModal() {\n          props.mediator.trigger(\"open:auth\", {\n            mode: \"signup\",\n            copy: \"Sign up to follow \".concat(props.artist.name),\n            signupIntent: \"follow artist\",\n            afterSignUpAction: {\n              kind: \"artist\",\n              action: \"follow\",\n              objectId: props.artist.id\n            }\n          });\n        }\n      }, \"Follow\")));\n    }\n  }]);\n\n  return SmallArtistHeader;\n}(Component), (_applyDecoratedDescriptor(_class5.prototype, \"onClickSlide\", [_dec5], Object.getOwnPropertyDescriptor(_class5.prototype, \"onClickSlide\"), _class5.prototype)), _class5)) || _class4);\nexport var ArtistHeaderFragmentContainer = createFragmentContainer(ArtistHeader, {\n  artist: function artist() {\n    var node = require(\"../../../__generated__/ArtistHeader_artist.graphql\");\n\n    if (node.hash && node.hash !== \"a554c80e5164862b396742ea12072a79\") {\n      console.error(\"The definition of 'ArtistHeader_artist' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\");\n    }\n\n    return require(\"../../../__generated__/ArtistHeader_artist.graphql\");\n  }\n});",{"version":3,"sources":["/Users/eve/development/reaction/src/Apps/Artist/Components/ArtistHeader.tsx"],"names":["Box","Flex","Image","Serif","Spacer","track","Schema","ContextConsumer","FollowArtistButton","React","Component","Fragment","createFragmentContainer","graphql","Carousel","Responsive","carouselSlideTrack","ArtistHeader","props","context_module","modelName","entity_slug","artist","id","entity_id","_id","mediator","user","xs","LargeArtistHeader","_props","_state","slide","action_type","ActionType","Click","subject","destination_path","href","carousel","hasImages","images","onClickSlide","resized","url","width","height","name","nationality","years","counts","follows","toLocaleString","paddingLeft","paddingRight","trigger","mode","copy","signupIntent","afterSignUpAction","kind","action","objectId","SmallArtistHeader","ArtistHeaderFragmentContainer"],"mappings":"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","sourcesContent":["import { Box, Flex, Image, Serif, Spacer } from \"@artsy/palette\"\nimport { ArtistHeader_artist } from \"__generated__/ArtistHeader_artist.graphql\"\nimport { track, Track } from \"Artsy/Analytics\"\nimport * as Schema from \"Artsy/Analytics/Schema\"\nimport { ContextConsumer } from \"Artsy/SystemContext\"\nimport FollowArtistButton from \"Components/FollowButton/FollowArtistButton\"\nimport React, { Component, Fragment } from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport { Carousel } from \"Styleguide/Components\"\nimport { Responsive } from \"Utils/Responsive\"\n\ninterface Props {\n  artist: ArtistHeader_artist\n  user?: User\n  mediator?: {\n    trigger: (action: string, config: object) => void\n  }\n}\n\ntype Image = Props[\"artist\"][\"carousel\"][\"images\"][0]\n\nconst carouselSlideTrack: Track<null, null, [Image]> = track\n\n@track<Props>(\n  props =>\n    ({\n      context_module: \"Header\",\n      // TODO: Old schema for the Follow button\n      modelName: \"artist\",\n      entity_slug: props.artist.id,\n      entity_id: props.artist._id,\n    } as Schema.ContextModule & Schema.Old)\n)\nexport class ArtistHeader extends Component<Props> {\n  render() {\n    const props = this.props\n    return (\n      <ContextConsumer>\n        {({ mediator, user }) => {\n          return (\n            <Responsive>\n              {({ xs }) => {\n                if (xs) {\n                  return (\n                    <SmallArtistHeader\n                      mediator={mediator}\n                      user={user}\n                      {...props}\n                    />\n                  )\n                } else {\n                  return (\n                    <LargeArtistHeader\n                      mediator={mediator}\n                      user={user}\n                      {...props}\n                    />\n                  )\n                }\n              }}\n            </Responsive>\n          )\n        }}\n      </ContextConsumer>\n    )\n  }\n}\n\n@track()\nexport class LargeArtistHeader extends Component<Props> {\n  @carouselSlideTrack((_props, _state, [slide]) => {\n    return {\n      action_type: Schema.ActionType.Click,\n      // TODO: Or keep using ‘thumbnail’ as per old Force schema\n      subject: \"carouselSlide\",\n      // TODO: Are you sure this is no longer needed? Like, do we not need to\n      //       identify the specific slide?\n      destination_path: slide.href,\n    }\n  })\n  onClickSlide(slide) {\n    // no-op\n  }\n\n  render() {\n    const { props } = this\n    const {\n      artist: { carousel },\n      user,\n    } = props\n\n    const hasImages = carousel && carousel.images\n\n    return (\n      <Box width=\"100%\">\n        {hasImages && (\n          <Fragment>\n            <Carousel\n              height={200}\n              data={carousel.images as object[]}\n              render={(slide: Image) => {\n                return (\n                  <a href={slide.href} onClick={() => this.onClickSlide(slide)}>\n                    <Image\n                      px={5}\n                      src={slide.resized.url}\n                      width={slide.resized.width}\n                      height={slide.resized.height}\n                    />\n                  </a>\n                )\n              }}\n            />\n            <Spacer my={2} />\n          </Fragment>\n        )}\n\n        <span id=\"jumpto-ArtistHeader\" />\n\n        <Flex justifyContent=\"space-between\">\n          <Box>\n            <Serif size=\"10\">{props.artist.name}</Serif>\n            <Flex>\n              <Serif size=\"3\">\n                {props.artist.nationality && `${props.artist.nationality}, `}\n                {props.artist.years}\n              </Serif>\n              <Spacer mr={2} />\n              {props.artist.counts.follows > 50 && (\n                <Serif size=\"3\">\n                  {props.artist.counts.follows.toLocaleString()} followers\n                </Serif>\n              )}\n            </Flex>\n          </Box>\n          <FollowArtistButton\n            useDeprecatedButtonStyle={false}\n            artist={props.artist}\n            buttonProps={\n              {\n                width: \"100px\",\n                // FIXME: Hack to get around fixed with and centered text\n                paddingLeft: 0,\n                paddingRight: 0,\n              } as any\n            }\n            user={user}\n            onOpenAuthModal={() => {\n              props.mediator.trigger(\"open:auth\", {\n                mode: \"signup\",\n                copy: `Sign up to follow ${props.artist.name}`,\n                signupIntent: \"follow artist\",\n                afterSignUpAction: {\n                  kind: \"artist\",\n                  action: \"follow\",\n                  objectId: props.artist.id,\n                },\n              })\n            }}\n          >\n            Follow\n          </FollowArtistButton>\n        </Flex>\n      </Box>\n    )\n  }\n}\n\n@track()\nexport class SmallArtistHeader extends Component<Props> {\n  @carouselSlideTrack((_props, _state, [slide]) => {\n    return {\n      action_type: Schema.ActionType.Click,\n      // TODO: Or keep using ‘thumbnail’ as per old Force schema\n      subject: \"carouselSlide\",\n      // TODO: Are you sure this is no longer needed? Like, do we not need to\n      //       identify the specific slide?\n      destination_path: slide.href,\n    }\n  })\n  onClickSlide(slide) {\n    // no-op\n  }\n\n  render() {\n    const props = this.props\n    const {\n      artist: { carousel },\n      user,\n    } = props\n\n    const hasImages = carousel && carousel.images\n\n    return (\n      <Flex flexDirection=\"column\">\n        {hasImages && (\n          <Fragment>\n            <Carousel\n              data={carousel.images as object[]}\n              render={slide => {\n                return (\n                  <a href={slide.href} onClick={() => this.onClickSlide(slide)}>\n                    <Image\n                      px={5}\n                      src={slide.resized.url}\n                      width={slide.resized.width}\n                      height={slide.resized.height}\n                    />\n                  </a>\n                )\n              }}\n            />\n            <Spacer my={2} />\n          </Fragment>\n        )}\n\n        <span id=\"jumpto-ArtistHeader\" />\n        <Flex flexDirection=\"column\" alignItems=\"center\">\n          <Serif size=\"5\">{props.artist.name}</Serif>\n          <Flex>\n            <Box mx={1}>\n              <Serif size=\"2\">\n                {props.artist.nationality && `${props.artist.nationality}, `}\n                {props.artist.years}\n              </Serif>\n            </Box>\n            {props.artist.counts.follows > 50 && (\n              <Serif size=\"2\">\n                {props.artist.counts.follows.toLocaleString()} followers\n              </Serif>\n            )}\n          </Flex>\n        </Flex>\n        <Box my={2}>\n          <FollowArtistButton\n            artist={props.artist}\n            useDeprecatedButtonStyle={false}\n            buttonProps={{ width: \"100%\" }}\n            user={user}\n            onOpenAuthModal={() => {\n              props.mediator.trigger(\"open:auth\", {\n                mode: \"signup\",\n                copy: `Sign up to follow ${props.artist.name}`,\n                signupIntent: \"follow artist\",\n                afterSignUpAction: {\n                  kind: \"artist\",\n                  action: \"follow\",\n                  objectId: props.artist.id,\n                },\n              })\n            }}\n          >\n            Follow\n          </FollowArtistButton>\n        </Box>\n      </Flex>\n    )\n  }\n}\n\nexport const ArtistHeaderFragmentContainer = createFragmentContainer(\n  ArtistHeader,\n  graphql`\n    fragment ArtistHeader_artist on Artist {\n      _id\n      id\n      name\n      nationality\n      years\n      counts {\n        follows\n      }\n      carousel {\n        images {\n          href\n          resized(height: 300) {\n            url\n            width\n            height\n          }\n        }\n      }\n      ...FollowArtistButton_artist\n    }\n  `\n)\n"]}]}