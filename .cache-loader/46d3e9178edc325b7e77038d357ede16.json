{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--5-1!/Users/eve/development/reaction/src/Components/Publishing/Sections/ImageSetPreviewClassic.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/Sections/ImageSetPreviewClassic.tsx","mtime":1524678459000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1527877289000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ImageSetPreviewClassic = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _resizer = require(\"../../../Utils/resizer\");\n\nvar _Fonts = require(\"../../../Assets/Fonts\");\n\nvar _IconImageSet = require(\"../Icon/IconImageSet\");\n\nvar _templateObject = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n  position: absolute;\\n  left: \", \";\\n  top: 14px;\\n\"], [\"\\n  position: absolute;\\n  left: \", \";\\n  top: 14px;\\n\"]);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Wrapper =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"ImageSetPreviewClassic__Wrapper\",\n  componentId: \"s1euixc4-0\"\n})([\"max-width:580px;width:100%;height:150px;display:flex;\"]);\n\nvar Text =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"ImageSetPreviewClassic__Text\",\n  componentId: \"s1euixc4-1\"\n})([\"\", \";line-height:1.35em;margin:0;\"], (0, _Fonts.avantgarde)(\"s11\"));\n\nvar Remaining =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"ImageSetPreviewClassic__Remaining\",\n  componentId: \"s1euixc4-2\"\n})([\"min-width:50px;padding:10px;flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;border:1px solid #e5e5e5;text-align:center;\"]);\n\nvar IconContainer =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"ImageSetPreviewClassic__IconContainer\",\n  componentId: \"s1euixc4-3\"\n})([\"width:32px;margin-bottom:10px;position:relative;\"]);\n\nvar container = 560;\nvar containerHeight = 150;\nvar iconContainer = 50;\nvar margin = 10;\n\nvar ImageSetPreviewClassic =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ImageSetPreviewClassic, _Component);\n\n  function ImageSetPreviewClassic(props) {\n    var _this;\n\n    _classCallCheck(this, ImageSetPreviewClassic);\n\n    _this = _possibleConstructorReturn(this, (ImageSetPreviewClassic.__proto__ || Object.getPrototypeOf(ImageSetPreviewClassic)).call(this, props));\n    _this.state = {\n      visibleImages: _this.getVisibleImages(_this.props.images)\n    };\n    return _this;\n  }\n\n  _createClass(ImageSetPreviewClassic, [{\n    key: \"getVisibleImages\",\n    value: function getVisibleImages(images) {\n      var widths = [];\n      var hidden = 0;\n      images.map(function (item, i) {\n        var adjustedWidth = containerHeight * item.width / item.height;\n        widths.push(adjustedWidth);\n        var total = widths.reduce(function (a, b) {\n          return a + b;\n        }, 0);\n        var margins = widths.length * margin;\n\n        if (total + margins + iconContainer > container) {\n          hidden = hidden + 1;\n        }\n      });\n      return widths.length - hidden;\n    }\n  }, {\n    key: \"renderImages\",\n    value: function renderImages(images) {\n      var _this2 = this;\n\n      var items = images.slice(0, 4).map(function (item, i) {\n        var src = (0, _resizer.resize)(item.image || item.url || \"\", {\n          width: 500\n        });\n        var alt = item.caption ? item.caption.replace(/<[^>]*>/g, \"\") : item.title || \"\";\n\n        if (i < _this2.state.visibleImages) {\n          return _react.default.createElement(\"img\", {\n            key: \"imageset-\" + i,\n            src: src,\n            height: containerHeight,\n            className: \"imageset-preview__image\",\n            style: {\n              marginRight: margin\n            },\n            alt: alt\n          });\n        }\n      }, this);\n      return items;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var images = this.props.images;\n      return _react.default.createElement(Wrapper, {\n        className: \"imageset-preview\"\n      }, _react.default.createElement(\"div\", {\n        className: \"imageset-preview__container\",\n        style: {\n          display: \"flex\"\n        }\n      }, this.renderImages(images)), _react.default.createElement(Remaining, {\n        className: \"imageset-preview__remaining\"\n      }, _react.default.createElement(IconContainer, {\n        className: \"imageset-preview__icon-container\"\n      }, _react.default.createElement(_IconImageSet.IconImageSet, null), _react.default.createElement(Length, {\n        className: \"imageset-preview__length\",\n        imgLength: images.length\n      }, _react.default.createElement(Text, null, images.length))), _react.default.createElement(Text, {\n        className: \"imageset-preview__text\"\n      }, \"Enter Slideshow\")));\n    }\n  }]);\n\n  return ImageSetPreviewClassic;\n}(_react.Component);\n\nexports.ImageSetPreviewClassic = ImageSetPreviewClassic;\nvar Div = _styledComponents.default.div;\nvar Length = Div(_templateObject, function (props) {\n  return props.imgLength > 9 ? \"4px\" : \"8px\";\n});",{"version":3,"sources":["src/Components/Publishing/Sections/ImageSetPreviewClassic.tsx"],"names":["Wrapper","div","Text","Remaining","IconContainer","container","containerHeight","iconContainer","margin","ImageSetPreviewClassic","props","state","visibleImages","getVisibleImages","images","widths","hidden","map","item","i","adjustedWidth","width","height","push","total","reduce","a","b","margins","length","items","slice","src","image","url","alt","caption","replace","title","marginRight","display","renderImages","Div","Length","imgLength"],"mappings":"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","file":"/Users/eve/development/reaction/src/Components/Publishing/Sections/ImageSetPreviewClassic.tsx","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import React, { Component } from \"react\"\nimport styled, { StyledFunction } from \"styled-components\"\nimport { resize } from \"../../../Utils/resizer\"\nimport { avantgarde } from \"Assets/Fonts\"\nimport { IconImageSet } from \"../Icon/IconImageSet\"\n\ninterface LengthProps extends React.HTMLProps<HTMLDivElement> {\n  imgLength: number\n}\n\nconst Wrapper = styled.div`\n  max-width: 580px;\n  width: 100%;\n  height: 150px;\n  display: flex;\n`\nconst Text = styled.div`\n  ${avantgarde(\"s11\")};\n  line-height: 1.35em;\n  margin: 0;\n`\nconst Remaining = styled.div`\n  min-width: 50px;\n  padding: 10px;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid #e5e5e5;\n  text-align: center;\n`\nconst IconContainer = styled.div`\n  width: 32px;\n  margin-bottom: 10px;\n  position: relative;\n`\nconst container = 560\nconst containerHeight = 150\nconst iconContainer = 50\nconst margin = 10\n\nexport class ImageSetPreviewClassic extends Component<any, any> {\n  constructor(props) {\n    super(props)\n    this.state = {\n      visibleImages: this.getVisibleImages(this.props.images),\n    }\n  }\n\n  getVisibleImages(images) {\n    let widths = []\n    let hidden = 0\n    images.map((item, i) => {\n      const adjustedWidth = containerHeight * item.width / item.height\n      widths.push(adjustedWidth)\n      const total = widths.reduce((a, b) => a + b, 0)\n      const margins = widths.length * margin\n      if (total + margins + iconContainer > container) {\n        hidden = hidden + 1\n      }\n    })\n    return widths.length - hidden\n  }\n\n  renderImages(images) {\n    const items = images.slice(0, 4).map((item, i) => {\n      const src = resize(item.image || item.url || \"\", { width: 500 })\n      const alt = item.caption\n        ? item.caption.replace(/<[^>]*>/g, \"\")\n        : item.title || \"\"\n      if (i < this.state.visibleImages) {\n        return (\n          <img\n            key={\"imageset-\" + i}\n            src={src}\n            height={containerHeight}\n            className=\"imageset-preview__image\"\n            style={{ marginRight: margin }}\n            alt={alt}\n          />\n        )\n      }\n    }, this)\n    return items\n  }\n\n  render() {\n    const { images } = this.props\n\n    return (\n      <Wrapper className=\"imageset-preview\">\n        <div\n          className=\"imageset-preview__container\"\n          style={{ display: \"flex\" }}\n        >\n          {this.renderImages(images)}\n        </div>\n        <Remaining className=\"imageset-preview__remaining\">\n          <IconContainer className=\"imageset-preview__icon-container\">\n            <IconImageSet />\n            <Length\n              className=\"imageset-preview__length\"\n              imgLength={images.length}\n            >\n              <Text>{images.length}</Text>\n            </Length>\n          </IconContainer>\n          <Text className=\"imageset-preview__text\">Enter Slideshow</Text>\n        </Remaining>\n      </Wrapper>\n    )\n  }\n}\n\nconst Div: StyledFunction<LengthProps> = styled.div\nconst Length = Div`\n  position: absolute;\n  left: ${props => (props.imgLength > 9 ? \"4px\" : \"8px\")};\n  top: 14px;\n`\n"]}]}