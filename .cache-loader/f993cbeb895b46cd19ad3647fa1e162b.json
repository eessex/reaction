{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--5-1!/Users/eve/development/reaction/src/Components/Publishing/ToolTip/GeneToolTip.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/ToolTip/GeneToolTip.tsx","mtime":1527880397000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1527877289000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GeneToolTipContainer = exports.ToolTipFooter = exports.GeneContainer = exports.GeneToolTip = void 0;\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactRelay = require(\"react-relay\");\n\nvar _Fonts = require(\"../../../Assets/Fonts\");\n\nvar _Constants = require(\"../Constants\");\n\nvar _track = require(\"../../../Utils/track\");\n\nvar _NewFeature = require(\"./Components/NewFeature\");\n\nvar _Description = require(\"./Components/Description\");\n\nvar _FollowGeneButton = _interopRequireDefault(require(\"../../FollowButton/FollowGeneButton\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nvar GeneToolTip =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(GeneToolTip, _React$Component);\n\n  function GeneToolTip() {\n    var _ref;\n\n    var _temp, _this;\n\n    _classCallCheck(this, GeneToolTip);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _possibleConstructorReturn(_this, (_temp = _this = _possibleConstructorReturn(this, (_ref = GeneToolTip.__proto__ || Object.getPrototypeOf(GeneToolTip)).call.apply(_ref, [this].concat(args))), Object.defineProperty(_assertThisInitialized(_this), \"trackClick\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value() {\n        var tracking = _this.props.tracking;\n        var href = _this.props.gene.href;\n        tracking.trackEvent({\n          action: \"Click\",\n          flow: \"tooltip\",\n          type: \"gene stub\",\n          context_module: \"intext tooltip\",\n          destination_path: href\n        });\n      }\n    }), _temp));\n  }\n\n  _createClass(GeneToolTip, [{\n    key: \"render\",\n    value: function render() {\n      var _props$gene = this.props.gene,\n          description = _props$gene.description,\n          href = _props$gene.href,\n          id = _props$gene.id,\n          _id = _props$gene._id,\n          image = _props$gene.image,\n          name = _props$gene.name;\n      var url = image.url;\n      var _context = this.context,\n          genes = _context.toolTipsData.genes,\n          onOpenAuthModal = _context.onOpenAuthModal;\n      var trackingData = {\n        context_module: \"tooltip\",\n        entity_id: _id,\n        entity_slug: id,\n        entity_type: \"gene\"\n      };\n      return _react.default.createElement(Wrapper, null, _react.default.createElement(GeneContainer, {\n        href: (0, _Constants.getFullArtsyHref)(href),\n        target: \"_blank\",\n        onClick: this.trackClick\n      }, url && _react.default.createElement(Image, {\n        src: url\n      }), _react.default.createElement(Title, null, name), description && _react.default.createElement(_Description.ToolTipDescription, {\n        text: description\n      })), _react.default.createElement(ToolTipFooter, null, _react.default.createElement(_FollowGeneButton.default, {\n        gene: genes[id],\n        trackingData: trackingData,\n        onOpenAuthModal: onOpenAuthModal\n      }), _react.default.createElement(_NewFeature.NewFeature, null)));\n    }\n  }]);\n\n  return GeneToolTip;\n}(_react.default.Component);\n\nexports.GeneToolTip = GeneToolTip;\nObject.defineProperty(GeneToolTip, \"contextTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    toolTipsData: _propTypes.default.object,\n    onOpenAuthModal: _propTypes.default.func\n  }\n});\n\nvar Wrapper =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"GeneToolTip__Wrapper\",\n  componentId: \"s1432jq7-0\"\n})([\"width:240px;a:hover{color:black;}\"]);\n\nvar GeneContainer =\n/*#__PURE__*/\n_styledComponents.default.a.withConfig({\n  displayName: \"GeneToolTip__GeneContainer\",\n  componentId: \"s1432jq7-1\"\n})([\"position:relative;text-decoration:none;color:black;padding-bottom:10px;\"]);\n\nexports.GeneContainer = GeneContainer;\n\nvar Title =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"GeneToolTip__Title\",\n  componentId: \"s1432jq7-2\"\n})([\"\", \";font-weight:600;padding-bottom:10px;\"], (0, _Fonts.garamond)(\"s18\"));\n\nvar Image =\n/*#__PURE__*/\n_styledComponents.default.img.withConfig({\n  displayName: \"GeneToolTip__Image\",\n  componentId: \"s1432jq7-3\"\n})([\"width:100%;padding-bottom:10px;max-height:160px;object-fit:cover;\"]);\n\nvar ToolTipFooter =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"GeneToolTip__ToolTipFooter\",\n  componentId: \"s1432jq7-4\"\n})([\"display:flex;justify-content:space-between;align-items:center;\", \"{display:flex;flex-direction:column;}\"], _NewFeature.NewFeatureContainer);\n\nexports.ToolTipFooter = ToolTipFooter;\nvar GeneToolTipContainer = (0, _track.track)()((0, _reactRelay.createFragmentContainer)(GeneToolTip, {\n  gene: function gene() {\n    var node = require(\"../../../__generated__/GeneToolTip_gene.graphql\");\n\n    if (node.hash && node.hash !== \"e4df0664535bb18b36a35439157de4ce\") {\n      console.error(\"The definition of 'GeneToolTip_gene' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\");\n    }\n\n    return require(\"../../../__generated__/GeneToolTip_gene.graphql\");\n  }\n}));\nexports.GeneToolTipContainer = GeneToolTipContainer;",{"version":3,"sources":["src/Components/Publishing/ToolTip/GeneToolTip.tsx"],"names":["GeneToolTip","tracking","props","href","gene","trackEvent","action","flow","type","context_module","destination_path","description","id","_id","image","name","url","context","genes","toolTipsData","onOpenAuthModal","trackingData","entity_id","entity_slug","entity_type","trackClick","Component","object","func","Wrapper","div","GeneContainer","a","Title","Image","img","ToolTipFooter","GeneToolTipContainer"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAGA;;AACA;;AACA;;;;;;;;;;;;;;;;;;IAOaA,W;;;;;;;;;;;;;;;;;;;;aAME,iBAAM;AAAA,YACTC,QADS,GACI,MAAKC,KADT,CACTD,QADS;AAAA,YAETE,IAFS,GAEA,MAAKD,KAAL,CAAWE,IAFX,CAETD,IAFS;AAIjBF,iBAASI,UAAT,CAAoB;AAClBC,kBAAQ,OADU;AAElBC,gBAAM,SAFY;AAGlBC,gBAAM,WAHY;AAIlBC,0BAAgB,gBAJE;AAKlBC,4BAAkBP;AALA,SAApB;AAOD;;;;;;6BAEQ;AAAA,wBAC6C,KAAKD,KAAL,CAAWE,IADxD;AAAA,UACCO,WADD,eACCA,WADD;AAAA,UACcR,IADd,eACcA,IADd;AAAA,UACoBS,EADpB,eACoBA,EADpB;AAAA,UACwBC,GADxB,eACwBA,GADxB;AAAA,UAC6BC,KAD7B,eAC6BA,KAD7B;AAAA,UACoCC,IADpC,eACoCA,IADpC;AAAA,UAECC,GAFD,GAESF,KAFT,CAECE,GAFD;AAAA,qBAMH,KAAKC,OANF;AAAA,UAIWC,KAJX,YAILC,YAJK,CAIWD,KAJX;AAAA,UAKLE,eALK,YAKLA,eALK;AAQP,UAAMC,eAAmC;AACvCZ,wBAAgB,SADuB;AAEvCa,mBAAWT,GAF4B;AAGvCU,qBAAaX,EAH0B;AAIvCY,qBAAa;AAJ0B,OAAzC;AAOA,aACE,6BAAC,OAAD,QACE,6BAAC,aAAD;AACE,cAAM,iCAAiBrB,IAAjB,CADR;AAEE,gBAAO,QAFT;AAGE,iBAAS,KAAKsB;AAHhB,SAKGT,OAAO,6BAAC,KAAD;AAAO,aAAKA;AAAZ,QALV,EAME,6BAAC,KAAD,QAAQD,IAAR,CANF,EAQGJ,eAAe;AAAoB,cAAMA;AAA1B,QARlB,CADF,EAYE,6BAAC,aAAD,QACE;AACE,cAAMO,MAAMN,EAAN,CADR;AAEE,sBAAcS,YAFhB;AAGE,yBAAiBD;AAHnB,QADF,EAME,0DANF,CAZF,CADF;AAuBD;;;;EAzD8B,eAAMM,S;;;sBAA1B1B,W;;;;SACW;AACpBmB,kBAAc,mBAAUQ,MADJ;AAEpBP,qBAAiB,mBAAUQ;AAFP;;;AA2DxB,IAAMC;AAAA;AAAU,0BAAOC,GAAjB;AAAA;AAAA;AAAA,yCAAN;;AAOO,IAAMC;AAAA;AAAgB,0BAAOC,CAAvB;AAAA;AAAA;AAAA,+EAAN;;;;AAOP,IAAMC;AAAA;AAAQ,0BAAOH,GAAf;AAAA;AAAA;AAAA,kDACF,qBAAS,KAAT,CADE,CAAN;;AAMA,IAAMI;AAAA;AAAQ,0BAAOC,GAAf;AAAA;AAAA;AAAA,yEAAN;;AAOO,IAAMC;AAAA;AAAgB,0BAAON,GAAvB;AAAA;AAAA;AAAA,gJAAN;;;AAUA,IAAMO,uBAAuB,oBAClC,yCACErC,WADF;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,EADkC,CAA7B","file":"/Users/eve/development/reaction/src/Components/Publishing/ToolTip/GeneToolTip.tsx","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import styled from \"styled-components\"\nimport PropTypes from \"prop-types\"\nimport React from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport { garamond } from \"Assets/Fonts\"\nimport { getFullArtsyHref } from \"../Constants\"\nimport { track } from \"../../../Utils/track\"\nimport { FollowTrackingData } from \"../../FollowButton/Typings\"\nimport { GeneToolTip_gene } from \"../../../__generated__/GeneToolTip_gene.graphql\"\nimport { NewFeature, NewFeatureContainer } from \"./Components/NewFeature\"\nimport { ToolTipDescription } from \"./Components/Description\"\nimport FollowGeneButton from \"../../FollowButton/FollowGeneButton\"\n\nexport interface GeneProps {\n  gene: GeneToolTip_gene\n  tracking?: any\n}\n\nexport class GeneToolTip extends React.Component<GeneProps> {\n  static contextTypes = {\n    toolTipsData: PropTypes.object,\n    onOpenAuthModal: PropTypes.func,\n  }\n\n  trackClick = () => {\n    const { tracking } = this.props\n    const { href } = this.props.gene\n\n    tracking.trackEvent({\n      action: \"Click\",\n      flow: \"tooltip\",\n      type: \"gene stub\",\n      context_module: \"intext tooltip\",\n      destination_path: href,\n    })\n  }\n\n  render() {\n    const { description, href, id, _id, image, name } = this.props.gene\n    const { url } = image\n    const {\n      toolTipsData: { genes },\n      onOpenAuthModal,\n    } = this.context\n\n    const trackingData: FollowTrackingData = {\n      context_module: \"tooltip\",\n      entity_id: _id,\n      entity_slug: id,\n      entity_type: \"gene\",\n    }\n\n    return (\n      <Wrapper>\n        <GeneContainer\n          href={getFullArtsyHref(href)}\n          target=\"_blank\"\n          onClick={this.trackClick}\n        >\n          {url && <Image src={url} />}\n          <Title>{name}</Title>\n\n          {description && <ToolTipDescription text={description} />}\n        </GeneContainer>\n\n        <ToolTipFooter>\n          <FollowGeneButton\n            gene={genes[id] as any}\n            trackingData={trackingData}\n            onOpenAuthModal={onOpenAuthModal}\n          />\n          <NewFeature />\n        </ToolTipFooter>\n      </Wrapper>\n    )\n  }\n}\n\nconst Wrapper = styled.div`\n  width: 240px;\n  a:hover {\n    color: black;\n  }\n`\n\nexport const GeneContainer = styled.a`\n  position: relative;\n  text-decoration: none;\n  color: black;\n  padding-bottom: 10px;\n`\n\nconst Title = styled.div`\n  ${garamond(\"s18\")};\n  font-weight: 600;\n  padding-bottom: 10px;\n`\n\nconst Image = styled.img`\n  width: 100%;\n  padding-bottom: 10px;\n  max-height: 160px;\n  object-fit: cover;\n`\n\nexport const ToolTipFooter = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  ${NewFeatureContainer} {\n    display: flex;\n    flex-direction: column;\n  }\n`\n\nexport const GeneToolTipContainer = track()(\n  createFragmentContainer(\n    GeneToolTip,\n    graphql`\n      fragment GeneToolTip_gene on Gene {\n        description\n        href\n        id\n        _id\n        image {\n          url(version: \"tall\")\n        }\n        name\n      }\n    `\n  )\n)\n"]}]}