{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Apps/Artist/Routes/AuctionResults/ArtistAuctionResultItem.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Apps/Artist/Routes/AuctionResults/ArtistAuctionResultItem.tsx","mtime":1537112679000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1537112679000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { ContextConsumer } from \"../../../../Artsy\";\nimport React, { Component } from \"react\";\nimport { createFragmentContainer, graphql } from \"react-relay\";\nimport styled from \"styled-components\";\nimport { Col, Row } from \"../../../../Styleguide/Elements/Grid\";\nimport { Subscribe } from \"unstated\";\nimport { Responsive } from \"../../../../Utils/Responsive\";\nimport { AuctionResultsState } from \"./state\";\nimport { Box, Button, Flex, Image, Separator, Serif, Spacer } from \"@artsy/palette\";\nexport var ArtistAuctionResultItem =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ArtistAuctionResultItem, _Component);\n\n  function ArtistAuctionResultItem() {\n    _classCallCheck(this, ArtistAuctionResultItem);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ArtistAuctionResultItem).apply(this, arguments));\n  }\n\n  _createClass(ArtistAuctionResultItem, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var lastChild = this.props.lastChild;\n      return React.createElement(ContextConsumer, null, function (_ref) {\n        var user = _ref.user,\n            mediator = _ref.mediator;\n        return React.createElement(Row, null, React.createElement(Responsive, null, function (_ref2) {\n          var xs = _ref2.xs,\n              sm = _ref2.sm,\n              md = _ref2.md;\n\n          if (xs) {\n            return React.createElement(ExtraSmallAuctionItem, _extends({}, _this.props, {\n              mediator: mediator,\n              user: user\n            }));\n          } else if (sm || md) {\n            return React.createElement(SmallAuctionItem, _extends({}, _this.props, {\n              mediator: mediator,\n              user: user\n            }));\n          } else {\n            return React.createElement(LargeAuctionItem, _extends({}, _this.props, {\n              mediator: mediator,\n              user: user\n            }));\n          }\n        }), React.createElement(Col, null, React.createElement(Box, {\n          pt: 2,\n          pb: 1\n        }, !lastChild && React.createElement(Separator, null))));\n      });\n    }\n  }]);\n\n  return ArtistAuctionResultItem;\n}(Component);\n\nvar LargeAuctionItem =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LargeAuctionItem, _React$Component);\n\n  function LargeAuctionItem() {\n    _classCallCheck(this, LargeAuctionItem);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(LargeAuctionItem).apply(this, arguments));\n  }\n\n  _createClass(LargeAuctionItem, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _getProps = getProps(this.props),\n          _getProps$auctionResu = _getProps.auctionResult,\n          dimension_text = _getProps$auctionResu.dimension_text,\n          images = _getProps$auctionResu.images,\n          date_text = _getProps$auctionResu.date_text,\n          organization = _getProps$auctionResu.organization,\n          sale_date_text = _getProps$auctionResu.sale_date_text,\n          title = _getProps$auctionResu.title,\n          salePrice = _getProps.salePrice,\n          truncatedDescription = _getProps.truncatedDescription,\n          estimatedPrice = _getProps.estimatedPrice;\n\n      return React.createElement(Subscribe, {\n        to: [AuctionResultsState]\n      }, function (_ref3) {\n        var state = _ref3.state,\n            showDetailsModal = _ref3.showDetailsModal;\n        return React.createElement(React.Fragment, null, React.createElement(Col, {\n          sm: 1\n        }, React.createElement(Box, {\n          height: \"auto\",\n          pr: 2\n        }, React.createElement(Image, {\n          width: \"70px\",\n          src: images.thumbnail.url\n        }))), React.createElement(Col, {\n          sm: 4\n        }, React.createElement(Box, {\n          pl: 1,\n          pr: 6\n        }, React.createElement(Serif, {\n          size: \"2\",\n          italic: true\n        }, title && title + \",\", date_text), React.createElement(Serif, {\n          size: \"2\"\n        }, dimension_text), React.createElement(Spacer, {\n          pt: 1\n        }), React.createElement(Serif, {\n          size: \"1\",\n          color: \"black60\"\n        }, truncatedDescription))), React.createElement(Col, {\n          sm: 3\n        }, React.createElement(Box, {\n          pr: 2\n        }, React.createElement(Serif, {\n          size: \"2\"\n        }, organization), React.createElement(Serif, {\n          size: \"2\",\n          color: \"black60\"\n        }, sale_date_text), React.createElement(Serif, {\n          size: \"2\",\n          color: \"black60\"\n        }, React.createElement(FullDescriptionLink, {\n          onClick: function onClick() {\n            return showDetailsModal(_this2.props);\n          }\n        }, \"Full description\")))), React.createElement(Col, {\n          sm: 4\n        }, renderPricing(salePrice, estimatedPrice, _this2.props.user, _this2.props.mediator, \"lg\")));\n      });\n    }\n  }]);\n\n  return LargeAuctionItem;\n}(React.Component);\n\nvar SmallAuctionItem =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(SmallAuctionItem, _React$Component2);\n\n  function SmallAuctionItem() {\n    _classCallCheck(this, SmallAuctionItem);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SmallAuctionItem).apply(this, arguments));\n  }\n\n  _createClass(SmallAuctionItem, [{\n    key: \"render\",\n    value: function render() {\n      var _getProps2 = getProps(this.props),\n          _getProps2$auctionRes = _getProps2.auctionResult,\n          dimension_text = _getProps2$auctionRes.dimension_text,\n          images = _getProps2$auctionRes.images,\n          date_text = _getProps2$auctionRes.date_text,\n          title = _getProps2$auctionRes.title,\n          salePrice = _getProps2.salePrice,\n          truncatedDescription = _getProps2.truncatedDescription,\n          estimatedPrice = _getProps2.estimatedPrice;\n\n      return React.createElement(React.Fragment, null, React.createElement(Col, {\n        sm: 6\n      }, React.createElement(Flex, null, React.createElement(Box, {\n        height: \"auto\"\n      }, React.createElement(Image, {\n        width: \"70px\",\n        src: images.thumbnail.url\n      })), React.createElement(Spacer, {\n        mr: 2\n      }), React.createElement(Box, {\n        pr: 4\n      }, React.createElement(Serif, {\n        size: \"2\",\n        italic: true\n      }, title && title + \",\", date_text), React.createElement(Serif, {\n        size: \"2\"\n      }, dimension_text), React.createElement(Spacer, {\n        pt: 1\n      }), React.createElement(Serif, {\n        size: \"1\",\n        color: \"black60\"\n      }, truncatedDescription)))), React.createElement(Col, {\n        sm: 6\n      }, renderPricing(salePrice, estimatedPrice, this.props.user, this.props.mediator, \"sm\")));\n    }\n  }]);\n\n  return SmallAuctionItem;\n}(React.Component);\n\nvar ExtraSmallAuctionItem =\n/*#__PURE__*/\nfunction (_React$Component3) {\n  _inherits(ExtraSmallAuctionItem, _React$Component3);\n\n  function ExtraSmallAuctionItem() {\n    _classCallCheck(this, ExtraSmallAuctionItem);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ExtraSmallAuctionItem).apply(this, arguments));\n  }\n\n  _createClass(ExtraSmallAuctionItem, [{\n    key: \"render\",\n    value: function render() {\n      var _getProps3 = getProps(this.props),\n          _getProps3$auctionRes = _getProps3.auctionResult,\n          dimension_text = _getProps3$auctionRes.dimension_text,\n          images = _getProps3$auctionRes.images,\n          date_text = _getProps3$auctionRes.date_text,\n          organization = _getProps3$auctionRes.organization,\n          sale_date_text = _getProps3$auctionRes.sale_date_text,\n          title = _getProps3$auctionRes.title,\n          salePrice = _getProps3.salePrice,\n          estimatedPrice = _getProps3.estimatedPrice;\n\n      return React.createElement(React.Fragment, null, React.createElement(Col, null, React.createElement(Flex, null, React.createElement(Box, {\n        height: \"auto\"\n      }, React.createElement(Image, {\n        width: \"70px\",\n        src: images.thumbnail.url\n      })), React.createElement(Spacer, {\n        mr: 2\n      }), React.createElement(Box, null, React.createElement(Serif, {\n        size: \"2\",\n        italic: true\n      }, title && title + \",\", date_text), React.createElement(Serif, {\n        size: \"2\"\n      }, dimension_text), React.createElement(Spacer, {\n        pb: 1\n      }), React.createElement(Serif, {\n        size: \"2\"\n      }, organization), React.createElement(Serif, {\n        size: \"2\",\n        color: \"black60\"\n      }, sale_date_text), React.createElement(Spacer, {\n        pb: 1\n      }), renderPricing(salePrice, estimatedPrice, this.props.user, this.props.mediator, \"xs\")))));\n    }\n  }]);\n\n  return ExtraSmallAuctionItem;\n}(React.Component);\n\nexport var AuctionResultItemFragmentContainer = createFragmentContainer(ArtistAuctionResultItem, {\n  auctionResult: function auctionResult() {\n    var node = require(\"../../../../__generated__/ArtistAuctionResultItem_auctionResult.graphql\");\n\n    if (node.hash && node.hash !== \"e39f2dfa5fe24995539e0e0324ac20be\") {\n      console.error(\"The definition of 'ArtistAuctionResultItem_auctionResult' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\");\n    }\n\n    return require(\"../../../../__generated__/ArtistAuctionResultItem_auctionResult.graphql\");\n  }\n});\nvar FullDescriptionLink = styled.span.withConfig({\n  displayName: \"ArtistAuctionResultItem__FullDescriptionLink\",\n  componentId: \"s1qozowi-0\"\n})([\"cursor:pointer;text-decoration:underline;\"]); // Helpers\n\nvar getSalePrice = function getSalePrice(price_realized) {\n  var salePrice = price_realized.cents_usd === 0 ? null : price_realized.display;\n  return salePrice;\n};\n\nvar getDescription = function getDescription(fullDescription) {\n  var truncatedDescription;\n\n  if (fullDescription) {\n    truncatedDescription = fullDescription.substr(0, 200);\n    return truncatedDescription + \"...\";\n  }\n\n  return truncatedDescription;\n};\n\nvar getProps = function getProps(props) {\n  var _props$auctionResult = props.auctionResult,\n      description = _props$auctionResult.description,\n      estimate = _props$auctionResult.estimate,\n      price_realized = _props$auctionResult.price_realized;\n  var salePrice = getSalePrice(price_realized);\n  var truncatedDescription = getDescription(description);\n  var estimatedPrice = estimate.display;\n  return _objectSpread({}, props, {\n    salePrice: salePrice,\n    truncatedDescription: truncatedDescription,\n    estimatedPrice: estimatedPrice\n  });\n};\n\nvar renderPricing = function renderPricing(salePrice, estimatedPrice, user, mediator, size) {\n  if (user) {\n    return React.createElement(React.Fragment, null, salePrice && React.createElement(Serif, {\n      size: \"2\"\n    }, \"Sale: \".concat(salePrice)), estimatedPrice && React.createElement(Serif, {\n      size: \"2\",\n      color: \"black60\"\n    }, \"Est: \", estimatedPrice));\n  } else {\n    var btnSize = size === \"xs\" || \"sm\" ? \"small\" : \"large\";\n    return React.createElement(Button, {\n      size: btnSize,\n      variant: \"secondaryOutline\",\n      onClick: function onClick() {\n        mediator && mediator.trigger(\"open:auth\", {\n          mode: \"register\",\n          copy: \"Sign up to see full auction records — for free\"\n        });\n      }\n    }, \"Sign up to see price\");\n  }\n};",{"version":3,"sources":["/Users/eve/development/reaction/src/Apps/Artist/Routes/AuctionResults/ArtistAuctionResultItem.tsx"],"names":["ContextConsumer","React","Component","createFragmentContainer","graphql","styled","Col","Row","Subscribe","Responsive","AuctionResultsState","Box","Button","Flex","Image","Separator","Serif","Spacer","ArtistAuctionResultItem","lastChild","props","user","mediator","xs","sm","md","LargeAuctionItem","getProps","auctionResult","dimension_text","images","date_text","organization","sale_date_text","title","salePrice","truncatedDescription","estimatedPrice","state","showDetailsModal","thumbnail","url","renderPricing","SmallAuctionItem","ExtraSmallAuctionItem","AuctionResultItemFragmentContainer","FullDescriptionLink","span","getSalePrice","price_realized","cents_usd","display","getDescription","fullDescription","substr","description","estimate","size","btnSize","trigger","mode","copy"],"mappings":"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","sourcesContent":["import { ArtistAuctionResultItem_auctionResult } from \"__generated__/ArtistAuctionResultItem_auctionResult.graphql\"\nimport { ContextConsumer, ContextProps } from \"Artsy\"\nimport React, { Component } from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport styled from \"styled-components\"\nimport { Col, Row } from \"Styleguide/Elements/Grid\"\nimport { Subscribe } from \"unstated\"\nimport { Responsive } from \"Utils/Responsive\"\nimport { AuctionResultsState } from \"./state\"\n\nimport {\n  Box,\n  Button,\n  Flex,\n  Image,\n  Separator,\n  Serif,\n  Spacer,\n} from \"@artsy/palette\"\n\nexport interface Props extends ContextProps {\n  auctionResult: ArtistAuctionResultItem_auctionResult\n  mediator?: {\n    trigger: (action: string, config: object) => void\n  }\n  lastChild: boolean\n  user: User\n}\n\nexport class ArtistAuctionResultItem extends Component<Props> {\n  render() {\n    const { lastChild } = this.props\n    return (\n      <ContextConsumer>\n        {({ user, mediator }) => {\n          return (\n            <Row>\n              <Responsive>\n                {({ xs, sm, md }) => {\n                  if (xs) {\n                    return (\n                      <ExtraSmallAuctionItem\n                        {...this.props}\n                        mediator={mediator}\n                        user={user}\n                      />\n                    )\n                  } else if (sm || md) {\n                    return (\n                      <SmallAuctionItem\n                        {...this.props}\n                        mediator={mediator}\n                        user={user}\n                      />\n                    )\n                  } else {\n                    return (\n                      <LargeAuctionItem\n                        {...this.props}\n                        mediator={mediator}\n                        user={user}\n                      />\n                    )\n                  }\n                }}\n              </Responsive>\n\n              <Col>\n                <Box pt={2} pb={1}>\n                  {!lastChild && <Separator />}\n                </Box>\n              </Col>\n            </Row>\n          )\n        }}\n      </ContextConsumer>\n    )\n  }\n}\n\nconst LargeAuctionItem = class extends React.Component<Props> {\n  render() {\n    const {\n      auctionResult: {\n        dimension_text,\n        images,\n        date_text,\n        organization,\n        sale_date_text,\n        title,\n      },\n      salePrice,\n      truncatedDescription,\n      estimatedPrice,\n    } = getProps(this.props)\n\n    return (\n      <Subscribe to={[AuctionResultsState]}>\n        {({ state, showDetailsModal }: AuctionResultsState) => {\n          return (\n            <>\n              <Col sm={1}>\n                <Box height=\"auto\" pr={2}>\n                  <Image width=\"70px\" src={images.thumbnail.url} />\n                </Box>\n              </Col>\n              <Col sm={4}>\n                <Box pl={1} pr={6}>\n                  <Serif size=\"2\" italic>\n                    {title && title + \",\"}\n                    {date_text}\n                  </Serif>\n                  <Serif size=\"2\">{dimension_text}</Serif>\n                  <Spacer pt={1} />\n                  <Serif size=\"1\" color=\"black60\">\n                    {truncatedDescription}\n                  </Serif>\n                </Box>\n              </Col>\n              <Col sm={3}>\n                <Box pr={2}>\n                  <Serif size=\"2\">{organization}</Serif>\n                  <Serif size=\"2\" color=\"black60\">\n                    {sale_date_text}\n                  </Serif>\n                  <Serif size=\"2\" color=\"black60\">\n                    <FullDescriptionLink\n                      onClick={() => showDetailsModal(this.props)}\n                    >\n                      Full description\n                    </FullDescriptionLink>\n                  </Serif>\n                </Box>\n              </Col>\n              <Col sm={4}>\n                {renderPricing(\n                  salePrice,\n                  estimatedPrice,\n                  this.props.user,\n                  this.props.mediator,\n                  \"lg\"\n                )}\n              </Col>\n            </>\n          )\n        }}\n      </Subscribe>\n    )\n  }\n}\n\nconst SmallAuctionItem = class extends React.Component<Props> {\n  render() {\n    const {\n      auctionResult: { dimension_text, images, date_text, title },\n      salePrice,\n      truncatedDescription,\n      estimatedPrice,\n    } = getProps(this.props)\n\n    return (\n      <>\n        <Col sm={6}>\n          <Flex>\n            <Box height=\"auto\">\n              <Image width=\"70px\" src={images.thumbnail.url} />\n            </Box>\n\n            <Spacer mr={2} />\n\n            <Box pr={4}>\n              <Serif size=\"2\" italic>\n                {title && title + \",\"}\n                {date_text}\n              </Serif>\n              <Serif size=\"2\">{dimension_text}</Serif>\n              <Spacer pt={1} />\n              <Serif size=\"1\" color=\"black60\">\n                {truncatedDescription}\n              </Serif>\n            </Box>\n          </Flex>\n        </Col>\n        <Col sm={6}>\n          {renderPricing(\n            salePrice,\n            estimatedPrice,\n            this.props.user,\n            this.props.mediator,\n            \"sm\"\n          )}\n        </Col>\n      </>\n    )\n  }\n}\n\nconst ExtraSmallAuctionItem = class extends React.Component<Props> {\n  render() {\n    const {\n      auctionResult: {\n        dimension_text,\n        images,\n        date_text,\n        organization,\n        sale_date_text,\n        title,\n      },\n      salePrice,\n      estimatedPrice,\n    } = getProps(this.props)\n\n    return (\n      <>\n        <Col>\n          <Flex>\n            <Box height=\"auto\">\n              <Image width=\"70px\" src={images.thumbnail.url} />\n            </Box>\n\n            <Spacer mr={2} />\n\n            <Box>\n              <Serif size=\"2\" italic>\n                {title && title + \",\"}\n                {date_text}\n              </Serif>\n              <Serif size=\"2\">{dimension_text}</Serif>\n\n              <Spacer pb={1} />\n\n              <Serif size=\"2\">{organization}</Serif>\n              <Serif size=\"2\" color=\"black60\">\n                {sale_date_text}\n              </Serif>\n\n              <Spacer pb={1} />\n              {renderPricing(\n                salePrice,\n                estimatedPrice,\n                this.props.user,\n                this.props.mediator,\n                \"xs\"\n              )}\n            </Box>\n          </Flex>\n        </Col>\n      </>\n    )\n  }\n}\n\nexport const AuctionResultItemFragmentContainer = createFragmentContainer(\n  ArtistAuctionResultItem,\n  graphql`\n    fragment ArtistAuctionResultItem_auctionResult on AuctionResult {\n      title\n      dimension_text\n      organization\n      images {\n        thumbnail {\n          url\n        }\n      }\n      description\n      date_text\n      sale_date_text\n      price_realized {\n        display\n        cents_usd\n      }\n      estimate {\n        display\n      }\n    }\n  `\n)\n\nconst FullDescriptionLink = styled.span`\n  cursor: pointer;\n  text-decoration: underline;\n`\n\n// Helpers\n\nconst getSalePrice = price_realized => {\n  const salePrice =\n    price_realized.cents_usd === 0 ? null : price_realized.display\n  return salePrice\n}\n\nconst getDescription = (fullDescription: string) => {\n  let truncatedDescription\n  if (fullDescription) {\n    truncatedDescription = fullDescription.substr(0, 200)\n    return truncatedDescription + \"...\"\n  }\n  return truncatedDescription\n}\n\nconst getProps = props => {\n  const {\n    auctionResult: { description, estimate, price_realized },\n  } = props\n\n  const salePrice = getSalePrice(price_realized)\n  const truncatedDescription = getDescription(description)\n  const estimatedPrice = estimate.display\n\n  return {\n    ...props,\n    salePrice,\n    truncatedDescription,\n    estimatedPrice,\n  }\n}\n\nconst renderPricing = (salePrice, estimatedPrice, user, mediator, size) => {\n  if (user) {\n    return (\n      <>\n        {salePrice && <Serif size=\"2\">{`Sale: ${salePrice}`}</Serif>}\n        {estimatedPrice && (\n          <Serif size=\"2\" color=\"black60\">\n            Est: {estimatedPrice}\n          </Serif>\n        )}\n      </>\n    )\n  } else {\n    const btnSize = size === \"xs\" || \"sm\" ? \"small\" : \"large\"\n    return (\n      <Button\n        size={btnSize}\n        variant=\"secondaryOutline\"\n        onClick={() => {\n          mediator &&\n            mediator.trigger(\"open:auth\", {\n              mode: \"register\",\n              copy: \"Sign up to see full auction records — for free\",\n            })\n        }}\n      >\n        Sign up to see price\n      </Button>\n    )\n  }\n}\n"]}]}