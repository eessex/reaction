{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Components/Publishing/ToolTip/ArtistToolTip.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/ToolTip/ArtistToolTip.tsx","mtime":1535727435000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1537112679000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _map from \"lodash/map\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { garamond, unica } from \"../../../Assets/Fonts\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { createFragmentContainer, graphql } from \"react-relay\";\nimport track from \"react-tracking\";\nimport styled from \"styled-components\";\nimport fillwidthDimensions from \"../../../Utils/fillwidth\";\nimport FollowArtistButton from \"../../FollowButton/FollowArtistButton\";\nimport { ToolTipDescription } from \"./Components/Description\";\nimport { NewFeature } from \"./Components/NewFeature\";\nexport var ArtistToolTip =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ArtistToolTip, _React$Component);\n\n  function ArtistToolTip() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ArtistToolTip);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ArtistToolTip)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"trackClick\", function () {\n      var tracking = _this.props.tracking;\n      var href = _this.props.artist.href;\n      tracking.trackEvent({\n        action: \"Click\",\n        flow: \"tooltip\",\n        type: \"artist stub\",\n        contextModule: \"intext tooltip\",\n        destination_path: href\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderArtistGenes\", function () {\n      var genes = _this.props.artist.genes;\n\n      if (genes.length) {\n        return _map(genes, \"name\").join(\", \");\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(ArtistToolTip, [{\n    key: \"render\",\n    value: function render() {\n      var artist = this.props.artist;\n      var blurb = artist.blurb,\n          carousel = artist.carousel,\n          formatted_nationality_and_birthday = artist.formatted_nationality_and_birthday,\n          href = artist.href,\n          id = artist.id,\n          _id = artist._id,\n          name = artist.name;\n      var _this$context = this.context,\n          artists = _this$context.tooltipsData.artists,\n          onOpenAuthModal = _this$context.onOpenAuthModal;\n\n      var displayImages = _map(carousel.images.slice(0, 2), \"resized\");\n\n      var images = fillwidthDimensions(displayImages, 320, 15, 150);\n      var description = blurb || this.renderArtistGenes();\n      var trackingData = {\n        contextModule: \"intext tooltip\",\n        entity_id: _id,\n        entity_slug: id,\n        entity_type: \"artist\"\n      };\n      return React.createElement(Wrapper, null, React.createElement(ArtistContainer, null, images && React.createElement(Images, {\n        href: href,\n        onClick: this.trackClick\n      }, images.map(function (img, i) {\n        return React.createElement(\"div\", {\n          key: i\n        }, React.createElement(\"img\", {\n          src: img.__id\n        }));\n      })), React.createElement(Header, null, React.createElement(TitleDate, {\n        href: href,\n        target: \"_blank\",\n        onClick: this.trackClick\n      }, React.createElement(Title, null, name), formatted_nationality_and_birthday && React.createElement(Date, null, formatted_nationality_and_birthday)), React.createElement(FollowArtistButton, {\n        artist: artists[id],\n        trackingData: trackingData,\n        onOpenAuthModal: onOpenAuthModal\n      })), React.createElement(\"a\", {\n        href: href,\n        target: \"_blank\",\n        onClick: this.trackClick\n      }, description && React.createElement(ToolTipDescription, {\n        text: description\n      }))), React.createElement(NewFeature, null));\n    }\n  }]);\n\n  return ArtistToolTip;\n}(React.Component);\n\n_defineProperty(ArtistToolTip, \"contextTypes\", {\n  tooltipsData: PropTypes.object,\n  onOpenAuthModal: PropTypes.func\n});\n\nvar Wrapper = styled.div.withConfig({\n  displayName: \"ArtistToolTip__Wrapper\",\n  componentId: \"waw8a6-0\"\n})([\"width:320px;\"]);\nexport var ArtistContainer = styled.div.withConfig({\n  displayName: \"ArtistToolTip__ArtistContainer\",\n  componentId: \"waw8a6-1\"\n})([\"position:relative;a{text-decoration:none;color:black;&:hover{color:black;}}\"]);\nvar Header = styled.div.withConfig({\n  displayName: \"ArtistToolTip__Header\",\n  componentId: \"waw8a6-2\"\n})([\"display:flex;flex-direction:row;justify-content:space-between;padding-bottom:10px;\"]);\nexport var TitleDate = styled.a.withConfig({\n  displayName: \"ArtistToolTip__TitleDate\",\n  componentId: \"waw8a6-3\"\n})([\"display:flex;flex-direction:column;\"]);\nvar Title = styled.div.withConfig({\n  displayName: \"ArtistToolTip__Title\",\n  componentId: \"waw8a6-4\"\n})([\"\", \";font-weight:600;\"], garamond(\"s18\"));\nvar Date = styled.div.withConfig({\n  displayName: \"ArtistToolTip__Date\",\n  componentId: \"waw8a6-5\"\n})([\"\", \";\"], unica(\"s14\", \"medium\"));\nvar Images = styled.a.withConfig({\n  displayName: \"ArtistToolTip__Images\",\n  componentId: \"waw8a6-6\"\n})([\"width:100%;margin-bottom:20px;display:flex;justify-content:space-between;div:first-child{margin-right:15px;}img{width:100%;height:auto;}\"]);\nexport var ArtistTooltipContainer = track({})(createFragmentContainer(ArtistToolTip, {\n  artist: function artist() {\n    var node = require(\"../../../__generated__/ArtistToolTip_artist.graphql\");\n\n    if (node.hash && node.hash !== \"b66365bad87a0ff55816fd0106213acb\") {\n      console.error(\"The definition of 'ArtistToolTip_artist' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\");\n    }\n\n    return require(\"../../../__generated__/ArtistToolTip_artist.graphql\");\n  }\n}));",{"version":3,"sources":["/Users/eve/development/reaction/src/Components/Publishing/ToolTip/ArtistToolTip.tsx"],"names":["garamond","unica","PropTypes","React","createFragmentContainer","graphql","track","styled","fillwidthDimensions","FollowArtistButton","ToolTipDescription","NewFeature","ArtistToolTip","tracking","props","href","artist","trackEvent","action","flow","type","contextModule","destination_path","genes","length","join","blurb","carousel","formatted_nationality_and_birthday","id","_id","name","context","artists","tooltipsData","onOpenAuthModal","displayImages","images","slice","description","renderArtistGenes","trackingData","entity_id","entity_slug","entity_type","trackClick","map","img","i","__id","Component","object","func","Wrapper","div","ArtistContainer","Header","TitleDate","a","Title","Date","Images","ArtistTooltipContainer"],"mappings":"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","sourcesContent":["import { ArtistToolTip_artist } from \"__generated__/ArtistToolTip_artist.graphql\"\nimport { garamond, unica } from \"Assets/Fonts\"\nimport { map } from \"lodash\"\nimport PropTypes from \"prop-types\"\nimport React from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport track from \"react-tracking\"\nimport styled from \"styled-components\"\nimport fillwidthDimensions from \"../../../Utils/fillwidth\"\nimport FollowArtistButton from \"../../FollowButton/FollowArtistButton\"\nimport { FollowTrackingData } from \"../../FollowButton/Typings\"\nimport { ToolTipDescription } from \"./Components/Description\"\nimport { NewFeature } from \"./Components/NewFeature\"\n\nexport interface ArtistToolTipProps {\n  artist: ArtistToolTip_artist\n  tracking?: any\n}\n\nexport class ArtistToolTip extends React.Component<ArtistToolTipProps> {\n  static contextTypes = {\n    tooltipsData: PropTypes.object,\n    onOpenAuthModal: PropTypes.func,\n  }\n\n  trackClick = () => {\n    const { tracking } = this.props\n    const { href } = this.props.artist\n\n    tracking.trackEvent({\n      action: \"Click\",\n      flow: \"tooltip\",\n      type: \"artist stub\",\n      contextModule: \"intext tooltip\",\n      destination_path: href,\n    })\n  }\n\n  renderArtistGenes = () => {\n    const { genes } = this.props.artist\n\n    if (genes.length) {\n      return map(genes, \"name\").join(\", \")\n    }\n  }\n\n  render() {\n    const { artist } = this.props\n    const {\n      blurb,\n      carousel,\n      formatted_nationality_and_birthday,\n      href,\n      id,\n      _id,\n      name,\n    } = artist\n    const {\n      tooltipsData: { artists },\n      onOpenAuthModal,\n    } = this.context\n    const displayImages = map(carousel.images.slice(0, 2), \"resized\")\n    const images = fillwidthDimensions(displayImages, 320, 15, 150)\n    const description = blurb || this.renderArtistGenes()\n\n    const trackingData: FollowTrackingData = {\n      contextModule: \"intext tooltip\",\n      entity_id: _id,\n      entity_slug: id,\n      entity_type: \"artist\",\n    }\n\n    return (\n      <Wrapper>\n        <ArtistContainer>\n          {images && (\n            <Images href={href} onClick={this.trackClick}>\n              {images.map((img, i) => (\n                <div key={i}>\n                  <img src={img.__id} />\n                </div>\n              ))}\n            </Images>\n          )}\n\n          <Header>\n            <TitleDate href={href} target=\"_blank\" onClick={this.trackClick}>\n              <Title>{name}</Title>\n              {formatted_nationality_and_birthday && (\n                <Date>{formatted_nationality_and_birthday}</Date>\n              )}\n            </TitleDate>\n            <FollowArtistButton\n              artist={artists[id]}\n              trackingData={trackingData}\n              onOpenAuthModal={onOpenAuthModal}\n            />\n          </Header>\n\n          <a href={href} target=\"_blank\" onClick={this.trackClick}>\n            {description && <ToolTipDescription text={description} />}\n          </a>\n        </ArtistContainer>\n\n        <NewFeature />\n      </Wrapper>\n    )\n  }\n}\n\nconst Wrapper = styled.div`\n  width: 320px;\n`\n\nexport const ArtistContainer = styled.div`\n  position: relative;\n  a {\n    text-decoration: none;\n    color: black;\n    &:hover {\n      color: black;\n    }\n  }\n`\n\nconst Header = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding-bottom: 10px;\n`\n\nexport const TitleDate = styled.a`\n  display: flex;\n  flex-direction: column;\n`\n\nconst Title = styled.div`\n  ${garamond(\"s18\")};\n  font-weight: 600;\n`\n\nconst Date = styled.div`\n  ${unica(\"s14\", \"medium\")};\n`\n\nconst Images = styled.a`\n  width: 100%;\n  margin-bottom: 20px;\n  display: flex;\n  justify-content: space-between;\n  div:first-child {\n    margin-right: 15px;\n  }\n  img {\n    width: 100%;\n    height: auto;\n  }\n`\n\nexport const ArtistTooltipContainer = track({})(\n  createFragmentContainer(\n    ArtistToolTip,\n    graphql`\n      fragment ArtistToolTip_artist on Artist {\n        name\n        id\n        _id\n        formatted_nationality_and_birthday\n        href\n        blurb\n        carousel {\n          images {\n            resized(height: 200) {\n              url\n              width\n              height\n            }\n          }\n        }\n        genes {\n          name\n        }\n      }\n    `\n  )\n)\n"]}]}