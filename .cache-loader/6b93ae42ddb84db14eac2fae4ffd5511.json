{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Utils/resizer.ts","dependencies":[{"path":"/Users/eve/development/reaction/src/Utils/resizer.ts","mtime":1537275186000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1537112679000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import qs from \"qs\";\nvar GEMINI_CLOUDFRONT_URL = \"https://d7hftxdivxxvm.cloudfront.net\";\nvar GEMINI_DISPLAY_CLOUDFRONT_URL = \"https://de5y2r7wr8mpb.cloudfront.net\";\n\nvar warn = function warn(message) {\n  if (process.env.NODE_ENV === \"development\") {\n    console.warn(message);\n  }\n};\n\nexport var crop = function crop(src, options) {\n  var width = options.width,\n      height = options.height,\n      quality = options.quality,\n      isDisplayAd = options.isDisplayAd; // dont call gemini with empty src\n\n  if (!src) return null;\n\n  if (!width && !height) {\n    warn(\"requires width and height\");\n    return src;\n  } else if (width === 0) {\n    warn(\"width must be non-zero\");\n    return src;\n  } else if (height === 0) {\n    warn(\"height must be non-zero\");\n    return src;\n  }\n\n  var config = {\n    resize_to: \"fill\",\n    src: src,\n    width: width,\n    height: height,\n    quality: quality || 95\n  };\n  var url = isDisplayAd ? GEMINI_DISPLAY_CLOUDFRONT_URL : GEMINI_CLOUDFRONT_URL;\n  return [url, qs.stringify(config)].join(\"?\");\n};\nexport var resize = function resize(src, options) {\n  var width = options.width,\n      height = options.height,\n      quality = options.quality,\n      isDisplayAd = options.isDisplayAd; // dont call gemini with empty src\n\n  if (!src) return null;\n  var resizeTo;\n\n  if (width && !height) {\n    resizeTo = \"width\";\n  } else if (height && !width) {\n    resizeTo = \"height\";\n  } else {\n    resizeTo = \"fit\";\n  }\n\n  var config = {\n    resize_to: resizeTo,\n    src: src,\n    width: width,\n    height: height,\n    quality: quality || 95\n  };\n  var url = isDisplayAd ? GEMINI_DISPLAY_CLOUDFRONT_URL : GEMINI_CLOUDFRONT_URL;\n  return [url, qs.stringify(config)].join(\"?\");\n};",{"version":3,"sources":["/Users/eve/development/reaction/src/Utils/resizer.ts"],"names":["qs","GEMINI_CLOUDFRONT_URL","GEMINI_DISPLAY_CLOUDFRONT_URL","warn","message","process","env","NODE_ENV","console","crop","src","options","width","height","quality","isDisplayAd","config","resize_to","url","stringify","join","resize","resizeTo"],"mappings":"AAAA,OAAOA,EAAP,MAAe,IAAf;AACA,IAAMC,qBAAqB,GAAG,sCAA9B;AACA,IAAMC,6BAA6B,GAAG,sCAAtC;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAAAC,OAAO,EAAI;AACtB,MAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CC,IAAAA,OAAO,CAACL,IAAR,CAAaC,OAAb;AACD;AACF,CAJD;;AAMA,OAAO,IAAMK,IAAI,GAAG,SAAPA,IAAO,CAClBC,GADkB,EAElBC,OAFkB,EAQf;AAAA,MACKC,KADL,GAC6CD,OAD7C,CACKC,KADL;AAAA,MACYC,MADZ,GAC6CF,OAD7C,CACYE,MADZ;AAAA,MACoBC,OADpB,GAC6CH,OAD7C,CACoBG,OADpB;AAAA,MAC6BC,WAD7B,GAC6CJ,OAD7C,CAC6BI,WAD7B,EAGH;;AACA,MAAI,CAACL,GAAL,EAAU,OAAO,IAAP;;AAEV,MAAI,CAACE,KAAD,IAAU,CAACC,MAAf,EAAuB;AACrBV,IAAAA,IAAI,CAAC,2BAAD,CAAJ;AACA,WAAOO,GAAP;AACD,GAHD,MAGO,IAAIE,KAAK,KAAK,CAAd,EAAiB;AACtBT,IAAAA,IAAI,CAAC,wBAAD,CAAJ;AACA,WAAOO,GAAP;AACD,GAHM,MAGA,IAAIG,MAAM,KAAK,CAAf,EAAkB;AACvBV,IAAAA,IAAI,CAAC,yBAAD,CAAJ;AACA,WAAOO,GAAP;AACD;;AAED,MAAMM,MAAM,GAAG;AACbC,IAAAA,SAAS,EAAE,MADE;AAEbP,IAAAA,GAAG,EAAHA,GAFa;AAGbE,IAAAA,KAAK,EAALA,KAHa;AAIbC,IAAAA,MAAM,EAANA,MAJa;AAKbC,IAAAA,OAAO,EAAEA,OAAO,IAAI;AALP,GAAf;AAQA,MAAMI,GAAG,GAAGH,WAAW,GACnBb,6BADmB,GAEnBD,qBAFJ;AAGA,SAAO,CAACiB,GAAD,EAAMlB,EAAE,CAACmB,SAAH,CAAaH,MAAb,CAAN,EAA4BI,IAA5B,CAAiC,GAAjC,CAAP;AACD,CArCM;AAuCP,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CACpBX,GADoB,EAEpBC,OAFoB,EAQjB;AAAA,MACKC,KADL,GAC6CD,OAD7C,CACKC,KADL;AAAA,MACYC,MADZ,GAC6CF,OAD7C,CACYE,MADZ;AAAA,MACoBC,OADpB,GAC6CH,OAD7C,CACoBG,OADpB;AAAA,MAC6BC,WAD7B,GAC6CJ,OAD7C,CAC6BI,WAD7B,EAGH;;AACA,MAAI,CAACL,GAAL,EAAU,OAAO,IAAP;AAEV,MAAIY,QAAJ;;AACA,MAAIV,KAAK,IAAI,CAACC,MAAd,EAAsB;AACpBS,IAAAA,QAAQ,GAAG,OAAX;AACD,GAFD,MAEO,IAAIT,MAAM,IAAI,CAACD,KAAf,EAAsB;AAC3BU,IAAAA,QAAQ,GAAG,QAAX;AACD,GAFM,MAEA;AACLA,IAAAA,QAAQ,GAAG,KAAX;AACD;;AAED,MAAMN,MAAM,GAAG;AACbC,IAAAA,SAAS,EAAEK,QADE;AAEbZ,IAAAA,GAAG,EAAHA,GAFa;AAGbE,IAAAA,KAAK,EAALA,KAHa;AAIbC,IAAAA,MAAM,EAANA,MAJa;AAKbC,IAAAA,OAAO,EAAEA,OAAO,IAAI;AALP,GAAf;AAQA,MAAMI,GAAG,GAAGH,WAAW,GACnBb,6BADmB,GAEnBD,qBAFJ;AAGA,SAAO,CAACiB,GAAD,EAAMlB,EAAE,CAACmB,SAAH,CAAaH,MAAb,CAAN,EAA4BI,IAA5B,CAAiC,GAAjC,CAAP;AACD,CAnCM","sourcesContent":["import qs from \"qs\"\nconst GEMINI_CLOUDFRONT_URL = \"https://d7hftxdivxxvm.cloudfront.net\"\nconst GEMINI_DISPLAY_CLOUDFRONT_URL = \"https://de5y2r7wr8mpb.cloudfront.net\"\n\nconst warn = message => {\n  if (process.env.NODE_ENV === \"development\") {\n    console.warn(message)\n  }\n}\n\nexport const crop = (\n  src: string,\n  options: {\n    width: number\n    height: number\n    quality?: number\n    isDisplayAd?: boolean\n  }\n) => {\n  const { width, height, quality, isDisplayAd } = options\n\n  // dont call gemini with empty src\n  if (!src) return null\n\n  if (!width && !height) {\n    warn(\"requires width and height\")\n    return src\n  } else if (width === 0) {\n    warn(\"width must be non-zero\")\n    return src\n  } else if (height === 0) {\n    warn(\"height must be non-zero\")\n    return src\n  }\n\n  const config = {\n    resize_to: \"fill\",\n    src,\n    width,\n    height,\n    quality: quality || 95,\n  }\n\n  const url = isDisplayAd\n    ? GEMINI_DISPLAY_CLOUDFRONT_URL\n    : GEMINI_CLOUDFRONT_URL\n  return [url, qs.stringify(config)].join(\"?\")\n}\n\nexport const resize = (\n  src: string,\n  options: {\n    width?: number\n    height?: number\n    quality?: number\n    isDisplayAd?: boolean\n  }\n) => {\n  const { width, height, quality, isDisplayAd } = options\n\n  // dont call gemini with empty src\n  if (!src) return null\n\n  let resizeTo\n  if (width && !height) {\n    resizeTo = \"width\"\n  } else if (height && !width) {\n    resizeTo = \"height\"\n  } else {\n    resizeTo = \"fit\"\n  }\n\n  const config = {\n    resize_to: resizeTo,\n    src,\n    width,\n    height,\n    quality: quality || 95,\n  }\n\n  const url = isDisplayAd\n    ? GEMINI_DISPLAY_CLOUDFRONT_URL\n    : GEMINI_CLOUDFRONT_URL\n  return [url, qs.stringify(config)].join(\"?\")\n}\n"]}]}