{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Components/Publishing/Email/InstantArticleEmailSignup.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/Email/InstantArticleEmailSignup.tsx","mtime":1537112679000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1537112679000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  \", \"\\n  width: 100%;\\n  border-width: 1px;\\n  color: \", \";\\n  \", \"\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as Fonts from \"../../../Assets/Fonts\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport request from \"superagent\";\nimport Colors from \"../../../Assets/Colors\";\nimport InvertedButton from \"../../Buttons/Inverted\";\nimport { borderedInput } from \"../../Mixins\";\nimport { EMAIL_REGEX } from \"../Constants\";\nexport var InstantArticleEmailSignup =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(InstantArticleEmailSignup, _React$Component);\n\n  function InstantArticleEmailSignup(props) {\n    var _this;\n\n    _classCallCheck(this, InstantArticleEmailSignup);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(InstantArticleEmailSignup).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onClick\", function () {\n      _this.setState({\n        disabled: true\n      });\n\n      if (_this.state.value.match(EMAIL_REGEX)) {\n        request.post(_this.props.signupUrl).send({\n          email: _this.state.value\n        }).set(\"accept\", \"json\").end(function (err, res) {\n          if (err) {\n            _this.flashMessage(\"Error. Please try again\", true);\n          } else {\n            _this.flashMessage(\"Thank you!\", false);\n          }\n        });\n      } else {\n        _this.flashMessage(\"Invalid Email... Please try again\", true);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"flashMessage\", function (message, error) {\n      _this.setState({\n        message: message,\n        error: error\n      });\n\n      setTimeout(function () {\n        _this.setState({\n          message: \"\",\n          disabled: false,\n          error: false\n        });\n      }, 2000);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onInputChange\", function (e) {\n      _this.setState({\n        value: e.target.value,\n        error: null\n      });\n    });\n\n    _this.state = {\n      value: \"\",\n      error: false,\n      disabled: false,\n      message: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(InstantArticleEmailSignup, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(InstantArticleEmailContainer, null, React.createElement(Subtitle, null, \"The Daily Editorial Newsletter\"), React.createElement(Title, null, \"The latest art-world news and stories in your inbox\"), React.createElement(Form, null, React.createElement(Input, {\n        type: \"email\",\n        placeholder: \"Enter Your Email...\",\n        onChange: this.onInputChange,\n        value: this.state.message || this.state.value,\n        readOnly: this.state.message.length > 0,\n        isError: this.state.error,\n        isReadOnly: this.state.message.length > 0\n      }), React.createElement(StyledButton, {\n        disabled: this.state.disabled,\n        onClick: this.onClick\n      }, \"Subscribe\")));\n    }\n  }]);\n\n  return InstantArticleEmailSignup;\n}(React.Component);\nvar input = styled.input;\nvar Input = input(_templateObject(), borderedInput, function (props) {\n  return props.isError ? Colors.redMedium : \"black\";\n}, function (props) {\n  return props.isReadOnly ? Fonts.unica(\"s16\") : \"\";\n});\nvar InstantArticleEmailContainer = styled.div.withConfig({\n  displayName: \"InstantArticleEmailSignup__InstantArticleEmailContainer\",\n  componentId: \"s1jwpggg-0\"\n})([\"display:flex;flex-direction:column;max-width:500px;padding:30px 0px;margin:0px 20px;border-top:1px solid \", \";border-bottom:1px solid \", \";\"], Colors.grayRegular, Colors.grayRegular);\nvar Title = styled.div.withConfig({\n  displayName: \"InstantArticleEmailSignup__Title\",\n  componentId: \"s1jwpggg-1\"\n})([\"\", \" margin-bottom:30px;\"], Fonts.garamond(\"s23\"));\nvar Subtitle = styled.div.withConfig({\n  displayName: \"InstantArticleEmailSignup__Subtitle\",\n  componentId: \"s1jwpggg-2\"\n})([\"\", \" margin-bottom:10px;\"], Fonts.avantgarde(\"s11\"));\nvar StyledButton = styled(InvertedButton).withConfig({\n  displayName: \"InstantArticleEmailSignup__StyledButton\",\n  componentId: \"s1jwpggg-3\"\n})([\"border-radius:2px;height:30px;width:80px;margin-left:-100px;\", \";\"], Fonts.avantgarde(\"s11\"));\nvar Form = styled.div.withConfig({\n  displayName: \"InstantArticleEmailSignup__Form\",\n  componentId: \"s1jwpggg-4\"\n})([\"display:flex;\"]);",{"version":3,"sources":["/Users/eve/development/reaction/src/Components/Publishing/Email/InstantArticleEmailSignup.tsx"],"names":["Fonts","React","styled","request","Colors","InvertedButton","borderedInput","EMAIL_REGEX","InstantArticleEmailSignup","props","setState","disabled","state","value","match","post","signupUrl","send","email","set","end","err","res","flashMessage","message","error","setTimeout","e","target","onInputChange","length","onClick","Component","input","Input","isError","redMedium","isReadOnly","unica","InstantArticleEmailContainer","div","grayRegular","Title","garamond","Subtitle","avantgarde","StyledButton","Form"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAKA,KAAZ;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAuC,mBAAvC;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,MAAP;AACA,OAAOC,cAAP;AACA,SAASC,aAAT;AACA,SAASC,WAAT;AAkBA,WAAaC,yBAAb;AAAA;AAAA;AAAA;;AAIE,qCAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,mGAAMA,KAAN;;AADiB,sFAUT,YAAM;AACd,YAAKC,QAAL,CAAc;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAd;;AACA,UAAI,MAAKC,KAAL,CAAWC,KAAX,CAAiBC,KAAjB,CAAuBP,WAAvB,CAAJ,EAAyC;AACvCJ,QAAAA,OAAO,CACJY,IADH,CACQ,MAAKN,KAAL,CAAWO,SADnB,EAEGC,IAFH,CAEQ;AAAEC,UAAAA,KAAK,EAAE,MAAKN,KAAL,CAAWC;AAApB,SAFR,EAGGM,GAHH,CAGO,QAHP,EAGiB,MAHjB,EAIGC,GAJH,CAIO,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjB,cAAID,GAAJ,EAAS;AACP,kBAAKE,YAAL,CAAkB,yBAAlB,EAA6C,IAA7C;AACD,WAFD,MAEO;AACL,kBAAKA,YAAL,CAAkB,YAAlB,EAAgC,KAAhC;AACD;AACF,SAVH;AAWD,OAZD,MAYO;AACL,cAAKA,YAAL,CAAkB,mCAAlB,EAAuD,IAAvD;AACD;AACF,KA3BkB;;AAAA,2FA6BJ,UAACC,OAAD,EAAUC,KAAV,EAAoB;AACjC,YAAKf,QAAL,CAAc;AAAEc,QAAAA,OAAO,EAAPA,OAAF;AAAWC,QAAAA,KAAK,EAALA;AAAX,OAAd;;AACAC,MAAAA,UAAU,CAAC,YAAM;AACf,cAAKhB,QAAL,CAAc;AAAEc,UAAAA,OAAO,EAAE,EAAX;AAAeb,UAAAA,QAAQ,EAAE,KAAzB;AAAgCc,UAAAA,KAAK,EAAE;AAAvC,SAAd;AACD,OAFS,EAEP,IAFO,CAAV;AAGD,KAlCkB;;AAAA,4FAoCH,UAAAE,CAAC,EAAI;AACnB,YAAKjB,QAAL,CAAc;AAAEG,QAAAA,KAAK,EAAEc,CAAC,CAACC,MAAF,CAASf,KAAlB;AAAyBY,QAAAA,KAAK,EAAE;AAAhC,OAAd;AACD,KAtCkB;;AAEjB,UAAKb,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXY,MAAAA,KAAK,EAAE,KAFI;AAGXd,MAAAA,QAAQ,EAAE,KAHC;AAIXa,MAAAA,OAAO,EAAE;AAJE,KAAb;AAFiB;AAQlB;;AAZH;AAAA;AAAA,6BA4CW;AACP,aACE,oBAAC,4BAAD,QACE,oBAAC,QAAD,yCADF,EAEE,oBAAC,KAAD,8DAFF,EAGE,oBAAC,IAAD,QACE,oBAAC,KAAD;AACE,QAAA,IAAI,EAAC,OADP;AAEE,QAAA,WAAW,EAAC,qBAFd;AAGE,QAAA,QAAQ,EAAE,KAAKK,aAHjB;AAIE,QAAA,KAAK,EAAE,KAAKjB,KAAL,CAAWY,OAAX,IAAsB,KAAKZ,KAAL,CAAWC,KAJ1C;AAKE,QAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWY,OAAX,CAAmBM,MAAnB,GAA4B,CALxC;AAME,QAAA,OAAO,EAAE,KAAKlB,KAAL,CAAWa,KANtB;AAOE,QAAA,UAAU,EAAE,KAAKb,KAAL,CAAWY,OAAX,CAAmBM,MAAnB,GAA4B;AAP1C,QADF,EAUE,oBAAC,YAAD;AAAc,QAAA,QAAQ,EAAE,KAAKlB,KAAL,CAAWD,QAAnC;AAA6C,QAAA,OAAO,EAAE,KAAKoB;AAA3D,qBAVF,CAHF,CADF;AAoBD;AAjEH;;AAAA;AAAA,EAA+C9B,KAAK,CAAC+B,SAArD;AAoEA,IAAMC,KAAqE,GACzE/B,MAAM,CAAC+B,KADT;AAEA,IAAMC,KAAK,GAAGD,KAAH,oBACP3B,aADO,EAIA,UAAAG,KAAK;AAAA,SAAKA,KAAK,CAAC0B,OAAN,GAAgB/B,MAAM,CAACgC,SAAvB,GAAmC,OAAxC;AAAA,CAJL,EAKP,UAAA3B,KAAK;AAAA,SAAKA,KAAK,CAAC4B,UAAN,GAAmBrC,KAAK,CAACsC,KAAN,CAAY,KAAZ,CAAnB,GAAwC,EAA7C;AAAA,CALE,CAAX;AAOA,IAAMC,4BAA4B,GAAGrC,MAAM,CAACsC,GAAV;AAAA;AAAA;AAAA,oJAMRpC,MAAM,CAACqC,WANC,EAOLrC,MAAM,CAACqC,WAPF,CAAlC;AASA,IAAMC,KAAK,GAAGxC,MAAM,CAACsC,GAAV;AAAA;AAAA;AAAA,iCACPxC,KAAK,CAAC2C,QAAN,CAAe,KAAf,CADO,CAAX;AAGA,IAAMC,QAAQ,GAAG1C,MAAM,CAACsC,GAAV;AAAA;AAAA;AAAA,iCACVxC,KAAK,CAAC6C,UAAN,CAAiB,KAAjB,CADU,CAAd;AAGA,IAAMC,YAAY,GAAG5C,MAAM,CAACG,cAAD,CAAT;AAAA;AAAA;AAAA,0EAKdL,KAAK,CAAC6C,UAAN,CAAiB,KAAjB,CALc,CAAlB;AAOA,IAAME,IAAI,GAAG7C,MAAM,CAACsC,GAAV;AAAA;AAAA;AAAA,qBAAV","sourcesContent":["import * as Fonts from \"Assets/Fonts\"\nimport React from \"react\"\nimport styled, { StyledFunction } from \"styled-components\"\nimport request from \"superagent\"\nimport Colors from \"../../../Assets/Colors\"\nimport InvertedButton from \"../../Buttons/Inverted\"\nimport { borderedInput } from \"../../Mixins\"\nimport { EMAIL_REGEX } from \"../Constants\"\n\ninterface EmailProps {\n  signupUrl: string\n}\n\ninterface EmailState {\n  value: string\n  error: boolean\n  disabled: boolean\n  message: string\n}\n\ninterface InputProps {\n  isError: boolean\n  isReadOnly: boolean\n}\n\nexport class InstantArticleEmailSignup extends React.Component<\n  EmailProps,\n  EmailState\n> {\n  constructor(props) {\n    super(props)\n    this.state = {\n      value: \"\",\n      error: false,\n      disabled: false,\n      message: \"\",\n    }\n  }\n\n  onClick = () => {\n    this.setState({ disabled: true })\n    if (this.state.value.match(EMAIL_REGEX)) {\n      request\n        .post(this.props.signupUrl)\n        .send({ email: this.state.value })\n        .set(\"accept\", \"json\")\n        .end((err, res) => {\n          if (err) {\n            this.flashMessage(\"Error. Please try again\", true)\n          } else {\n            this.flashMessage(\"Thank you!\", false)\n          }\n        })\n    } else {\n      this.flashMessage(\"Invalid Email... Please try again\", true)\n    }\n  }\n\n  flashMessage = (message, error) => {\n    this.setState({ message, error })\n    setTimeout(() => {\n      this.setState({ message: \"\", disabled: false, error: false })\n    }, 2000)\n  }\n\n  onInputChange = e => {\n    this.setState({ value: e.target.value, error: null })\n  }\n\n  render() {\n    return (\n      <InstantArticleEmailContainer>\n        <Subtitle>The Daily Editorial Newsletter</Subtitle>\n        <Title>The latest art-world news and stories in your inbox</Title>\n        <Form>\n          <Input\n            type=\"email\"\n            placeholder=\"Enter Your Email...\"\n            onChange={this.onInputChange}\n            value={this.state.message || this.state.value}\n            readOnly={this.state.message.length > 0}\n            isError={this.state.error}\n            isReadOnly={this.state.message.length > 0}\n          />\n          <StyledButton disabled={this.state.disabled} onClick={this.onClick}>\n            Subscribe\n          </StyledButton>\n        </Form>\n      </InstantArticleEmailContainer>\n    )\n  }\n}\n\nconst input: StyledFunction<InputProps & React.HTMLProps<HTMLInputElement>> =\n  styled.input\nconst Input = input`\n  ${borderedInput}\n  width: 100%;\n  border-width: 1px;\n  color: ${props => (props.isError ? Colors.redMedium : \"black\")};\n  ${props => (props.isReadOnly ? Fonts.unica(\"s16\") : \"\")}\n`\nconst InstantArticleEmailContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  max-width: 500px;\n  padding: 30px 0px;\n  margin: 0px 20px;\n  border-top: 1px solid ${Colors.grayRegular};\n  border-bottom: 1px solid ${Colors.grayRegular};\n`\nconst Title = styled.div`\n  ${Fonts.garamond(\"s23\")} margin-bottom: 30px;\n`\nconst Subtitle = styled.div`\n  ${Fonts.avantgarde(\"s11\")} margin-bottom: 10px;\n`\nconst StyledButton = styled(InvertedButton)`\n  border-radius: 2px;\n  height: 30px;\n  width: 80px;\n  margin-left: -100px;\n  ${Fonts.avantgarde(\"s11\")};\n`\nconst Form = styled.div`\n  display: flex;\n`\n"]}]}