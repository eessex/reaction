{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--5-1!/Users/eve/development/reaction/src/Components/Artwork/FillwidthItem.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Artwork/FillwidthItem.tsx","mtime":1524249962000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1527877289000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.FillwidthItem = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactRelay = require(\"react-relay\");\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _Metadata = _interopRequireWildcard(require(\"./Metadata\"));\n\nvar _Save = _interopRequireWildcard(require(\"./Save\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Image =\n/*#__PURE__*/\n_styledComponents.default.img.withConfig({\n  displayName: \"FillwidthItem__Image\",\n  componentId: \"s1jj8qkz-0\"\n})([\"width:100%;\"]);\n\nvar ImageLink =\n/*#__PURE__*/\n_styledComponents.default.a.withConfig({\n  displayName: \"FillwidthItem__ImageLink\",\n  componentId: \"s1jj8qkz-1\"\n})([\"width:100%;position:absolute;top:0;left:0;\"]);\n\nvar Placeholder =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"FillwidthItem__Placeholder\",\n  componentId: \"s1jj8qkz-2\"\n})([\"position:relative;width:100%;\"]);\n\nvar FillwidthItemContainer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FillwidthItemContainer, _React$Component);\n\n  function FillwidthItemContainer() {\n    _classCallCheck(this, FillwidthItemContainer);\n\n    return _possibleConstructorReturn(this, (FillwidthItemContainer.__proto__ || Object.getPrototypeOf(FillwidthItemContainer)).apply(this, arguments));\n  }\n\n  _createClass(FillwidthItemContainer, [{\n    key: \"render\",\n    value: function render() {\n      var _props = this.props,\n          artwork = _props.artwork,\n          className = _props.className,\n          targetHeight = _props.targetHeight,\n          imageHeight = _props.imageHeight,\n          useRelay = _props.useRelay;\n      var SaveButtonBlock = useRelay ? _Save.default : _Save.SaveButton;\n      var MetadataBlock = useRelay ? _Metadata.default : _Metadata.Metadata;\n      return _react.default.createElement(\"div\", {\n        className: className\n      }, _react.default.createElement(Placeholder, {\n        style: {\n          height: targetHeight\n        }\n      }, _react.default.createElement(ImageLink, {\n        href: artwork.href\n      }, _react.default.createElement(Image, {\n        src: artwork.image.url,\n        height: imageHeight\n      })), _react.default.createElement(SaveButtonBlock, {\n        className: \"artwork-save\",\n        artwork: artwork,\n        style: {\n          position: \"absolute\",\n          right: \"5px\",\n          bottom: \"5px\"\n        },\n        useRelay: useRelay\n      })), _react.default.createElement(MetadataBlock, {\n        artwork: artwork,\n        useRelay: useRelay,\n        extended: true\n      }));\n    }\n  }]);\n\n  return FillwidthItemContainer;\n}(_react.default.Component);\n\nObject.defineProperty(FillwidthItemContainer, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    useRelay: true\n  }\n});\nvar FillwidthItem =\n/*#__PURE__*/\n(0, _styledComponents.default)(FillwidthItemContainer).withConfig({\n  displayName: \"FillwidthItem\",\n  componentId: \"s1jj8qkz-3\"\n})([\"display:inline-block;width:\", \"px;vertical-align:top;margin-right:\", \"px;.artwork-save{opacity:0;}&:hover .artwork-save{opacity:1;}\"], function (props) {\n  return props.width;\n}, function (props) {\n  return props.margin;\n});\nexports.FillwidthItem = FillwidthItem;\n\nvar _default = (0, _reactRelay.createFragmentContainer)(FillwidthItem, {\n  artwork: function artwork() {\n    var node = require(\"../../__generated__/FillwidthItem_artwork.graphql\");\n\n    if (node.hash && node.hash !== \"e7d7e05dbcfbc935f92f7d36e8d0fd3e\") {\n      console.error(\"The definition of 'FillwidthItem_artwork' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\");\n    }\n\n    return require(\"../../__generated__/FillwidthItem_artwork.graphql\");\n  }\n});\n\nexports.default = _default;",{"version":3,"sources":["src/Components/Artwork/FillwidthItem.tsx"],"names":["Image","img","ImageLink","a","Placeholder","div","FillwidthItemContainer","props","artwork","className","targetHeight","imageHeight","useRelay","SaveButtonBlock","MetadataBlock","height","href","image","url","position","right","bottom","Component","FillwidthItem","width","margin"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;;;;;;;;;;;;;;;;;AAEA,IAAMA;AAAA;AAAQ,0BAAOC,GAAf;AAAA;AAAA;AAAA,mBAAN;;AAIA,IAAMC;AAAA;AAAY,0BAAOC,CAAnB;AAAA;AAAA;AAAA,kDAAN;;AAOA,IAAMC;AAAA;AAAc,0BAAOC,GAArB;AAAA;AAAA;AAAA,qCAAN;;IAaMC,sB;;;;;;;;;;;;;6BAKK;AAAA,mBAOH,KAAKC,KAPF;AAAA,UAELC,OAFK,UAELA,OAFK;AAAA,UAGLC,SAHK,UAGLA,SAHK;AAAA,UAILC,YAJK,UAILA,YAJK;AAAA,UAKLC,WALK,UAKLA,WALK;AAAA,UAMLC,QANK,UAMLA,QANK;AASP,UAAMC,kBAAkBD,2CAAxB;AACA,UAAME,gBAAgBF,iDAAtB;AAEA,aACE;AAAK,mBAAWH;AAAhB,SACE,6BAAC,WAAD;AAAa,eAAO;AAAEM,kBAAQL;AAAV;AAApB,SACE,6BAAC,SAAD;AAAW,cAAMF,QAAQQ;AAAzB,SACE,6BAAC,KAAD;AAAO,aAAKR,QAAQS,KAAR,CAAcC,GAA1B;AAA+B,gBAAQP;AAAvC,QADF,CADF,EAIE,6BAAC,eAAD;AACE,mBAAU,cADZ;AAEE,iBAASH,OAFX;AAGE,eAAO;AAAEW,oBAAU,UAAZ;AAAwBC,iBAAO,KAA/B;AAAsCC,kBAAQ;AAA9C,SAHT;AAIE,kBAAUT;AAJZ,QAJF,CADF,EAYE,6BAAC,aAAD;AAAe,iBAASJ,OAAxB;AAAiC,kBAAUI,QAA3C;AAAqD;AAArD,QAZF,CADF;AAgBD;;;;EAjCkC,eAAMU,S;;sBAArChB,sB;;;;SACkB;AACpBM,cAAU;AADU;;AAmCjB,IAAMW;AAAA;AAAgB,+BAAOjB,sBAAP,CAAhB;AAAA;AAAA;AAAA,4IAEF;AAAA,SAASC,MAAMiB,KAAf;AAAA,CAFE,EAIK;AAAA,SAASjB,MAAMkB,MAAf;AAAA,CAJL,CAAN;;;eAaQ,yCACbF,aADa;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,E","file":"/Users/eve/development/reaction/src/Components/Artwork/FillwidthItem.tsx","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import React from \"react\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport styled from \"styled-components\"\n\nimport RelayMetadata, { Metadata } from \"./Metadata\"\nimport RelaySaveButton, { SaveButton } from \"./Save\"\n\nconst Image = styled.img`\n  width: 100%;\n`\n\nconst ImageLink = styled.a`\n  width: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n`\n\nconst Placeholder = styled.div`\n  position: relative;\n  width: 100%;\n`\n\ninterface Props extends RelayProps, React.HTMLProps<FillwidthItemContainer> {\n  targetHeight?: number\n  imageHeight?: number\n  width?: number\n  margin?: number\n  useRelay?: boolean\n}\n\nclass FillwidthItemContainer extends React.Component<Props, null> {\n  static defaultProps = {\n    useRelay: true,\n  }\n\n  render() {\n    const {\n      artwork,\n      className,\n      targetHeight,\n      imageHeight,\n      useRelay,\n    } = this.props\n\n    const SaveButtonBlock = useRelay ? RelaySaveButton : SaveButton\n    const MetadataBlock = useRelay ? RelayMetadata : Metadata\n\n    return (\n      <div className={className}>\n        <Placeholder style={{ height: targetHeight }}>\n          <ImageLink href={artwork.href}>\n            <Image src={artwork.image.url} height={imageHeight} />\n          </ImageLink>\n          <SaveButtonBlock\n            className=\"artwork-save\"\n            artwork={artwork as any}\n            style={{ position: \"absolute\", right: \"5px\", bottom: \"5px\" }}\n            useRelay={useRelay}\n          />\n        </Placeholder>\n        <MetadataBlock artwork={artwork} useRelay={useRelay} extended />\n      </div>\n    )\n  }\n}\n\nexport const FillwidthItem = styled(FillwidthItemContainer)`\n  display: inline-block;\n  width: ${props => props.width}px;\n  vertical-align: top;\n  margin-right: ${props => props.margin}px;\n  .artwork-save {\n    opacity: 0;\n  }\n  &:hover .artwork-save {\n    opacity: 1;\n  }\n`\n\nexport default createFragmentContainer(\n  FillwidthItem,\n  graphql`\n    fragment FillwidthItem_artwork on Artwork {\n      image {\n        placeholder\n        url(version: \"large\")\n        aspect_ratio\n      }\n      href\n      ...Metadata_artwork\n      ...Save_artwork\n    }\n  `\n)\n\ninterface RelayProps {\n  artwork: {\n    href: string | null\n    image: {\n      placeholder: number | null\n      url: string | null\n      aspect_ratio: number | null\n    } | null\n  }\n}\n"]}]}