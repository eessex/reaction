{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--5-1!/Users/eve/development/reaction/src/Components/Publishing/Layouts/NewsLayout.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/Layouts/NewsLayout.tsx","mtime":1524841112000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1527877289000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ExpandButton = exports.NewsLayout = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _Colors = _interopRequireDefault(require(\"../../../Assets/Colors\"));\n\nvar _Fonts = require(\"../../../Assets/Fonts\");\n\nvar _Helpers = require(\"../../Helpers\");\n\nvar _NewsHeadline = require(\"../News/NewsHeadline\");\n\nvar _NewsSections = require(\"../News/NewsSections\");\n\nvar _lodash = require(\"lodash\");\n\nvar _track = require(\"../../../Utils/track\");\n\nvar _dec, _class;\n\nvar _templateObject = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n    bottom: 15px;\\n    right: 15px;\\n  \"], [\"\\n    bottom: 15px;\\n    right: 15px;\\n  \"]),\n    _templateObject2 = /*#__PURE__*/ _taggedTemplateLiteral([\"\\n    margin: 40px 5px;\\n    padding: 10px 15px 20px;\\n    \", \";\\n  \"], [\"\\n    margin: 40px 5px;\\n    padding: 10px 15px 20px;\\n    \", \";\\n  \"]);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nvar NewsLayout = (_dec = (0, _track.track)(), _dec(_class =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NewsLayout, _Component);\n\n  function NewsLayout(props) {\n    var _this;\n\n    _classCallCheck(this, NewsLayout);\n\n    _this = _possibleConstructorReturn(this, (NewsLayout.__proto__ || Object.getPrototypeOf(NewsLayout)).call(this, props));\n    Object.defineProperty(_assertThisInitialized(_this), \"trackExpand\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value() {\n        var _this$props = _this.props,\n            article = _this$props.article,\n            tracking = _this$props.tracking;\n\n        if (tracking) {\n          tracking.trackEvent({\n            action: \"Clicked read more\",\n            pathname: \"/news/\".concat(article.slug)\n          });\n        }\n      }\n    });\n    _this.state = {\n      isTruncated: _this.props.isTruncated || false,\n      isHovered: _this.props.isHovered || false\n    };\n    _this.onExpand = _this.onExpand.bind(_assertThisInitialized(_this));\n    _this.trackExpand = (0, _lodash.once)(_this.trackExpand);\n    return _this;\n  }\n\n  _createClass(NewsLayout, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.isHovered !== this.props.isHovered) {\n        this.setState({\n          isHovered: nextProps.isHovered\n        });\n      }\n    }\n  }, {\n    key: \"onExpand\",\n    value: function onExpand() {\n      var onExpand = this.props.onExpand;\n      this.trackExpand();\n\n      if (onExpand) {\n        onExpand();\n      }\n\n      this.setState({\n        isTruncated: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          article = _props.article,\n          isMobile = _props.isMobile,\n          marginTop = _props.marginTop;\n      var _state = this.state,\n          isTruncated = _state.isTruncated,\n          isHovered = _state.isHovered;\n      return _react.default.createElement(NewsContainer, {\n        isTruncated: isTruncated,\n        isHovered: isHovered,\n        marginTop: marginTop,\n        onClick: function onClick() {\n          if (isTruncated) {\n            _this2.onExpand();\n          }\n        },\n        onMouseEnter: function onMouseEnter() {\n          if (!isMobile) {\n            _this2.setState({\n              isHovered: true\n            });\n          }\n        },\n        onMouseLeave: function onMouseLeave() {\n          if (!isMobile) {\n            _this2.setState({\n              isHovered: false\n            });\n          }\n        }\n      }, _react.default.createElement(_NewsHeadline.NewsHeadline, {\n        article: article\n      }), _react.default.createElement(_NewsSections.NewsSections, _extends({}, this.props, {\n        isTruncated: isTruncated\n      })), _react.default.createElement(ExpandButton, {\n        isHovered: isHovered,\n        isTruncated: isTruncated,\n        onClick: this.onExpand\n      }, \"Expand\"));\n    }\n  }]);\n\n  return NewsLayout;\n}(_react.Component)) || _class);\nexports.NewsLayout = NewsLayout;\n\nvar ExpandButton =\n/*#__PURE__*/\n_styledComponents.default.button.withConfig({\n  displayName: \"NewsLayout__ExpandButton\",\n  componentId: \"mcl3rm-0\"\n})([\"width:80px;height:30px;background-color:black;position:absolute;bottom:30px;right:30px;color:white;border-radius:2px;border:none;display:block;opacity:0;cursor:pointer;padding:0;transition:opacity 0.25s ease;\", \";line-height:1em;&:focus{outline:0;}&:hover{color:\", \";}\", \";\", \";\"], (0, _Fonts.unica)(\"s14\", \"medium\"), _Colors.default.grayRegular, function (props) {\n  return props.isHovered && props.isTruncated && \"\\n      opacity: 1;\\n    \";\n}, _Helpers.pMedia.sm(_templateObject));\n\nexports.ExpandButton = ExpandButton;\n\nvar NewsContainer =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"NewsLayout__NewsContainer\",\n  componentId: \"mcl3rm-1\"\n})([\"position:relative;max-width:780px;padding:20px 30px 30px;margin:40px auto;transition:all 0.25s ease;border:1px solid transparent;\", \";\", \";\", \";\"], function (props) {\n  return props.marginTop && \"\\n    margin-top: \".concat(props.marginTop, \";\\n  \");\n}, function (props) {\n  return props.isTruncated && props.isHovered && \"\\n    border-radius: 4px;\\n    border: 1px solid \".concat(_Colors.default.grayRegular, \";\\n    cursor: pointer;\\n  \");\n}, _Helpers.pMedia.sm(_templateObject2, function (props) {\n  return props.marginTop && \"\\n      margin-top: \".concat(props.marginTop, \";\\n    \");\n}));",{"version":3,"sources":["src/Components/Publishing/Layouts/NewsLayout.tsx"],"names":["NewsLayout","props","article","tracking","trackEvent","action","pathname","slug","state","isTruncated","isHovered","onExpand","bind","trackExpand","nextProps","setState","isMobile","marginTop","ExpandButton","button","grayRegular","sm","NewsContainer","div"],"mappings":"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","file":"/Users/eve/development/reaction/src/Components/Publishing/Layouts/NewsLayout.tsx","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import React, { Component } from \"react\"\nimport styled from \"styled-components\"\nimport Colors from \"Assets/Colors\"\nimport { unica } from \"Assets/Fonts\"\nimport { pMedia } from \"../../Helpers\"\nimport { NewsHeadline } from \"../News/NewsHeadline\"\nimport { NewsSections } from \"../News/NewsSections\"\nimport { ArticleData } from \"../Typings\"\nimport { once } from \"lodash\"\nimport { track } from \"../../../Utils/track\"\n\ninterface Props {\n  article: ArticleData\n  isMobile?: boolean\n  isHovered?: boolean\n  isTruncated?: boolean\n  marginTop?: string\n  onExpand?: any\n  tracking?: any\n}\n\ninterface State {\n  isTruncated: boolean\n  isHovered: boolean\n}\n\ninterface NewsContainerProps {\n  isTruncated: boolean\n  marginTop?: string\n  isHovered: boolean\n}\n\n@track()\nexport class NewsLayout extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props)\n\n    this.state = {\n      isTruncated: this.props.isTruncated || false,\n      isHovered: this.props.isHovered || false,\n    }\n\n    this.onExpand = this.onExpand.bind(this)\n    this.trackExpand = once(this.trackExpand)\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.isHovered !== this.props.isHovered) {\n      this.setState({ isHovered: nextProps.isHovered })\n    }\n  }\n\n  onExpand() {\n    const { onExpand } = this.props\n    this.trackExpand()\n    if (onExpand) {\n      onExpand()\n    }\n    this.setState({ isTruncated: false })\n  }\n\n  trackExpand = () => {\n    const { article, tracking } = this.props\n    if (tracking) {\n      tracking.trackEvent({\n        action: \"Clicked read more\",\n        pathname: `/news/${article.slug}`,\n      })\n    }\n  }\n\n  render() {\n    const { article, isMobile, marginTop } = this.props\n    const { isTruncated, isHovered } = this.state\n\n    return (\n      <NewsContainer\n        isTruncated={isTruncated}\n        isHovered={isHovered}\n        marginTop={marginTop}\n        onClick={() => {\n          if (isTruncated) {\n            this.onExpand()\n          }\n        }}\n        onMouseEnter={() => {\n          if (!isMobile) {\n            this.setState({ isHovered: true })\n          }\n        }}\n        onMouseLeave={() => {\n          if (!isMobile) {\n            this.setState({ isHovered: false })\n          }\n        }}\n      >\n        <NewsHeadline article={article} />\n        <NewsSections {...this.props} isTruncated={isTruncated} />\n        <ExpandButton\n          isHovered={isHovered}\n          isTruncated={isTruncated}\n          onClick={this.onExpand}\n        >\n          Expand\n        </ExpandButton>\n      </NewsContainer>\n    )\n  }\n}\n\nexport const ExpandButton = styled.button`\n  width: 80px;\n  height: 30px;\n  background-color: black;\n  position: absolute;\n  bottom: 30px;\n  right: 30px;\n  color: white;\n  border-radius: 2px;\n  border: none;\n  display: block;\n  opacity: 0;\n  cursor: pointer;\n  padding: 0;\n  transition: opacity 0.25s ease;\n  ${unica(\"s14\", \"medium\")};\n  line-height: 1em;\n\n  &:focus {\n    outline: 0;\n  }\n\n  &:hover {\n    color: ${Colors.grayRegular};\n  }\n\n  ${(props: NewsContainerProps) =>\n    props.isHovered &&\n    props.isTruncated &&\n    `\n      opacity: 1;\n    `};\n\n  ${pMedia.sm`\n    bottom: 15px;\n    right: 15px;\n  `};\n`\n\nconst NewsContainer = styled.div`\n  position: relative;\n  max-width: 780px;\n  padding: 20px 30px 30px;\n  margin: 40px auto;\n  transition: all 0.25s ease;\n  border: 1px solid transparent;\n\n  ${(props: NewsContainerProps) =>\n    props.marginTop &&\n    `\n    margin-top: ${props.marginTop};\n  `};\n\n  ${(props: NewsContainerProps) =>\n    props.isTruncated &&\n    props.isHovered &&\n    `\n    border-radius: 4px;\n    border: 1px solid ${Colors.grayRegular};\n    cursor: pointer;\n  `};\n\n  ${pMedia.sm`\n    margin: 40px 5px;\n    padding: 10px 15px 20px;\n    ${(props: NewsContainerProps) =>\n      props.marginTop &&\n      `\n      margin-top: ${props.marginTop};\n    `};\n  `};\n`\n"]}]}