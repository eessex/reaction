{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Components/Publishing/Sections/ImageCollection.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/Sections/ImageCollection.tsx","mtime":1520966970000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1537112679000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _find from \"lodash/find\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    flex-direction: column;\\n  \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\";\nimport sizeMe from \"react-sizeme\";\nimport styled from \"styled-components\";\nimport fillwidthDimensions from \"../../../Utils/fillwidth\";\nimport { pMedia } from \"../../Helpers\";\nimport { SIZE_ME_REFRESH_RATE } from \"../Constants\";\nimport { Artwork } from \"./Artwork\";\nimport { Image } from \"./Image\";\nimport { ImageCollectionItem } from \"./ImageCollectionItem\";\n\nvar ImageCollectionComponent =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(ImageCollectionComponent, _React$PureComponent);\n\n  function ImageCollectionComponent() {\n    _classCallCheck(this, ImageCollectionComponent);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ImageCollectionComponent).apply(this, arguments));\n  }\n\n  _createClass(ImageCollectionComponent, [{\n    key: \"renderImages\",\n    value: function renderImages(dimensions) {\n      var _this$props = this.props,\n          articleLayout = _this$props.articleLayout,\n          gutter = _this$props.gutter,\n          images = _this$props.images,\n          sectionLayout = _this$props.sectionLayout,\n          width = _this$props.size.width;\n      var renderedImages = images.map(function (image, i) {\n        var url = image.url || image.image;\n        var imageSize;\n\n        if (width <= 600 || dimensions.length === 1) {\n          imageSize = {};\n        } else {\n          imageSize = _find(dimensions, [\"__id\", url]);\n        }\n\n        var renderedImage;\n\n        if (image.type === \"image\") {\n          renderedImage = React.createElement(Image, {\n            image: image,\n            sectionLayout: sectionLayout,\n            layout: articleLayout,\n            width: imageSize.width,\n            height: imageSize.height\n          });\n        } else if (image.type === \"artwork\") {\n          renderedImage = React.createElement(Artwork, {\n            artwork: image,\n            sectionLayout: sectionLayout,\n            layout: articleLayout,\n            width: imageSize.width,\n            height: imageSize.height\n          });\n        } else {\n          return false;\n        }\n\n        var margin = i === dimensions.length - 1 ? 0 : gutter;\n        return React.createElement(ImageCollectionItem, {\n          key: i,\n          margin: margin,\n          width: imageSize.width\n        }, renderedImage);\n      });\n      return renderedImages;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          gutter = _this$props2.gutter,\n          images = _this$props2.images,\n          size = _this$props2.size,\n          targetHeight = _this$props2.targetHeight;\n      var dimensions = fillwidthDimensions(images, size.width, gutter, targetHeight);\n      var renderedImages = this.renderImages(dimensions);\n      return React.createElement(ImageCollectionContainer, null, renderedImages);\n    }\n  }]);\n\n  return ImageCollectionComponent;\n}(React.PureComponent);\n\n_defineProperty(ImageCollectionComponent, \"defaultProps\", {\n  size: {\n    width: 680\n  }\n});\n\nvar ImageCollectionContainer = styled.div.withConfig({\n  displayName: \"ImageCollection__ImageCollectionContainer\",\n  componentId: \"begb1k-0\"\n})([\"display:flex;width:100%;justify-content:center;\", \";\"], pMedia.xs(_templateObject()));\nvar sizeMeOptions = {\n  refreshRate: SIZE_ME_REFRESH_RATE,\n  noPlaceholder: true\n};\nexport var ImageCollection = sizeMe(sizeMeOptions)(ImageCollectionComponent);",{"version":3,"sources":["/Users/eve/development/reaction/src/Components/Publishing/Sections/ImageCollection.tsx"],"names":["React","sizeMe","styled","fillwidthDimensions","pMedia","SIZE_ME_REFRESH_RATE","Artwork","Image","ImageCollectionItem","ImageCollectionComponent","dimensions","props","articleLayout","gutter","images","sectionLayout","width","size","renderedImages","map","image","i","url","imageSize","length","renderedImage","type","height","margin","targetHeight","renderImages","PureComponent","ImageCollectionContainer","div","xs","sizeMeOptions","refreshRate","noPlaceholder","ImageCollection"],"mappings":"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","sourcesContent":["import { find } from \"lodash\"\nimport React from \"react\"\nimport sizeMe from \"react-sizeme\"\nimport styled from \"styled-components\"\nimport fillwidthDimensions from \"../../../Utils/fillwidth\"\nimport { pMedia } from \"../../Helpers\"\nimport { SIZE_ME_REFRESH_RATE } from \"../Constants\"\nimport { ArticleLayout, SectionLayout } from \"../Typings\"\nimport { Artwork } from \"./Artwork\"\nimport { Image } from \"./Image\"\nimport { ImageCollectionItem } from \"./ImageCollectionItem\"\n\ninterface ImageCollectionProps {\n  images: any\n  targetHeight?: number\n  gutter?: number\n  sectionLayout?: SectionLayout\n  articleLayout?: ArticleLayout\n  size?: {\n    width: number\n  }\n}\n\nclass ImageCollectionComponent extends React.PureComponent<\n  ImageCollectionProps,\n  null\n> {\n  static defaultProps = {\n    size: {\n      width: 680,\n    },\n  }\n\n  renderImages(dimensions) {\n    const {\n      articleLayout,\n      gutter,\n      images,\n      sectionLayout,\n      size: { width },\n    } = this.props\n\n    const renderedImages = images.map((image, i) => {\n      const url = image.url || image.image\n\n      let imageSize\n      if (width <= 600 || dimensions.length === 1) {\n        imageSize = {}\n      } else {\n        imageSize = find(dimensions, [\"__id\", url])\n      }\n\n      let renderedImage\n      if (image.type === \"image\") {\n        renderedImage = (\n          <Image\n            image={image}\n            sectionLayout={sectionLayout}\n            layout={articleLayout}\n            width={imageSize.width}\n            height={imageSize.height}\n          />\n        )\n      } else if (image.type === \"artwork\") {\n        renderedImage = (\n          <Artwork\n            artwork={image}\n            sectionLayout={sectionLayout}\n            layout={articleLayout}\n            width={imageSize.width}\n            height={imageSize.height}\n          />\n        )\n      } else {\n        return false\n      }\n\n      const margin = i === dimensions.length - 1 ? 0 : gutter\n\n      return (\n        <ImageCollectionItem key={i} margin={margin} width={imageSize.width}>\n          {renderedImage}\n        </ImageCollectionItem>\n      )\n    })\n    return renderedImages\n  }\n\n  render() {\n    const { gutter, images, size, targetHeight } = this.props\n    const dimensions = fillwidthDimensions(\n      images,\n      size.width,\n      gutter,\n      targetHeight\n    )\n    const renderedImages = this.renderImages(dimensions)\n\n    return <ImageCollectionContainer>{renderedImages}</ImageCollectionContainer>\n  }\n}\n\nconst ImageCollectionContainer = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: center;\n\n  ${pMedia.xs`\n    flex-direction: column;\n  `};\n`\n\nconst sizeMeOptions = {\n  refreshRate: SIZE_ME_REFRESH_RATE,\n  noPlaceholder: true,\n}\n\nexport const ImageCollection = sizeMe(sizeMeOptions)(ImageCollectionComponent)\n"]}]}