{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Components/Authentication/Desktop/FormSwitcher.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Authentication/Desktop/FormSwitcher.tsx","mtime":1530027734000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1529423546000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FormSwitcher = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _Events = _interopRequireDefault(require(\"../../../Utils/Events\"));\n\nvar _track = require(\"../../../Utils/track\");\n\nvar _Types = require(\"../Types\");\n\nvar _ForgotPasswordForm = require(\"./ForgotPasswordForm\");\n\nvar _LoginForm = require(\"./LoginForm\");\n\nvar _SignUpForm = require(\"./SignUpForm\");\n\nvar _dec, _class, _class2, _temp;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nvar FormSwitcher = (_dec = (0, _track.track)({}, {\n  dispatch: function dispatch(data) {\n    return _Events.default.postEvent(data);\n  }\n}), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FormSwitcher, _React$Component);\n\n  function FormSwitcher(props) {\n    var _this;\n\n    _classCallCheck(this, FormSwitcher);\n\n    _this = _possibleConstructorReturn(this, (FormSwitcher.__proto__ || Object.getPrototypeOf(FormSwitcher)).call(this, props));\n    Object.defineProperty(_assertThisInitialized(_this), \"presentModal\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value(newType) {\n        _this.setState({\n          type: newType\n        });\n      }\n    });\n    _this.state = {\n      type: _this.props.type\n    };\n    return _this;\n  }\n\n  _createClass(FormSwitcher, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _props = this.props,\n          _props$options = _props.options,\n          contextModule = _props$options.contextModule,\n          copy = _props$options.copy,\n          destination = _props$options.destination,\n          redirectTo = _props$options.redirectTo,\n          intent = _props$options.intent,\n          trigger = _props$options.trigger,\n          triggerSeconds = _props$options.triggerSeconds,\n          type = _props.type,\n          tracking = _props.tracking; // Analytics\n\n      var event = Object.assign({\n        action: \"Auth impression\",\n        type: type,\n        context_module: contextModule,\n        modal_copy: copy,\n        trigger: trigger || \"click\",\n        trigger_seconds: triggerSeconds,\n        intent: intent,\n        auth_redirect: redirectTo || destination\n      }, type === \"signup\" ? {\n        onboarding: !redirectTo\n      } : null);\n\n      if (tracking) {\n        tracking.trackEvent(event);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.type !== nextProps.type && nextProps.type) {\n        this.setState({\n          type: nextProps.type\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _props2 = this.props,\n          error = _props2.error,\n          onFacebookLogin = _props2.onFacebookLogin,\n          onTwitterLogin = _props2.onTwitterLogin;\n      var Form;\n\n      switch (this.state.type) {\n        case _Types.ModalType.login:\n          Form = _LoginForm.LoginForm;\n          break;\n\n        case _Types.ModalType.signup:\n          Form = _SignUpForm.SignUpForm;\n          break;\n\n        case _Types.ModalType.forgot:\n          Form = _ForgotPasswordForm.ForgotPasswordForm;\n          break;\n\n        default:\n          return null;\n      }\n\n      var values = this.props.values;\n      var defaultValues = {\n        email: values.email || \"\",\n        password: values.password || \"\",\n        name: values.name || \"\",\n        accepted_terms_of_service: values.acceptedTermsOfService || false\n      };\n      return _react.default.createElement(Form, {\n        error: error,\n        values: defaultValues,\n        handleTypeChange: this.presentModal,\n        handleSubmit: this.props.handleSubmit,\n        onFacebookLogin: onFacebookLogin,\n        onTwitterLogin: onTwitterLogin\n      });\n    }\n  }]);\n\n  return FormSwitcher;\n}(_react.default.Component), Object.defineProperty(_class2, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    values: {}\n  }\n}), _temp)) || _class);\nexports.FormSwitcher = FormSwitcher;",{"version":3,"sources":["src/Components/Authentication/Desktop/FormSwitcher.tsx"],"names":["FormSwitcher","dispatch","postEvent","data","props","newType","setState","type","state","options","contextModule","copy","destination","redirectTo","intent","trigger","triggerSeconds","tracking","event","Object","assign","action","context_module","modal_copy","trigger_seconds","auth_redirect","onboarding","trackEvent","nextProps","error","onFacebookLogin","onTwitterLogin","Form","login","signup","forgot","values","defaultValues","email","password","name","accepted_terms_of_service","acceptedTermsOfService","presentModal","handleSubmit","Component"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AAOA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;IAkBaA,Y,WADZ,kBAAM,EAAN,EAAU;AAAEC,YAAU;AAAA,WAAQ,gBAAOC,SAAP,CAAiBC,IAAjB,CAAR;AAAA;AAAZ,CAAV,C;;;;;AAMC,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,wHAAMA,KAAN;AADiB;AAAA;AAAA;AAAA;AAAA,aAqDJ,eAACC,OAAD,EAAwB;AACrC,cAAKC,QAAL,CAAc;AAAEC,gBAAMF;AAAR,SAAd;AACD;AAvDkB;AAEjB,UAAKG,KAAL,GAAa;AACXD,YAAM,MAAKH,KAAL,CAAWG;AADN,KAAb;AAFiB;AAKlB;;;;wCAEmB;AAAA,mBAad,KAAKH,KAbS;AAAA,kCAEhBK,OAFgB;AAAA,UAGdC,aAHc,kBAGdA,aAHc;AAAA,UAIdC,IAJc,kBAIdA,IAJc;AAAA,UAKdC,WALc,kBAKdA,WALc;AAAA,UAMdC,UANc,kBAMdA,UANc;AAAA,UAOdC,MAPc,kBAOdA,MAPc;AAAA,UAQdC,OARc,kBAQdA,OARc;AAAA,UASdC,cATc,kBASdA,cATc;AAAA,UAWhBT,IAXgB,UAWhBA,IAXgB;AAAA,UAYhBU,QAZgB,UAYhBA,QAZgB,EAelB;;AACA,UAAMC,QAAQC,OAAOC,MAAP,CACZ;AACEC,gBAAQ,iBADV;AAEEd,kBAFF;AAGEe,wBAAgBZ,aAHlB;AAIEa,oBAAYZ,IAJd;AAKEI,iBAASA,WAAW,OALtB;AAMES,yBAAiBR,cANnB;AAOEF,sBAPF;AAQEW,uBAAeZ,cAAcD;AAR/B,OADY,EAWZL,SAAS,QAAT,GACI;AACEmB,oBAAY,CAACb;AADf,OADJ,GAII,IAfQ,CAAd;;AAiBA,UAAII,QAAJ,EAAc;AACZA,iBAASU,UAAT,CAAoBT,KAApB;AACD;AACF;;;8CAEyBU,S,EAAW;AACnC,UAAI,KAAKxB,KAAL,CAAWG,IAAX,KAAoBqB,UAAUrB,IAA9B,IAAsCqB,UAAUrB,IAApD,EAA0D;AACxD,aAAKD,QAAL,CAAc;AACZC,gBAAMqB,UAAUrB;AADJ,SAAd;AAGD;AACF;;;6BAMQ;AAAA,oBAC4C,KAAKH,KADjD;AAAA,UACCyB,KADD,WACCA,KADD;AAAA,UACQC,eADR,WACQA,eADR;AAAA,UACyBC,cADzB,WACyBA,cADzB;AAGP,UAAIC,IAAJ;;AACA,cAAQ,KAAKxB,KAAL,CAAWD,IAAnB;AACE,aAAK,iBAAU0B,KAAf;AACED;AACA;;AACF,aAAK,iBAAUE,MAAf;AACEF;AACA;;AACF,aAAK,iBAAUG,MAAf;AACEH;AACA;;AACF;AACE,iBAAO,IAAP;AAXJ;;AAJO,UAkBCI,MAlBD,GAkBY,KAAKhC,KAlBjB,CAkBCgC,MAlBD;AAmBP,UAAMC,gBAAgB;AACpBC,eAAOF,OAAOE,KAAP,IAAgB,EADH;AAEpBC,kBAAUH,OAAOG,QAAP,IAAmB,EAFT;AAGpBC,cAAMJ,OAAOI,IAAP,IAAe,EAHD;AAIpBC,mCAA2BL,OAAOM,sBAAP,IAAiC;AAJxC,OAAtB;AAOA,aACE,6BAAC,IAAD;AACE,eAAOb,KADT;AAEE,gBAAQQ,aAFV;AAGE,0BAAkB,KAAKM,YAHzB;AAIE,sBAAc,KAAKvC,KAAL,CAAWwC,YAJ3B;AAKE,yBAAiBd,eALnB;AAME,wBAAgBC;AANlB,QADF;AAUD;;;;EAlG+B,eAAMc,S;;;;SACY;AAChDT,YAAQ;AADwC","file":"/Users/eve/development/reaction/src/Components/Authentication/Desktop/FormSwitcher.tsx","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import React from \"react\"\nimport Events from \"Utils/Events\"\nimport { track } from \"Utils/track\"\nimport {\n  FormComponentType,\n  InputValues,\n  ModalOptions,\n  ModalType,\n  SubmitHandler,\n} from \"../Types\"\nimport { ForgotPasswordForm } from \"./ForgotPasswordForm\"\nimport { LoginForm } from \"./LoginForm\"\nimport { SignUpForm } from \"./SignUpForm\"\n\nexport interface FormSwitcherProps {\n  handleSubmit: SubmitHandler\n  options: ModalOptions\n  tracking?: any\n  type: ModalType\n  values?: InputValues\n  error?: string\n  onFacebookLogin?: (e: Event) => void\n  onTwitterLogin?: (e: Event) => void\n}\n\nexport interface State {\n  type?: ModalType\n}\n\n@track({}, { dispatch: data => Events.postEvent(data) })\nexport class FormSwitcher extends React.Component<FormSwitcherProps, State> {\n  static defaultProps: Partial<FormSwitcherProps> = {\n    values: {},\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      type: this.props.type,\n    }\n  }\n\n  componentDidMount() {\n    const {\n      options: {\n        contextModule,\n        copy,\n        destination,\n        redirectTo,\n        intent,\n        trigger,\n        triggerSeconds,\n      },\n      type,\n      tracking,\n    } = this.props\n\n    // Analytics\n    const event = Object.assign(\n      {\n        action: \"Auth impression\",\n        type,\n        context_module: contextModule,\n        modal_copy: copy,\n        trigger: trigger || \"click\",\n        trigger_seconds: triggerSeconds,\n        intent,\n        auth_redirect: redirectTo || destination,\n      },\n      type === \"signup\"\n        ? {\n            onboarding: !redirectTo,\n          }\n        : null\n    )\n    if (tracking) {\n      tracking.trackEvent(event)\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.type !== nextProps.type && nextProps.type) {\n      this.setState({\n        type: nextProps.type,\n      })\n    }\n  }\n\n  presentModal = (newType: ModalType) => {\n    this.setState({ type: newType })\n  }\n\n  render() {\n    const { error, onFacebookLogin, onTwitterLogin } = this.props\n\n    let Form: FormComponentType\n    switch (this.state.type) {\n      case ModalType.login:\n        Form = LoginForm\n        break\n      case ModalType.signup:\n        Form = SignUpForm\n        break\n      case ModalType.forgot:\n        Form = ForgotPasswordForm\n        break\n      default:\n        return null\n    }\n\n    const { values } = this.props\n    const defaultValues = {\n      email: values.email || \"\",\n      password: values.password || \"\",\n      name: values.name || \"\",\n      accepted_terms_of_service: values.acceptedTermsOfService || false,\n    }\n\n    return (\n      <Form\n        error={error}\n        values={defaultValues}\n        handleTypeChange={this.presentModal}\n        handleSubmit={this.props.handleSubmit}\n        onFacebookLogin={onFacebookLogin}\n        onTwitterLogin={onTwitterLogin}\n      />\n    )\n  }\n}\n"]}]}