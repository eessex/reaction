{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--5-1!/Users/eve/development/reaction/src/Components/Wizard.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Wizard.tsx","mtime":1524249962000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1519658991000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _Inverted = _interopRequireDefault(require(\"./Buttons/Inverted\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nvar Wizard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Wizard, _React$Component);\n\n  function Wizard(props, state) {\n    var _this;\n\n    _classCallCheck(this, Wizard);\n\n    _this = _possibleConstructorReturn(this, (Wizard.__proto__ || Object.getPrototypeOf(Wizard)).call(this, props, state));\n    Object.defineProperty(_assertThisInitialized(_this), \"shouldAllowNextStop\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: false\n    });\n    _this.state = {\n      currentStep: 0,\n      nextButtonEnabled: false\n    };\n    return _this;\n  }\n\n  _createClass(Wizard, [{\n    key: \"disableButton\",\n    value: function disableButton(hasError) {\n      this.setState({\n        nextButtonEnabled: !hasError\n      });\n    }\n  }, {\n    key: \"getCurrentStep\",\n    value: function getCurrentStep() {\n      var currentStep = this.state.currentStep;\n\n      if (currentStep > this.stepComponents.length - 1) {\n        return null;\n      }\n\n      var CurrentStep = this.stepComponents[currentStep];\n      return CurrentStep;\n    }\n  }, {\n    key: \"onNextButtonPressed\",\n    value: function onNextButtonPressed() {\n      if (this.state.currentStep >= this.stepComponents.length - 1) {\n        return;\n      }\n\n      var stepIndex = this.state.currentStep + 1;\n      this.setState({\n        currentStep: stepIndex\n      });\n    }\n  }, {\n    key: \"validate\",\n    value: function validate() {\n      var _this2 = this;\n\n      var step = this.stepComponents[this.state.currentStep];\n\n      var hasErrors = _react.Children.toArray(step.props.children).map(function (input) {\n        return Boolean(_this2.props.errors[input.props.name]);\n      }).reduce(function (acc, currentValue) {\n        return acc && currentValue;\n      });\n\n      return hasErrors;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var step = this.stepComponents[this.state.currentStep];\n      this.shouldAllowNextStop = this.validate();\n      return _react.default.createElement(\"div\", null, step, _react.default.createElement(_Inverted.default, {\n        type: \"submit\",\n        disabled: this.shouldAllowNextStop,\n        block: true,\n        onClick: this.onNextButtonPressed.bind(this)\n      }, \"Next\"));\n    }\n  }, {\n    key: \"stepComponents\",\n    get: function get() {\n      return _react.Children.toArray(this.props.children);\n    }\n  }]);\n\n  return Wizard;\n}(_react.default.Component);\n\nvar _default = Wizard;\nexports.default = _default;",{"version":3,"sources":["src/Components/Wizard.tsx"],"names":["Wizard","props","state","currentStep","nextButtonEnabled","hasError","setState","stepComponents","length","CurrentStep","stepIndex","step","hasErrors","toArray","children","map","input","Boolean","errors","name","reduce","acc","currentValue","shouldAllowNextStop","validate","onNextButtonPressed","bind","Component"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;;;;;IAWMA,M;;;;;AAGJ,kBAAYC,KAAZ,EAAmBC,KAAnB,EAA0B;AAAA;;AAAA;;AACxB,4GAAMD,KAAN,EAAaC,KAAb;AADwB;AAAA;AAAA;AAAA;AAAA,aAFJ;AAEI;AAGxB,UAAKA,KAAL,GAAa;AACXC,mBAAa,CADF;AAEXC,yBAAmB;AAFR,KAAb;AAHwB;AAOzB;;;;kCAMaC,Q,EAAmB;AAC/B,WAAKC,QAAL,CAAc;AAAEF,2BAAmB,CAACC;AAAtB,OAAd;AACD;;;qCAEoC;AACnC,UAAMF,cAAc,KAAKD,KAAL,CAAWC,WAA/B;;AAEA,UAAIA,cAAc,KAAKI,cAAL,CAAoBC,MAApB,GAA6B,CAA/C,EAAkD;AAChD,eAAO,IAAP;AACD;;AAED,UAAMC,cAAc,KAAKF,cAAL,CAAoBJ,WAApB,CAApB;AAIA,aAAOM,WAAP;AACD;;;0CAEqB;AACpB,UAAI,KAAKP,KAAL,CAAWC,WAAX,IAA0B,KAAKI,cAAL,CAAoBC,MAApB,GAA6B,CAA3D,EAA8D;AAC5D;AACD;;AAED,UAAME,YAAY,KAAKR,KAAL,CAAWC,WAAX,GAAyB,CAA3C;AACA,WAAKG,QAAL,CAAc;AAAEH,qBAAaO;AAAf,OAAd;AACD;;;+BAEmB;AAAA;;AAClB,UAAMC,OAAO,KAAKJ,cAAL,CAAoB,KAAKL,KAAL,CAAWC,WAA/B,CAAb;;AAEA,UAAMS,YAAY,gBAASC,OAAT,CAAiBF,KAAKV,KAAL,CAAWa,QAA5B,EACfC,GADe,CACX,UAACC,KAAD,EAAgB;AACnB,eAAOC,QAAQ,OAAKhB,KAAL,CAAWiB,MAAX,CAAkBF,MAAMf,KAAN,CAAYkB,IAA9B,CAAR,CAAP;AACD,OAHe,EAIfC,MAJe,CAIR,UAACC,GAAD,EAAMC,YAAN;AAAA,eAAuBD,OAAOC,YAA9B;AAAA,OAJQ,CAAlB;;AAMA,aAAOV,SAAP;AACD;;;6BAEQ;AACP,UAAMD,OAAO,KAAKJ,cAAL,CAAoB,KAAKL,KAAL,CAAWC,WAA/B,CAAb;AACA,WAAKoB,mBAAL,GAA2B,KAAKC,QAAL,EAA3B;AACA,aACE,0CACGb,IADH,EAGE;AACE,cAAK,QADP;AAEE,kBAAU,KAAKY,mBAFjB;AAGE,mBAHF;AAIE,iBAAS,KAAKE,mBAAL,CAAyBC,IAAzB,CAA8B,IAA9B;AAJX,gBAHF,CADF;AAcD;;;wBA5DoB;AACnB,aAAO,gBAASb,OAAT,CAAiB,KAAKZ,KAAL,CAAWa,QAA5B,CAAP;AACD;;;;EAdkB,eAAMa,S;;eA2EZ3B,M","file":"/Users/eve/development/reaction/src/Components/Wizard.tsx","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import React, { Children } from \"react\"\nimport Button from \"./Buttons/Inverted\"\n\ninterface Props {\n  errors: any\n}\n\ninterface State {\n  currentStep: number\n  nextButtonEnabled: boolean\n}\n\nclass Wizard extends React.Component<Props, State> {\n  shouldAllowNextStop = false\n\n  constructor(props, state) {\n    super(props, state)\n\n    this.state = {\n      currentStep: 0,\n      nextButtonEnabled: false,\n    }\n  }\n\n  get stepComponents() {\n    return Children.toArray(this.props.children)\n  }\n\n  disableButton(hasError: boolean) {\n    this.setState({ nextButtonEnabled: !hasError })\n  }\n\n  getCurrentStep(): JSX.Element | null {\n    const currentStep = this.state.currentStep\n\n    if (currentStep > this.stepComponents.length - 1) {\n      return null\n    }\n\n    const CurrentStep = this.stepComponents[currentStep] as React.ReactElement<\n      any\n    >\n\n    return CurrentStep\n  }\n\n  onNextButtonPressed() {\n    if (this.state.currentStep >= this.stepComponents.length - 1) {\n      return\n    }\n\n    const stepIndex = this.state.currentStep + 1\n    this.setState({ currentStep: stepIndex })\n  }\n\n  validate(): boolean {\n    const step = this.stepComponents[this.state.currentStep] as any\n\n    const hasErrors = Children.toArray(step.props.children)\n      .map((input: any) => {\n        return Boolean(this.props.errors[input.props.name])\n      })\n      .reduce((acc, currentValue) => acc && currentValue)\n\n    return hasErrors\n  }\n\n  render() {\n    const step = this.stepComponents[this.state.currentStep]\n    this.shouldAllowNextStop = this.validate()\n    return (\n      <div>\n        {step}\n\n        <Button\n          type=\"submit\"\n          disabled={this.shouldAllowNextStop}\n          block\n          onClick={this.onNextButtonPressed.bind(this)}\n        >\n          Next\n        </Button>\n      </div>\n    )\n  }\n}\n\nexport default Wizard\n"]}]}