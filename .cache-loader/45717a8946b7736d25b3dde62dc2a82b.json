{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--5-1!/Users/eve/development/reaction/src/Components/Onboarding/Wizard.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Onboarding/Wizard.tsx","mtime":1524249962000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1527877289000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Wizard = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactRouter = require(\"react-router\");\n\nvar _Events = _interopRequireDefault(require(\"../../Utils/Events\"));\n\nvar _track = require(\"../../Utils/track\");\n\nvar _ProgressIndicator = require(\"../ProgressIndicator\");\n\nvar _Artists = _interopRequireDefault(require(\"./Steps/Artists\"));\n\nvar _Budget = _interopRequireWildcard(require(\"./Steps/Budget\"));\n\nvar _CollectorIntent = _interopRequireWildcard(require(\"./Steps/CollectorIntent\"));\n\nvar _Genes = _interopRequireDefault(require(\"./Steps/Genes\"));\n\nvar _dec, _class;\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nvar STEPS = [\"/personalize/\".concat(_CollectorIntent.CollectorIntentComponent.slug), \"/personalize/\".concat(_Artists.default.slug), \"/personalize/\".concat(_Genes.default.slug), \"/personalize/\".concat(_Budget.BudgetComponent.slug)];\nvar Wizard = (_dec = (0, _track.track)({}, {\n  dispatch: function dispatch(data) {\n    return _Events.default.postEvent(data);\n  }\n}), _dec(_class =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Wizard, _React$Component);\n\n  function Wizard(props) {\n    var _this;\n\n    _classCallCheck(this, Wizard);\n\n    _this = _possibleConstructorReturn(this, (Wizard.__proto__ || Object.getPrototypeOf(Wizard)).call(this, props));\n    Object.defineProperty(_assertThisInitialized(_this), \"onNextButtonPressed\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value(increaseBy, history) {\n        history.push(STEPS[STEPS.indexOf(location.pathname) + increaseBy]);\n      }\n    });\n    Object.defineProperty(_assertThisInitialized(_this), \"onFinish\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value() {\n        _this.setState({\n          finished: true\n        });\n\n        setTimeout(function () {\n          return window.location.href = _this.props.redirectTo || \"/\";\n        }, 500);\n\n        _this.props.tracking.trackEvent({\n          action: \"Completed Onboarding\"\n        });\n      }\n    });\n    _this.state = {\n      finished: false\n    };\n    return _this;\n  }\n\n  _createClass(Wizard, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return _react.default.createElement(\"div\", null, _react.default.createElement(_reactRouter.Route, {\n        path: \"/personalize/*\",\n        render: function render() {\n          return _react.default.createElement(_ProgressIndicator.ProgressIndicator, {\n            percentComplete: _this2.state.finished ? 1 : STEPS.indexOf(location.pathname) / STEPS.length\n          });\n        }\n      }), _react.default.createElement(_reactRouter.Route, {\n        path: \"/personalize/\".concat(_CollectorIntent.CollectorIntentComponent.slug),\n        render: function render(props) {\n          return _react.default.createElement(_CollectorIntent.default, _extends({}, props, {\n            onNextButtonPressed: function onNextButtonPressed() {\n              var increaseBy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n              return _this2.onNextButtonPressed(increaseBy, props.history);\n            }\n          }));\n        }\n      }), _react.default.createElement(_reactRouter.Route, {\n        path: \"/personalize/\".concat(_Artists.default.slug),\n        render: function render(props) {\n          return _react.default.createElement(_Artists.default, _extends({}, props, {\n            onNextButtonPressed: function onNextButtonPressed() {\n              var increaseBy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n              return _this2.onNextButtonPressed(increaseBy, props.history);\n            }\n          }));\n        }\n      }), _react.default.createElement(_reactRouter.Route, {\n        path: \"/personalize/\".concat(_Genes.default.slug),\n        render: function render(props) {\n          return _react.default.createElement(_Genes.default, _extends({}, props, {\n            onNextButtonPressed: function onNextButtonPressed() {\n              var increaseBy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n              return _this2.onNextButtonPressed(increaseBy, props.history);\n            }\n          }));\n        }\n      }), _react.default.createElement(_reactRouter.Route, {\n        path: \"/personalize/\".concat(_Budget.BudgetComponent.slug),\n        render: function render(props) {\n          return _react.default.createElement(_Budget.default, _extends({}, props, {\n            onNextButtonPressed: function onNextButtonPressed() {\n              return _this2.onFinish();\n            }\n          }));\n        }\n      }), new RegExp(\"^/personalize(?!(/\".concat(_CollectorIntent.CollectorIntentComponent.slug, \"|/\").concat(_Artists.default.slug, \"|/\").concat(_Genes.default.slug, \"|/\").concat(_Budget.BudgetComponent.slug, \")).*$\")).exec(location.pathname) && _react.default.createElement(_reactRouter.Redirect, {\n        to: \"/personalize/\".concat(_CollectorIntent.CollectorIntentComponent.slug)\n      }));\n    }\n  }]);\n\n  return Wizard;\n}(_react.default.Component)) || _class);\nexports.Wizard = Wizard;",{"version":3,"sources":["src/Components/Onboarding/Wizard.tsx"],"names":["STEPS","slug","Wizard","dispatch","postEvent","data","props","increaseBy","history","push","indexOf","location","pathname","setState","finished","setTimeout","window","href","redirectTo","tracking","trackEvent","action","state","length","onNextButtonPressed","onFinish","RegExp","exec","Component"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AAGA;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,QAAQ,wBACI,0CAAyBC,IAD7B,0BAEI,iBAAQA,IAFZ,0BAGI,eAAMA,IAHV,0BAII,wBAAgBA,IAJpB,EAAd;IAiBaC,M,WADZ,kBAAM,EAAN,EAAU;AAAEC,YAAU;AAAA,WAAQ,gBAAOC,SAAP,CAAiBC,IAAjB,CAAR;AAAA;AAAZ,CAAV,C;;;;;AAEC,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,4GAAMA,KAAN;AADiB;AAAA;AAAA;AAAA;AAAA,aAOG,eAACC,UAAD,EAAaC,OAAb,EAAyB;AAC7CA,gBAAQC,IAAR,CAAaT,MAAMA,MAAMU,OAAN,CAAcC,SAASC,QAAvB,IAAmCL,UAAzC,CAAb;AACD;AATkB;AAAA;AAAA;AAAA;AAAA;AAAA,aAWR,iBAAM;AACf,cAAKM,QAAL,CAAc;AAAEC,oBAAU;AAAZ,SAAd;;AACAC,mBAAW;AAAA,iBAAOC,OAAOL,QAAP,CAAgBM,IAAhB,GAAuB,MAAKX,KAAL,CAAWY,UAAX,IAAyB,GAAvD;AAAA,SAAX,EAAwE,GAAxE;;AAEA,cAAKZ,KAAL,CAAWa,QAAX,CAAoBC,UAApB,CAA+B;AAC7BC,kBAAQ;AADqB,SAA/B;AAGD;AAlBkB;AAEjB,UAAKC,KAAL,GAAa;AACXR,gBAAU;AADC,KAAb;AAFiB;AAKlB;;;;6BAeQ;AAAA;;AACP,aACE,0CACE;AACE,cAAK,gBADP;AAEE,gBAAQ;AAAA,iBACN;AACE,6BACE,OAAKQ,KAAL,CAAWR,QAAX,GACI,CADJ,GAEId,MAAMU,OAAN,CAAcC,SAASC,QAAvB,IAAmCZ,MAAMuB;AAJjD,YADM;AAAA;AAFV,QADF,EAcE;AACE,qCAAsB,0CAAyBtB,IAA/C,CADF;AAEE,gBAAQ;AAAA,iBACN,oEACMK,KADN;AAEE,iCAAqB;AAAA,kBAACC,UAAD,uEAAc,CAAd;AAAA,qBACnB,OAAKiB,mBAAL,CAAyBjB,UAAzB,EAAqCD,MAAME,OAA3C,CADmB;AAAA;AAFvB,aADM;AAAA;AAFV,QAdF,EAwBE;AACE,qCAAsB,iBAAQP,IAA9B,CADF;AAEE,gBAAQ;AAAA,iBACN,4DACMK,KADN;AAEE,iCAAqB;AAAA,kBAACC,UAAD,uEAAc,CAAd;AAAA,qBACnB,OAAKiB,mBAAL,CAAyBjB,UAAzB,EAAqCD,MAAME,OAA3C,CADmB;AAAA;AAFvB,aADM;AAAA;AAFV,QAxBF,EAkCE;AACE,qCAAsB,eAAMP,IAA5B,CADF;AAEE,gBAAQ;AAAA,iBACN,0DACMK,KADN;AAEE,iCAAqB;AAAA,kBAACC,UAAD,uEAAc,CAAd;AAAA,qBACnB,OAAKiB,mBAAL,CAAyBjB,UAAzB,EAAqCD,MAAME,OAA3C,CADmB;AAAA;AAFvB,aADM;AAAA;AAFV,QAlCF,EA4CE;AACE,qCAAsB,wBAAgBP,IAAtC,CADF;AAEE,gBAAQ;AAAA,iBACN,2DAAYK,KAAZ;AAAmB,iCAAqB;AAAA,qBAAM,OAAKmB,QAAL,EAAN;AAAA;AAAxC,aADM;AAAA;AAFV,QA5CF,EAmDG,IAAIC,MAAJ,6BACsB,0CAAyBzB,IAD/C,eACwD,iBAAQA,IADhE,eACyE,eAAMA,IAD/E,eACwF,wBAAgBA,IADxG,YAEC0B,IAFD,CAEMhB,SAASC,QAFf,KAGC;AAAU,mCAAoB,0CAAyBX,IAA7C;AAAV,QAtDJ,CADF;AA2DD;;;;EAjFyB,eAAM2B,S","file":"/Users/eve/development/reaction/src/Components/Onboarding/Wizard.tsx","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import React from \"react\"\nimport { Redirect, Route } from \"react-router\"\n\nimport Events from \"../../Utils/Events\"\nimport { track } from \"../../Utils/track\"\nimport { ProgressIndicator } from \"../ProgressIndicator\"\n\nimport Artists from \"./Steps/Artists\"\nimport Budget, { BudgetComponent } from \"./Steps/Budget\"\nimport CollectorIntent, {\n  CollectorIntentComponent,\n} from \"./Steps/CollectorIntent\"\nimport Genes from \"./Steps/Genes\"\n\nconst STEPS = [\n  `/personalize/${CollectorIntentComponent.slug}`,\n  `/personalize/${Artists.slug}`,\n  `/personalize/${Genes.slug}`,\n  `/personalize/${BudgetComponent.slug}`,\n]\n\nexport interface Props {\n  redirectTo?: string\n  tracking?: any\n}\n\nexport interface State {\n  finished: boolean\n}\n\n@track({}, { dispatch: data => Events.postEvent(data) })\nexport class Wizard extends React.Component<Props, State> {\n  constructor(props) {\n    super(props)\n    this.state = {\n      finished: false,\n    }\n  }\n\n  onNextButtonPressed = (increaseBy, history) => {\n    history.push(STEPS[STEPS.indexOf(location.pathname) + increaseBy])\n  }\n\n  onFinish = () => {\n    this.setState({ finished: true })\n    setTimeout(() => (window.location.href = this.props.redirectTo || \"/\"), 500)\n\n    this.props.tracking.trackEvent({\n      action: \"Completed Onboarding\",\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <Route\n          path=\"/personalize/*\"\n          render={() => (\n            <ProgressIndicator\n              percentComplete={\n                this.state.finished\n                  ? 1\n                  : STEPS.indexOf(location.pathname) / STEPS.length\n              }\n            />\n          )}\n        />\n\n        <Route\n          path={`/personalize/${CollectorIntentComponent.slug}`}\n          render={props => (\n            <CollectorIntent\n              {...props}\n              onNextButtonPressed={(increaseBy = 1) =>\n                this.onNextButtonPressed(increaseBy, props.history)}\n            />\n          )}\n        />\n        <Route\n          path={`/personalize/${Artists.slug}`}\n          render={props => (\n            <Artists\n              {...props}\n              onNextButtonPressed={(increaseBy = 1) =>\n                this.onNextButtonPressed(increaseBy, props.history)}\n            />\n          )}\n        />\n        <Route\n          path={`/personalize/${Genes.slug}`}\n          render={props => (\n            <Genes\n              {...props}\n              onNextButtonPressed={(increaseBy = 1) =>\n                this.onNextButtonPressed(increaseBy, props.history)}\n            />\n          )}\n        />\n        <Route\n          path={`/personalize/${BudgetComponent.slug}`}\n          render={props => (\n            <Budget {...props} onNextButtonPressed={() => this.onFinish()} />\n          )}\n        />\n\n        {new RegExp(\n          `^/personalize(?!(/${CollectorIntentComponent.slug}|/${Artists.slug}|/${Genes.slug}|/${BudgetComponent.slug})).*$`\n        ).exec(location.pathname) && (\n          <Redirect to={`/personalize/${CollectorIntentComponent.slug}`} />\n        )}\n      </div>\n    )\n  }\n}\n"]}]}