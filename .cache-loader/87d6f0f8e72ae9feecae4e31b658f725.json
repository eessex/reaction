{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Apps/Order/Routes/Review/index.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Apps/Order/Routes/Review/index.tsx","mtime":1538070271000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1537112679000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["var _graphql;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Button, Flex, Join, Sans, Spacer } from \"@artsy/palette\";\nimport { BuyNowStepper } from \"../../Components/BuyNowStepper\";\nimport { ItemReviewFragmentContainer as ItemReview } from \"../../Components/ItemReview\";\nimport { ShippingAndPaymentReviewFragmentContainer as ShippingAndPaymentReview } from \"../../Components/ShippingAndPaymentReview\";\nimport { ErrorModal } from \"../../../../Components/Modal/ErrorModal\";\nimport React, { Component } from \"react\";\nimport { commitMutation, createFragmentContainer, graphql } from \"react-relay\";\nimport { Col, Row } from \"../../../../Styleguide/Elements/Grid\";\nimport { Responsive } from \"../../../../Utils/Responsive\";\nimport { Helper } from \"../../Components/Helper\";\nimport { TransactionSummaryFragmentContainer as TransactionSummary } from \"../../Components/TransactionSummary\";\nimport { TwoColumnLayout } from \"../../Components/TwoColumnLayout\";\nexport var ReviewRoute =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ReviewRoute, _Component);\n\n  function ReviewRoute() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ReviewRoute);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ReviewRoute)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n      isSubmitting: false,\n      isErrorModalOpen: false,\n      errorModalMessage: null\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onCloseModal\", function () {\n      _this.setState({\n        isErrorModalOpen: false\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(ReviewRoute, [{\n    key: \"onOrderSubmitted\",\n    value: function onOrderSubmitted() {\n      var _this2 = this;\n\n      if (this.props.relay && this.props.relay.environment) {\n        this.setState({\n          isSubmitting: true\n        }, function () {\n          return commitMutation(_this2.props.relay.environment, {\n            mutation: _graphql || (_graphql = function _graphql() {\n              var node = require(\"../../../../__generated__/ReviewSubmitOrderMutation.graphql\");\n\n              if (node.hash && node.hash !== \"782db6e616700ecab8b28acdc829255f\") {\n                console.error(\"The definition of 'ReviewSubmitOrderMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\");\n              }\n\n              return require(\"../../../../__generated__/ReviewSubmitOrderMutation.graphql\");\n            }),\n            variables: {\n              input: {\n                orderId: _this2.props.order.id\n              }\n            },\n            onCompleted: function onCompleted(result) {\n              if (\"error\" in result.submitOrder.orderOrError) {\n                _this2.onMutationError(result.submitOrder.orderOrError.error);\n\n                return;\n              }\n\n              _this2.props.router.push(\"/order2/\".concat(_this2.props.order.id, \"/status\"));\n            },\n            onError: _this2.onMutationError.bind(_this2)\n          });\n        });\n      }\n    }\n  }, {\n    key: \"onMutationError\",\n    value: function onMutationError(errors, errorModalMessage) {\n      console.error(\"Order/Routes/Review/index.tsx\", errors);\n      this.setState({\n        isSubmitting: false,\n        isErrorModalOpen: true,\n        errorModalMessage: errorModalMessage\n      });\n    }\n  }, {\n    key: \"onChangePayment\",\n    value: function onChangePayment() {\n      console.log(\"Clicked to change payment\");\n    }\n  }, {\n    key: \"onChangeShipping\",\n    value: function onChangeShipping() {\n      console.log(\"Clicked to change shipping\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var order = this.props.order;\n      var isSubmitting = this.state.isSubmitting;\n      return React.createElement(React.Fragment, null, React.createElement(Row, null, React.createElement(Col, null, React.createElement(BuyNowStepper, {\n        currentStep: \"review\"\n      }))), React.createElement(Spacer, {\n        mb: 3\n      }), React.createElement(Responsive, null, function (_ref) {\n        var xs = _ref.xs;\n        return React.createElement(TwoColumnLayout, {\n          Content: React.createElement(React.Fragment, null, React.createElement(Join, {\n            separator: React.createElement(Spacer, {\n              mb: 3\n            })\n          }, React.createElement(ShippingAndPaymentReview, {\n            order: order,\n            onChangePayment: _this3.onChangePayment,\n            onChangeShipping: _this3.onChangeShipping,\n            mb: xs ? 2 : 3\n          }), !xs && React.createElement(React.Fragment, null, React.createElement(ItemReview, {\n            artwork: order.lineItems.edges[0].node.artwork\n          }), React.createElement(Spacer, {\n            mb: 3\n          }), React.createElement(Button, {\n            size: \"large\",\n            width: \"100%\",\n            loading: isSubmitting,\n            onClick: function onClick() {\n              return _this3.onOrderSubmitted();\n            }\n          }, \"Submit\"), React.createElement(Spacer, {\n            mb: 2\n          }), React.createElement(Sans, {\n            textAlign: \"center\",\n            size: \"2\",\n            color: \"black60\"\n          }, \"By clicking Submit, I agree to Artsy\\u2019s\", \" \", React.createElement(\"a\", {\n            href: \"https://www.artsy.net/conditions-of-sale\",\n            target: \"_blank\"\n          }, \"Conditions of Sale\"), \".\"))), React.createElement(Spacer, {\n            mb: 3\n          })),\n          Sidebar: React.createElement(Flex, {\n            flexDirection: \"column\"\n          }, React.createElement(TransactionSummary, {\n            order: order,\n            mb: xs ? 2 : 3\n          }), !xs && React.createElement(Helper, {\n            artworkId: order.lineItems.edges[0].node.artwork.id\n          }), xs && React.createElement(React.Fragment, null, React.createElement(Button, {\n            size: \"large\",\n            width: \"100%\",\n            loading: isSubmitting,\n            onClick: function onClick() {\n              return _this3.onOrderSubmitted();\n            }\n          }, \"Submit\"), React.createElement(Spacer, {\n            mb: 2\n          }), React.createElement(Sans, {\n            size: \"2\",\n            color: \"black60\"\n          }, \"By clicking Submit, I agree to Artsy\\u2019s\", \" \", React.createElement(\"a\", {\n            href: \"https://www.artsy.net/conditions-of-sale\",\n            target: \"_blank\"\n          }, \"Conditions of Sale\"), \".\"), React.createElement(Spacer, {\n            mb: 2\n          }), React.createElement(Helper, {\n            artworkId: order.lineItems.edges[0].node.artwork.id\n          })))\n        });\n      }), React.createElement(ErrorModal, {\n        onClose: this.onCloseModal,\n        show: this.state.isErrorModalOpen,\n        detailText: this.state.errorModalMessage\n      }));\n    }\n  }]);\n\n  return ReviewRoute;\n}(Component);\nexport var ReviewFragmentContainer = createFragmentContainer(ReviewRoute, {\n  order: function order() {\n    var node = require(\"../../../../__generated__/Review_order.graphql\");\n\n    if (node.hash && node.hash !== \"df52d5788d78942fe9c4ff41f50c9192\") {\n      console.error(\"The definition of 'Review_order' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\");\n    }\n\n    return require(\"../../../../__generated__/Review_order.graphql\");\n  }\n});",{"version":3,"sources":["/Users/eve/development/reaction/src/Apps/Order/Routes/Review/index.tsx"],"names":["Button","Flex","Join","Sans","Spacer","BuyNowStepper","ItemReviewFragmentContainer","ItemReview","ShippingAndPaymentReviewFragmentContainer","ShippingAndPaymentReview","ErrorModal","React","Component","commitMutation","createFragmentContainer","graphql","Col","Row","Responsive","Helper","TransactionSummaryFragmentContainer","TransactionSummary","TwoColumnLayout","ReviewRoute","isSubmitting","isErrorModalOpen","errorModalMessage","setState","props","relay","environment","mutation","variables","input","orderId","order","id","onCompleted","result","submitOrder","orderOrError","onMutationError","error","router","push","onError","bind","errors","console","log","state","xs","onChangePayment","onChangeShipping","lineItems","edges","node","artwork","onOrderSubmitted","onCloseModal","ReviewFragmentContainer"],"mappings":"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","sourcesContent":["import { Button, Flex, Join, Sans, Spacer } from \"@artsy/palette\"\nimport { Review_order } from \"__generated__/Review_order.graphql\"\nimport { ReviewSubmitOrderMutation } from \"__generated__/ReviewSubmitOrderMutation.graphql\"\nimport { BuyNowStepper } from \"Apps/Order/Components/BuyNowStepper\"\nimport { ItemReviewFragmentContainer as ItemReview } from \"Apps/Order/Components/ItemReview\"\nimport { ShippingAndPaymentReviewFragmentContainer as ShippingAndPaymentReview } from \"Apps/Order/Components/ShippingAndPaymentReview\"\nimport { ErrorModal } from \"Components/Modal/ErrorModal\"\nimport { Router } from \"found\"\nimport React, { Component } from \"react\"\nimport {\n  commitMutation,\n  createFragmentContainer,\n  graphql,\n  RelayProp,\n} from \"react-relay\"\nimport { Col, Row } from \"Styleguide/Elements/Grid\"\nimport { Responsive } from \"Utils/Responsive\"\nimport { Helper } from \"../../Components/Helper\"\nimport { TransactionSummaryFragmentContainer as TransactionSummary } from \"../../Components/TransactionSummary\"\nimport { TwoColumnLayout } from \"../../Components/TwoColumnLayout\"\n\nexport interface ReviewProps {\n  order: Review_order\n  relay?: RelayProp\n  router: Router\n}\n\ninterface ReviewState {\n  isSubmitting: boolean\n  isErrorModalOpen: boolean\n  errorModalMessage: string\n}\n\nexport class ReviewRoute extends Component<ReviewProps, ReviewState> {\n  state = {\n    isSubmitting: false,\n    isErrorModalOpen: false,\n    errorModalMessage: null,\n  }\n\n  onOrderSubmitted() {\n    if (this.props.relay && this.props.relay.environment) {\n      this.setState({ isSubmitting: true }, () =>\n        commitMutation<ReviewSubmitOrderMutation>(\n          this.props.relay.environment,\n          {\n            mutation: graphql`\n              mutation ReviewSubmitOrderMutation($input: SubmitOrderInput!) {\n                submitOrder(input: $input) {\n                  orderOrError {\n                    __typename\n                    ... on OrderWithMutationFailure {\n                      error {\n                        type\n                        code\n                        data\n                      }\n                    }\n                  }\n                }\n              }\n            `,\n            variables: {\n              input: {\n                orderId: this.props.order.id,\n              },\n            },\n            onCompleted: result => {\n              if (\"error\" in result.submitOrder.orderOrError) {\n                this.onMutationError(result.submitOrder.orderOrError.error)\n                return\n              }\n\n              this.props.router.push(`/order2/${this.props.order.id}/status`)\n            },\n            onError: this.onMutationError.bind(this),\n          }\n        )\n      )\n    }\n  }\n\n  private onMutationError(errors, errorModalMessage?) {\n    console.error(\"Order/Routes/Review/index.tsx\", errors)\n    this.setState({\n      isSubmitting: false,\n      isErrorModalOpen: true,\n      errorModalMessage,\n    })\n  }\n\n  onChangePayment() {\n    console.log(\"Clicked to change payment\")\n  }\n\n  onChangeShipping() {\n    console.log(\"Clicked to change shipping\")\n  }\n\n  onCloseModal = () => {\n    this.setState({ isErrorModalOpen: false })\n  }\n\n  render() {\n    const { order } = this.props\n    const { isSubmitting } = this.state\n\n    return (\n      <>\n        <Row>\n          <Col>\n            <BuyNowStepper currentStep={\"review\"} />\n          </Col>\n        </Row>\n\n        <Spacer mb={3} />\n\n        <Responsive>\n          {({ xs }) => (\n            <TwoColumnLayout\n              Content={\n                <>\n                  <Join separator={<Spacer mb={3} />}>\n                    <ShippingAndPaymentReview\n                      order={order}\n                      onChangePayment={this.onChangePayment}\n                      onChangeShipping={this.onChangeShipping}\n                      mb={xs ? 2 : 3}\n                    />\n\n                    {!xs && (\n                      <>\n                        <ItemReview\n                          artwork={order.lineItems.edges[0].node.artwork}\n                        />\n                        <Spacer mb={3} />\n                        <Button\n                          size=\"large\"\n                          width=\"100%\"\n                          loading={isSubmitting}\n                          onClick={() => this.onOrderSubmitted()}\n                        >\n                          Submit\n                        </Button>\n                        <Spacer mb={2} />\n                        <Sans textAlign=\"center\" size=\"2\" color=\"black60\">\n                          By clicking Submit, I agree to Artsy’s{\" \"}\n                          <a\n                            href=\"https://www.artsy.net/conditions-of-sale\"\n                            target=\"_blank\"\n                          >\n                            Conditions of Sale\n                          </a>\n                          .\n                        </Sans>\n                      </>\n                    )}\n                  </Join>\n                  <Spacer mb={3} />\n                </>\n              }\n              Sidebar={\n                <Flex flexDirection=\"column\">\n                  <TransactionSummary order={order} mb={xs ? 2 : 3} />\n                  {!xs && (\n                    <Helper\n                      artworkId={order.lineItems.edges[0].node.artwork.id}\n                    />\n                  )}\n                  {xs && (\n                    <>\n                      <Button\n                        size=\"large\"\n                        width=\"100%\"\n                        loading={isSubmitting}\n                        onClick={() => this.onOrderSubmitted()}\n                      >\n                        Submit\n                      </Button>\n                      <Spacer mb={2} />\n                      <Sans size=\"2\" color=\"black60\">\n                        By clicking Submit, I agree to Artsy’s{\" \"}\n                        <a\n                          href=\"https://www.artsy.net/conditions-of-sale\"\n                          target=\"_blank\"\n                        >\n                          Conditions of Sale\n                        </a>\n                        .\n                      </Sans>\n                      <Spacer mb={2} />\n                      <Helper\n                        artworkId={order.lineItems.edges[0].node.artwork.id}\n                      />\n                    </>\n                  )}\n                </Flex>\n              }\n            />\n          )}\n        </Responsive>\n\n        <ErrorModal\n          onClose={this.onCloseModal}\n          show={this.state.isErrorModalOpen}\n          detailText={this.state.errorModalMessage}\n        />\n      </>\n    )\n  }\n}\n\nexport const ReviewFragmentContainer = createFragmentContainer(\n  ReviewRoute,\n  graphql`\n    fragment Review_order on Order {\n      id\n      lineItems {\n        edges {\n          node {\n            artwork {\n              id\n              ...ItemReview_artwork\n            }\n          }\n        }\n      }\n      ...TransactionSummary_order\n      ...ShippingAndPaymentReview_order\n    }\n  `\n)\n"]}]}