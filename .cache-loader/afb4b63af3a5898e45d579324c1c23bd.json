{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/eve/development/reaction/src/Components/Onboarding/Wizard.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Onboarding/Wizard.tsx","mtime":1537442692000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1537112679000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["var _dec, _class;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\";\nimport { Redirect, Route } from \"react-router\";\nimport track from \"react-tracking\";\nimport Events from \"../../Utils/Events\";\nimport { ProgressIndicator } from \"../ProgressIndicator\";\nimport Artists from \"./Steps/Artists\";\nimport Budget, { BudgetComponent } from \"./Steps/Budget\";\nimport CollectorIntent, { CollectorIntentComponent } from \"./Steps/CollectorIntent\";\nimport Genes from \"./Steps/Genes\";\nvar STEPS = [\"/personalize/\".concat(CollectorIntentComponent.slug), \"/personalize/\".concat(Artists.slug), \"/personalize/\".concat(Genes.slug), \"/personalize/\".concat(BudgetComponent.slug)];\nexport var Wizard = (_dec = track({}, {\n  dispatch: function dispatch(data) {\n    return Events.postEvent(data);\n  }\n}), _dec(_class =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Wizard, _React$Component);\n\n  function Wizard(props) {\n    var _this;\n\n    _classCallCheck(this, Wizard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Wizard).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onNextButtonPressed\", function (increaseBy, history) {\n      history.push(STEPS[STEPS.indexOf(location.pathname) + increaseBy]);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onFinish\", function () {\n      _this.setState({\n        finished: true\n      });\n\n      setTimeout(function () {\n        return window.location.href = _this.props.redirectTo || \"/\";\n      }, 500);\n\n      _this.props.tracking.trackEvent({\n        action: \"Completed Onboarding\"\n      });\n    });\n\n    _this.state = {\n      finished: false\n    };\n    return _this;\n  }\n\n  _createClass(Wizard, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", null, React.createElement(Route, {\n        path: \"/personalize/*\",\n        render: function render() {\n          return React.createElement(ProgressIndicator, {\n            percentComplete: _this2.state.finished ? 1 : STEPS.indexOf(location.pathname) / STEPS.length\n          });\n        }\n      }), React.createElement(Route, {\n        path: \"/personalize/\".concat(CollectorIntentComponent.slug),\n        render: function render(props) {\n          return React.createElement(CollectorIntent, _extends({}, props, {\n            onNextButtonPressed: function onNextButtonPressed() {\n              var increaseBy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n              return _this2.onNextButtonPressed(increaseBy, props.history);\n            }\n          }));\n        }\n      }), React.createElement(Route, {\n        path: \"/personalize/\".concat(Artists.slug),\n        render: function render(props) {\n          return React.createElement(Artists, _extends({}, props, {\n            onNextButtonPressed: function onNextButtonPressed() {\n              var increaseBy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n              return _this2.onNextButtonPressed(increaseBy, props.history);\n            }\n          }));\n        }\n      }), React.createElement(Route, {\n        path: \"/personalize/\".concat(Genes.slug),\n        render: function render(props) {\n          return React.createElement(Genes, _extends({}, props, {\n            onNextButtonPressed: function onNextButtonPressed() {\n              var increaseBy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n              return _this2.onNextButtonPressed(increaseBy, props.history);\n            }\n          }));\n        }\n      }), React.createElement(Route, {\n        path: \"/personalize/\".concat(BudgetComponent.slug),\n        render: function render(props) {\n          return React.createElement(Budget, _extends({}, props, {\n            onNextButtonPressed: function onNextButtonPressed() {\n              return _this2.onFinish();\n            }\n          }));\n        }\n      }), new RegExp(\"^/personalize(?!(/\".concat(CollectorIntentComponent.slug, \"|/\").concat(Artists.slug, \"|/\").concat(Genes.slug, \"|/\").concat(BudgetComponent.slug, \")).*$\")).exec(location.pathname) && React.createElement(Redirect, {\n        to: \"/personalize/\".concat(CollectorIntentComponent.slug)\n      }));\n    }\n  }]);\n\n  return Wizard;\n}(React.Component)) || _class);",{"version":3,"sources":["/Users/eve/development/reaction/src/Components/Onboarding/Wizard.tsx"],"names":["React","Redirect","Route","track","Events","ProgressIndicator","Artists","Budget","BudgetComponent","CollectorIntent","CollectorIntentComponent","Genes","STEPS","slug","Wizard","dispatch","data","postEvent","props","increaseBy","history","push","indexOf","location","pathname","setState","finished","setTimeout","window","href","redirectTo","tracking","trackEvent","action","state","length","onNextButtonPressed","onFinish","RegExp","exec","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { Redirect, Route } from \"react-router\"\n\nimport track from \"react-tracking\"\nimport Events from \"../../Utils/Events\"\nimport { ProgressIndicator } from \"../ProgressIndicator\"\n\nimport Artists from \"./Steps/Artists\"\nimport Budget, { BudgetComponent } from \"./Steps/Budget\"\nimport CollectorIntent, {\n  CollectorIntentComponent,\n} from \"./Steps/CollectorIntent\"\nimport Genes from \"./Steps/Genes\"\n\nconst STEPS = [\n  `/personalize/${CollectorIntentComponent.slug}`,\n  `/personalize/${Artists.slug}`,\n  `/personalize/${Genes.slug}`,\n  `/personalize/${BudgetComponent.slug}`,\n]\n\nexport interface Props {\n  redirectTo?: string\n  tracking?: any\n}\n\nexport interface State {\n  finished: boolean\n}\n\n@track({}, { dispatch: data => Events.postEvent(data) })\nexport class Wizard extends React.Component<Props, State> {\n  constructor(props) {\n    super(props)\n    this.state = {\n      finished: false,\n    }\n  }\n\n  onNextButtonPressed = (increaseBy: number, history) => {\n    history.push(STEPS[STEPS.indexOf(location.pathname) + increaseBy])\n  }\n\n  onFinish = () => {\n    this.setState({ finished: true })\n    setTimeout(() => (window.location.href = this.props.redirectTo || \"/\"), 500)\n\n    this.props.tracking.trackEvent({\n      action: \"Completed Onboarding\",\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <Route\n          path=\"/personalize/*\"\n          render={() => (\n            <ProgressIndicator\n              percentComplete={\n                this.state.finished\n                  ? 1\n                  : STEPS.indexOf(location.pathname) / STEPS.length\n              }\n            />\n          )}\n        />\n\n        <Route\n          path={`/personalize/${CollectorIntentComponent.slug}`}\n          render={props => (\n            <CollectorIntent\n              {...props}\n              onNextButtonPressed={(increaseBy = 1) =>\n                this.onNextButtonPressed(increaseBy, props.history)\n              }\n            />\n          )}\n        />\n        <Route\n          path={`/personalize/${Artists.slug}`}\n          render={props => (\n            <Artists\n              {...props}\n              onNextButtonPressed={(increaseBy = 1) =>\n                this.onNextButtonPressed(increaseBy, props.history)\n              }\n            />\n          )}\n        />\n        <Route\n          path={`/personalize/${Genes.slug}`}\n          render={props => (\n            <Genes\n              {...props}\n              onNextButtonPressed={(increaseBy = 1) =>\n                this.onNextButtonPressed(increaseBy, props.history)\n              }\n            />\n          )}\n        />\n        <Route\n          path={`/personalize/${BudgetComponent.slug}`}\n          render={props => (\n            <Budget {...props} onNextButtonPressed={() => this.onFinish()} />\n          )}\n        />\n\n        {new RegExp(\n          `^/personalize(?!(/${CollectorIntentComponent.slug}|/${\n            Artists.slug\n          }|/${Genes.slug}|/${BudgetComponent.slug})).*$`\n        ).exec(location.pathname) && (\n          <Redirect to={`/personalize/${CollectorIntentComponent.slug}`} />\n        )}\n      </div>\n    )\n  }\n}\n"]}]}