{"remainingRequest":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js??ref--5-1!/Users/eve/development/reaction/src/Components/Publishing/ToolTip/ArtistToolTip.tsx","dependencies":[{"path":"/Users/eve/development/reaction/src/Components/Publishing/ToolTip/ArtistToolTip.tsx","mtime":1527880679000},{"path":"/Users/eve/development/reaction/.babelrc","mtime":1527877289000},{"path":"/Users/eve/development/reaction/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/eve/development/reaction/node_modules/babel-loader/lib/index.js","mtime":1509489566000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ArtistToolTipContainer = exports.TitleDate = exports.ArtistContainer = exports.ArtistToolTip = void 0;\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _reactRelay = require(\"react-relay\");\n\nvar _fillwidth = _interopRequireDefault(require(\"../../../Utils/fillwidth\"));\n\nvar _track = require(\"../../../Utils/track\");\n\nvar _Fonts = require(\"../../../Assets/Fonts\");\n\nvar _NewFeature = require(\"./Components/NewFeature\");\n\nvar _Description = require(\"./Components/Description\");\n\nvar _FollowArtistButton = _interopRequireDefault(require(\"../../FollowButton/FollowArtistButton\"));\n\nvar _MarketDataSummary = _interopRequireWildcard(require(\"../../Artist/MarketDataSummary/MarketDataSummary\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nvar ArtistToolTip =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ArtistToolTip, _React$Component);\n\n  function ArtistToolTip() {\n    var _ref;\n\n    var _temp, _this;\n\n    _classCallCheck(this, ArtistToolTip);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _possibleConstructorReturn(_this, (_temp = _this = _possibleConstructorReturn(this, (_ref = ArtistToolTip.__proto__ || Object.getPrototypeOf(ArtistToolTip)).call.apply(_ref, [this].concat(args))), Object.defineProperty(_assertThisInitialized(_this), \"trackClick\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value() {\n        var tracking = _this.props.tracking;\n        var href = _this.props.artist.href;\n        tracking.trackEvent({\n          action: \"Click\",\n          flow: \"tooltip\",\n          type: \"artist stub\",\n          context_module: \"intext tooltip\",\n          destination_path: href\n        });\n      }\n    }), Object.defineProperty(_assertThisInitialized(_this), \"renderArtistGenes\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value() {\n        var genes = _this.props.artist.genes;\n\n        if (genes.length) {\n          return (0, _lodash.map)(genes, \"name\").join(\", \");\n        }\n      }\n    }), _temp));\n  }\n\n  _createClass(ArtistToolTip, [{\n    key: \"render\",\n    value: function render() {\n      var _props = this.props,\n          showMarketData = _props.showMarketData,\n          artist = _props.artist;\n      var blurb = artist.blurb,\n          carousel = artist.carousel,\n          formatted_nationality_and_birthday = artist.formatted_nationality_and_birthday,\n          href = artist.href,\n          id = artist.id,\n          _id = artist._id,\n          name = artist.name;\n      var _context = this.context,\n          artists = _context.toolTipsData.artists,\n          onOpenAuthModal = _context.onOpenAuthModal;\n      var displayImages = (0, _lodash.map)(carousel.images.slice(0, 2), \"resized\");\n      var images = (0, _fillwidth.default)(displayImages, 320, 15, 150);\n      var trackingData = {\n        context_module: \"intext tooltip\",\n        entity_id: _id,\n        entity_slug: id,\n        entity_type: \"artist\"\n      };\n      return _react.default.createElement(Wrapper, null, _react.default.createElement(ArtistContainer, null, images && _react.default.createElement(Images, {\n        href: href,\n        onClick: this.trackClick\n      }, images.map(function (img, i) {\n        return _react.default.createElement(\"div\", {\n          key: i\n        }, _react.default.createElement(\"img\", {\n          src: img.__id\n        }));\n      })), _react.default.createElement(Header, null, _react.default.createElement(TitleDate, {\n        href: href,\n        target: \"_blank\",\n        onClick: this.trackClick\n      }, _react.default.createElement(Title, null, name), formatted_nationality_and_birthday && _react.default.createElement(Date, null, formatted_nationality_and_birthday)), _react.default.createElement(_FollowArtistButton.default, {\n        artist: artists[id],\n        trackingData: trackingData,\n        onOpenAuthModal: onOpenAuthModal\n      })), _react.default.createElement(\"a\", {\n        href: href,\n        target: \"_blank\",\n        onClick: this.trackClick\n      }, showMarketData ? _react.default.createElement(_MarketDataSummary.default, {\n        artist: artists[id],\n        onEmptyText: this.renderArtistGenes()\n      }) : blurb && _react.default.createElement(_Description.ToolTipDescription, {\n        text: blurb\n      }))), _react.default.createElement(_NewFeature.NewFeature, null));\n    }\n  }]);\n\n  return ArtistToolTip;\n}(_react.default.Component);\n\nexports.ArtistToolTip = ArtistToolTip;\nObject.defineProperty(ArtistToolTip, \"contextTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    toolTipsData: _propTypes.default.object,\n    onOpenAuthModal: _propTypes.default.func\n  }\n});\n\nvar Wrapper =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"ArtistToolTip__Wrapper\",\n  componentId: \"waw8a6-0\"\n})([\"width:320px;\"]);\n\nvar ArtistContainer =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"ArtistToolTip__ArtistContainer\",\n  componentId: \"waw8a6-1\"\n})([\"position:relative;a{text-decoration:none;color:black;&:hover{color:black;}}\", \"{\", \";padding-bottom:10px;}\"], _MarketDataSummary.MarketDataSummaryContainer, (0, _Fonts.unica)(\"s12\"));\n\nexports.ArtistContainer = ArtistContainer;\n\nvar Header =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"ArtistToolTip__Header\",\n  componentId: \"waw8a6-2\"\n})([\"display:flex;flex-direction:row;justify-content:space-between;padding-bottom:10px;\"]);\n\nvar TitleDate =\n/*#__PURE__*/\n_styledComponents.default.a.withConfig({\n  displayName: \"ArtistToolTip__TitleDate\",\n  componentId: \"waw8a6-3\"\n})([\"display:flex;flex-direction:column;\"]);\n\nexports.TitleDate = TitleDate;\n\nvar Title =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"ArtistToolTip__Title\",\n  componentId: \"waw8a6-4\"\n})([\"\", \";font-weight:600;\"], (0, _Fonts.garamond)(\"s18\"));\n\nvar Date =\n/*#__PURE__*/\n_styledComponents.default.div.withConfig({\n  displayName: \"ArtistToolTip__Date\",\n  componentId: \"waw8a6-5\"\n})([\"\", \";\"], (0, _Fonts.unica)(\"s14\", \"medium\"));\n\nvar Images =\n/*#__PURE__*/\n_styledComponents.default.a.withConfig({\n  displayName: \"ArtistToolTip__Images\",\n  componentId: \"waw8a6-6\"\n})([\"width:100%;margin-bottom:20px;display:flex;justify-content:space-between;div:first-child{margin-right:15px;}img{width:100%;height:auto;}\"]);\n\nvar ArtistToolTipContainer = (0, _track.track)()((0, _reactRelay.createFragmentContainer)(ArtistToolTip, {\n  artist: function artist() {\n    var node = require(\"../../../__generated__/ArtistToolTip_artist.graphql\");\n\n    if (node.hash && node.hash !== \"b66365bad87a0ff55816fd0106213acb\") {\n      console.error(\"The definition of 'ArtistToolTip_artist' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\");\n    }\n\n    return require(\"../../../__generated__/ArtistToolTip_artist.graphql\");\n  }\n}));\nexports.ArtistToolTipContainer = ArtistToolTipContainer;",{"version":3,"sources":["src/Components/Publishing/ToolTip/ArtistToolTip.tsx"],"names":["ArtistToolTip","tracking","props","href","artist","trackEvent","action","flow","type","context_module","destination_path","genes","length","join","showMarketData","blurb","carousel","formatted_nationality_and_birthday","id","_id","name","context","artists","toolTipsData","onOpenAuthModal","displayImages","images","slice","trackingData","entity_id","entity_slug","entity_type","trackClick","map","img","i","__id","renderArtistGenes","Component","object","func","Wrapper","div","ArtistContainer","Header","TitleDate","a","Title","Date","Images","ArtistToolTipContainer"],"mappings":"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","file":"/Users/eve/development/reaction/src/Components/Publishing/ToolTip/ArtistToolTip.tsx","sourceRoot":"/Users/eve/development/reaction","sourcesContent":["import styled from \"styled-components\"\nimport PropTypes from \"prop-types\"\nimport React from \"react\"\nimport { map } from \"lodash\"\nimport { createFragmentContainer, graphql } from \"react-relay\"\nimport fillwidthDimensions from \"../../../Utils/fillwidth\"\nimport { track } from \"../../../Utils/track\"\nimport { garamond, unica } from \"Assets/Fonts\"\nimport { ArtistToolTip_artist } from \"../../../__generated__/ArtistToolTip_artist.graphql\"\nimport { FollowTrackingData } from \"../../FollowButton/Typings\"\nimport { NewFeature } from \"./Components/NewFeature\"\nimport { ToolTipDescription } from \"./Components/Description\"\nimport FollowArtistButton from \"../../FollowButton/FollowArtistButton\"\nimport MarketDataSummary, {\n  MarketDataSummaryContainer,\n} from \"../../Artist/MarketDataSummary/MarketDataSummary\"\n\nexport interface ArtistToolTipProps {\n  showMarketData?: boolean\n  artist: ArtistToolTip_artist\n  tracking?: any\n}\n\nexport class ArtistToolTip extends React.Component<ArtistToolTipProps> {\n  static contextTypes = {\n    toolTipsData: PropTypes.object,\n    onOpenAuthModal: PropTypes.func,\n  }\n\n  trackClick = () => {\n    const { tracking } = this.props\n    const { href } = this.props.artist\n\n    tracking.trackEvent({\n      action: \"Click\",\n      flow: \"tooltip\",\n      type: \"artist stub\",\n      context_module: \"intext tooltip\",\n      destination_path: href,\n    })\n  }\n\n  renderArtistGenes = () => {\n    const { genes } = this.props.artist\n\n    if (genes.length) {\n      return map(genes, \"name\").join(\", \")\n    }\n  }\n\n  render() {\n    const { showMarketData, artist } = this.props\n    const {\n      blurb,\n      carousel,\n      formatted_nationality_and_birthday,\n      href,\n      id,\n      _id,\n      name,\n    } = artist\n    const {\n      toolTipsData: { artists },\n      onOpenAuthModal,\n    } = this.context\n    const displayImages = map(carousel.images.slice(0, 2), \"resized\")\n\n    const images = fillwidthDimensions(displayImages, 320, 15, 150)\n\n    const trackingData: FollowTrackingData = {\n      context_module: \"intext tooltip\",\n      entity_id: _id,\n      entity_slug: id,\n      entity_type: \"artist\",\n    }\n\n    return (\n      <Wrapper>\n        <ArtistContainer>\n          {images && (\n            <Images href={href} onClick={this.trackClick}>\n              {images.map((img, i) => (\n                <div key={i}>\n                  <img src={img.__id} />\n                </div>\n              ))}\n            </Images>\n          )}\n\n          <Header>\n            <TitleDate href={href} target=\"_blank\" onClick={this.trackClick}>\n              <Title>{name}</Title>\n              {formatted_nationality_and_birthday && (\n                <Date>{formatted_nationality_and_birthday}</Date>\n              )}\n            </TitleDate>\n            <FollowArtistButton\n              artist={artists[id] as any}\n              trackingData={trackingData}\n              onOpenAuthModal={onOpenAuthModal}\n            />\n          </Header>\n\n          <a href={href} target=\"_blank\" onClick={this.trackClick}>\n            {showMarketData ? (\n              <MarketDataSummary\n                artist={artists[id] as any}\n                onEmptyText={this.renderArtistGenes()}\n              />\n            ) : (\n              blurb && <ToolTipDescription text={blurb} />\n            )}\n          </a>\n        </ArtistContainer>\n\n        <NewFeature />\n      </Wrapper>\n    )\n  }\n}\n\nconst Wrapper = styled.div`\n  width: 320px;\n`\n\nexport const ArtistContainer = styled.div`\n  position: relative;\n  a {\n    text-decoration: none;\n    color: black;\n    &:hover {\n      color: black;\n    }\n  }\n  ${MarketDataSummaryContainer} {\n    ${unica(\"s12\")};\n    padding-bottom: 10px;\n  }\n`\n\nconst Header = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding-bottom: 10px;\n`\n\nexport const TitleDate = styled.a`\n  display: flex;\n  flex-direction: column;\n`\n\nconst Title = styled.div`\n  ${garamond(\"s18\")};\n  font-weight: 600;\n`\n\nconst Date = styled.div`\n  ${unica(\"s14\", \"medium\")};\n`\n\nconst Images = styled.a`\n  width: 100%;\n  margin-bottom: 20px;\n  display: flex;\n  justify-content: space-between;\n  div:first-child {\n    margin-right: 15px;\n  }\n  img {\n    width: 100%;\n    height: auto;\n  }\n`\n\nexport const ArtistToolTipContainer = track()(\n  createFragmentContainer(\n    ArtistToolTip,\n    graphql`\n      fragment ArtistToolTip_artist on Artist {\n        name\n        id\n        _id\n        formatted_nationality_and_birthday\n        href\n        blurb\n        carousel {\n          images {\n            resized(height: 200) {\n              url\n              width\n              height\n            }\n          }\n        }\n        genes {\n          name\n        }\n      }\n    `\n  )\n)\n"]}]}